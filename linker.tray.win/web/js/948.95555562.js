(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[948],{743:function(e,t,l){"use strict";l.d(t,{$U:function(){return s},Ap:function(){return r},Co:function(){return o},DY:function(){return u},Qs:function(){return i},eX:function(){return d},pY:function(){return a}});var n=l(4);const r=()=>(0,n.zG)("sforwardclient/GetSecretKey"),o=e=>(0,n.zG)("sforwardclient/SetSecretKey",e),a=(e="0")=>(0,n.zG)("sforwardclient/get",e),s=e=>(0,n.zG)("sforwardclient/getremote",e),u=e=>(0,n.zG)("sforwardclient/remove",e),i=e=>(0,n.zG)("sforwardclient/add",e),d=()=>(0,n.zG)("sforwardclient/TestLocal")},83:function(e,t,l){"use strict";l.d(t,{$M:function(){return i},KW:function(){return u},S3:function(){return c},Vn:function(){return d},b0:function(){return o},gM:function(){return s},ix:function(){return r},r7:function(){return a}});var n=l(4);const r=()=>(0,n.zG)("tunnel/gettypes"),o=e=>(0,n.zG)("tunnel/SetServers",e),a=(e="0")=>(0,n.zG)("tunnel/get",e),s=()=>(0,n.zG)("tunnel/refresh"),u=e=>(0,n.zG)("tunnel/SetRouteLevel",e),i=e=>(0,n.zG)("tunnel/SetTransports",e),d=()=>(0,n.zG)("tunnel/GeInterfaces"),c=e=>(0,n.zG)("tunnel/SetInterface",e)},920:function(e,t,l){"use strict";l.d(t,{BJ:function(){return d},NS:function(){return a},Vk:function(){return i},aP:function(){return p},ir:function(){return u},lJ:function(){return o},mK:function(){return r},y2:function(){return c},yN:function(){return s}});var n=l(4);const r=(e="0")=>(0,n.zG)("updaterclient/get",e),o=e=>(0,n.zG)("updaterclient/confirm",e),a=e=>(0,n.zG)("updaterclient/exit",e),s=()=>(0,n.zG)("updaterclient/GetSecretKey"),u=e=>(0,n.zG)("updaterclient/SetSecretKey",e),i=()=>(0,n.zG)("updaterclient/getcurrent"),d=()=>(0,n.zG)("updaterclient/getserver"),c=e=>(0,n.zG)("updaterclient/confirmserver",e),p=()=>(0,n.zG)("updaterclient/exitserver")},890:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return c}});var n=l(6768);const r={key:0,class:"servers-wrap"};function o(e,t,l,o,a,s){const u=(0,n.g2)("el-tab-pane"),i=(0,n.g2)("el-tabs");return o.hasConfig?((0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(i,{type:"border-card",style:{width:"100%"},modelValue:o.state.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>o.state.tab=e)},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.settingComponents,((e,t)=>((0,n.uX)(),(0,n.Wv)(u,{key:t,label:e.label,name:e.name},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e)))])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])):(0,n.Q3)("",!0)}var a=l(144),s=l(3830),u={components:{},setup(e){const t=["./Index.vue","./Version.vue"],r=l(9317),o=r.keys().filter((e=>0==t.includes(e))).map((e=>r(e).default)).sort(((e,t)=>e.order-t.order)),u=(0,s.B)(),i=(0,n.EW)((()=>u.value.hasAccess("Config"))),d=(0,a.Kh)({tab:o[0].name});return{state:d,settingComponents:o,hasConfig:i}}},i=l(1241);const d=(0,i.A)(u,[["render",o],["__scopeId","data-v-1f4aa573"]]);var c=d},6023:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return g}});var n=l(6768),r=l(4232);function o(e,t,l,o,a,s){const u=(0,n.g2)("el-input"),i=(0,n.g2)("el-table-column"),d=(0,n.g2)("el-option"),c=(0,n.g2)("el-select"),p=(0,n.g2)("el-switch"),h=(0,n.g2)("el-table");return(0,n.uX)(),(0,n.Wv)(h,{data:o.state.list,border:"",size:"small",width:"100%",height:`${o.state.height}px`,onCellDblclick:o.handleCellClick},{default:(0,n.k6)((()=>[(0,n.bF)(i,{prop:"Name",label:"名称",width:"100"},{default:(0,n.k6)((e=>[e.row.NameEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,autofocus:"",size:"small",modelValue:e.row.Name,"onUpdate:modelValue":t=>e.row.Name=t,onBlur:t=>o.handleEditBlur(e.row,"Name")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.row.Name),1)],64))])),_:1}),(0,n.bF)(i,{prop:"RelayType",label:"类别",width:"100"},{default:(0,n.k6)((e=>[(0,n.bF)(c,{disabled:"",modelValue:e.row.RelayType,"onUpdate:modelValue":t=>e.row.RelayType=t,placeholder:"Select",size:"small",onChange:t=>o.handleEditBlur(e.row,"RelayType")},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.state.types,(e=>((0,n.uX)(),(0,n.Wv)(d,{key:e.Value,label:e.Name,value:e.Value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,n.bF)(i,{prop:"Host",label:"地址"},{default:(0,n.k6)((e=>[e.row.HostEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,autofocus:"",size:"small",modelValue:e.row.Host,"onUpdate:modelValue":t=>e.row.Host=t,onBlur:t=>o.handleEditBlur(e.row,"Host")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("span",{class:(0,r.C4)({red:!e.row.Available,green:e.row.Available})},(0,r.v_)(e.row.Host),3),(0,n.Lk)("span",{class:(0,r.C4)({red:-1==e.row.Delay,green:e.row.Delay<500&&e.row.Delay>=0,yellow:e.row.Delay>=500})}," - "+(0,r.v_)(e.row.Delay)+"ms",3)],64))])),_:1}),(0,n.bF)(i,{prop:"SecretKey",label:"秘钥"},{default:(0,n.k6)((e=>[e.row.SecretKeyEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,type:"password","show-password":"",size:"small",modelValue:e.row.SecretKey,"onUpdate:modelValue":t=>e.row.SecretKey=t,onBlur:t=>o.handleEditBlur(e.row,"SecretKey")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[],64))])),_:1}),(0,n.bF)(i,{property:"SSL",label:"SSL",width:"60"},{default:(0,n.k6)((e=>[(0,n.bF)(p,{modelValue:e.row.SSL,"onUpdate:modelValue":t=>e.row.SSL=t,onChange:t=>o.handleEditBlur(e.row,"SSL"),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,n.bF)(i,{property:"Disabled",label:"禁用",width:"60"},{default:(0,n.k6)((e=>[(0,n.bF)(p,{modelValue:e.row.Disabled,"onUpdate:modelValue":t=>e.row.Disabled=t,onChange:t=>o.handleEditBlur(e.row,"Disabled"),"inline-prompt":"","active-text":"是","inactive-text":"否",style:{"--el-switch-on-color":"red","--el-switch-off-color":"#ddd"}},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1})])),_:1},8,["data","height","onCellDblclick"])}var a=l(4);const s=()=>(0,a.zG)("relay/gettypes"),u=e=>(0,a.zG)("relay/SetServers",e);var i=l(3830),d=l(1219),c=l(144),p=l(7477),h={label:"中继服务器",name:"relayServers",order:4,components:{Delete:p.epd,Plus:p.FWt,Top:p.EjV,Bottom:p.i5o},setup(e){const t=(0,i.B)(),l=(0,c.Kh)({list:t.value.config.Client.Relay.Servers.sort(((e,t)=>e.Disabled-t.Disabled)),types:[],height:(0,n.EW)((()=>t.value.height-90))});(0,n.wB)((()=>t.value.config.Client.Relay.Servers),(()=>{0==l.list.filter((e=>e["__editing"])).length&&(l.list=t.value.config.Client.Relay.Servers.sort(((e,t)=>e.Disabled-t.Disabled)))}));const r=()=>{s().then((e=>{l.types=e}))},o=(e,t)=>{a(e,t.property)},a=(e,t)=>{l.list.forEach((e=>{e["NameEditing"]=!1,e["RelayTypeEditing"]=!1,e["HostEditing"]=!1,e["SecretKeyEditing"]=!1})),e["__editing"]=!0,e[`${t}Editing`]=!0},p=(e,t)=>{e[`${t}Editing`]=!1,e["__editing"]=!1,g()},h=e=>{l.list.splice(e,1),g()},m=e=>{l.list.filter((e=>""==e.Host||""==e.Name)).length>0||(l.list.splice(e+1,0,{Name:"",Host:"",RelayType:0,SecretKey:"snltty",Disabled:!1}),g())},f=(e,t)=>{const n=l.list[e],r=l.list[e+t];n&&r&&(l.list[e+t]=n,l.list[e]=r),g(l.list)},g=()=>{l.list=l.list.slice().sort(((e,t)=>e.Disabled-t.Disabled)),u(l.list).then((()=>{d.nk.success("已操作")})).catch((()=>{d.nk.success("操作失败")}))};return(0,n.sV)((()=>{r()})),{state:l,handleCellClick:o,handleEditBlur:p,handleDel:h,handleAdd:m,handleSort:f}}},m=l(1241);const f=(0,m.A)(h,[["render",o],["__scopeId","data-v-04f7666e"]]);var g=f},6851:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var n=l(6768);const r={style:{width:"30rem",padding:"5rem 0",margin:"0 auto"}},o=(0,n.Lk)("p",{class:"t-c"}," 服务器代理穿透密钥 ",-1);function a(e,t,l,a,s,u){const i=(0,n.g2)("el-input");return(0,n.uX)(),(0,n.CE)("div",r,[o,(0,n.Lk)("p",null,[(0,n.bF)(i,{type:"password","show-password":"",modelValue:a.state.SForwardSecretKey,"onUpdate:modelValue":t[0]||(t[0]=e=>a.state.SForwardSecretKey=e),maxlength:"36",onBlur:a.handleChange},null,8,["modelValue","onBlur"])])])}var s=l(743),u=l(3830),i=l(1219),d=l(144),c={label:"服务器穿透",name:"sforward",order:5,setup(e){(0,u.B)();const t=(0,d.Kh)({SForwardSecretKey:""}),l=()=>{(0,s.Ap)().then((e=>{t.SForwardSecretKey=e}))},r=()=>{t.SForwardSecretKey&&(0,s.Co)(t.SForwardSecretKey).then((()=>{i.nk.success("已操作")})).catch((()=>{i.nk.success("操作失败")}))},o=()=>{r()};return(0,n.sV)((()=>{l()})),{state:t,handleChange:o}}},p=l(1241);const h=(0,p.A)(c,[["render",a]]);var m=h},3142:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var n=l(6768),r=l(4232);function o(e,t,l,o,a,s){const u=(0,n.g2)("el-input"),i=(0,n.g2)("el-table-column"),d=(0,n.g2)("el-table");return(0,n.uX)(),(0,n.Wv)(d,{data:o.state.list,border:"",size:"small",width:"100%",height:`${o.state.height}px`,onCellDblclick:o.handleCellClick},{default:(0,n.k6)((()=>[(0,n.bF)(i,{prop:"Name",label:"名称",width:"100"},{default:(0,n.k6)((e=>[e.row.NameEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,autofocus:"",size:"small",modelValue:e.row.Name,"onUpdate:modelValue":t=>e.row.Name=t,onBlur:t=>o.handleEditBlur(e.row,"Name")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.row.Name),1)],64))])),_:1}),(0,n.bF)(i,{prop:"Host",label:"地址"},{default:(0,n.k6)((e=>[e.row.HostEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,autofocus:"",size:"small",modelValue:e.row.Host,"onUpdate:modelValue":t=>e.row.Host=t,onBlur:t=>o.handleEditBlur(e.row,"Host")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.row.Host),1)],64))])),_:1}),(0,n.bF)(i,{prop:"SecretKey",label:"秘钥"},{default:(0,n.k6)((e=>[e.row.SecretKeyEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,type:"password","show-password":"",size:"small",modelValue:e.row.SecretKey,"onUpdate:modelValue":t=>e.row.SecretKey=t,onBlur:t=>o.handleEditBlur(e.row,"SecretKey")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[],64))])),_:1})])),_:1},8,["data","height","onCellDblclick"])}var a=l(9299),s=l(3830),u=l(1219),i=l(144),d=l(7477),c={label:"信标服务器",name:"signInServers",order:0,components:{Delete:d.epd,Plus:d.FWt,Select:d.l6P},setup(e){const t=(0,s.B)(),l=(0,i.Kh)({list:t.value.config.Client.Servers||[],server:(0,n.EW)((()=>t.value.config.Client.ServerInfo.Host)),height:(0,n.EW)((()=>t.value.height-90))});(0,n.wB)((()=>t.value.config.Client.Servers),(()=>{0==l.list.filter((e=>e["__editing"])).length&&(l.list=t.value.config.Client.Servers)}));const r=(e,t)=>{o(e,t.property)},o=(e,t)=>{l.list.forEach((e=>{e["NameEditing"]=!1,e["HostEditing"]=!1,e["SecretKeyEditing"]=!1})),e[`${t}Editing`]=!0,e["__editing"]=!0},d=(e,t)=>{e[`${t}Editing`]=!1,e["__editing"]=!1,m()},c=e=>{l.list.splice(e,1),m()},p=e=>{l.list.filter((e=>""==e.Host||""==e.Name)).length>0||(l.list.splice(e+1,0,{Name:"",Host:""}),m())},h=e=>{const t=l.list[e];l.list[e]=l.list[0],l.list[0]=t,m()},m=()=>{(0,a.jU)(l.list).then((()=>{u.nk.success("已操作")})).catch((()=>{u.nk.success("操作失败")}))};return{state:l,handleCellClick:r,handleEditBlur:d,handleDel:c,handleAdd:p,handleUse:h}}},p=l(1241);const h=(0,p.A)(c,[["render",o]]);var m=h},1889:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var n=l(6768),r=l(4232);function o(e,t,l,o,a,s){const u=(0,n.g2)("el-input"),i=(0,n.g2)("el-table-column"),d=(0,n.g2)("el-option"),c=(0,n.g2)("el-select"),p=(0,n.g2)("el-table");return(0,n.uX)(),(0,n.Wv)(p,{data:o.state.list,border:"",size:"small",width:"100%",height:`${o.state.height}px`,onCellDblclick:o.handleCellClick},{default:(0,n.k6)((()=>[(0,n.bF)(i,{prop:"Name",label:"名称",width:"100"},{default:(0,n.k6)((e=>[e.row.NameEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,autofocus:"",size:"small",modelValue:e.row.Name,"onUpdate:modelValue":t=>e.row.Name=t,onBlur:t=>o.handleEditBlur(e.row,"Name")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.row.Name),1)],64))])),_:1}),(0,n.bF)(i,{prop:"ProtocolType",label:"协议",width:"100"},{default:(0,n.k6)((e=>[(0,n.Lk)("div",null,[(0,n.bF)(c,{disabled:"",modelValue:e.row.ProtocolType,"onUpdate:modelValue":t=>e.row.ProtocolType=t,placeholder:"Select",size:"small",onChange:t=>o.handleEditBlur(e.row,"ProtocolType")},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.row.Protocols,((e,t)=>((0,n.uX)(),(0,n.Wv)(d,{key:+t,label:e,value:+t},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])])),_:1}),(0,n.bF)(i,{prop:"Type",label:"类别",width:"100"},{default:(0,n.k6)((e=>[(0,n.bF)(c,{disabled:"",modelValue:e.row.Type,"onUpdate:modelValue":t=>e.row.Type=t,placeholder:"Select",size:"small",onChange:t=>o.handleEditBlur(e.row,"Type")},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.state.types,(e=>((0,n.uX)(),(0,n.Wv)(d,{key:e.Value,label:e.Name,value:e.Value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,n.bF)(i,{prop:"Host",label:"地址"},{default:(0,n.k6)((e=>[e.row.HostEditing?((0,n.uX)(),(0,n.Wv)(u,{key:0,autofocus:"",size:"small",modelValue:e.row.Host,"onUpdate:modelValue":t=>e.row.Host=t,onBlur:t=>o.handleEditBlur(e.row,"Host")},null,8,["modelValue","onUpdate:modelValue","onBlur"])):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(e.row.Host),1)],64))])),_:1})])),_:1},8,["data","height","onCellDblclick"])}var a=l(83),s=l(3830),u=l(1219),i=l(144),d=l(7477),c={label:"端口服务器",name:"tunnelServers",order:1,components:{Delete:d.epd,Plus:d.FWt,Top:d.EjV,Bottom:d.i5o},setup(e){const t=(0,s.B)(),l=(0,i.Kh)({list:t.value.config.Client.Tunnel.Servers.sort(((e,t)=>e.Disabled-t.Disabled)),types:[],height:(0,n.EW)((()=>t.value.height-90)),interfaces:[]});(0,n.wB)((()=>t.value.config.Client.Tunnel.Servers),(()=>{0==l.list.filter((e=>e["__editing"])).length&&(l.list=t.value.config.Client.Tunnel.Servers.sort(((e,t)=>e.Disabled-t.Disabled))),l.interface=t.value.config.Client.Tunnel.Interface}));const r=()=>{(0,a.Vn)().then((e=>{e.splice(0,0,"0.0.0.0"),l.interfaces=e})).catch((()=>{}))},o=()=>{(0,a.S3)(l.interface).then((()=>{})).catch((()=>{}))},d=()=>{(0,a.ix)().then((e=>{l.types=e,c(l.list)}))},c=e=>{e.forEach((e=>{e.Protocols=l.types.filter((t=>t.Value==e.Type))[0].Protocols,e.Protocols[e.ProtocolType]||(e.ProtocolType=+Object.keys(e.Protocols)[0])}))},p=(e,t)=>{h(e,t.property)},h=(e,t)=>{c([e]),l.list.forEach((e=>{e["NameEditing"]=!1,e["TypeEditing"]=!1,e["HostEditing"]=!1,e["ProtocolTypeEditing"]=!1})),e[`${t}Editing`]=!0,e["__editing"]=!0},m=(e,t)=>{c([e]),e[`${t}Editing`]=!1,e["__editing"]=!1,w()},f=e=>{l.list.splice(e,1),w()},g=e=>{if(l.list.filter((e=>""==e.Host||""==e.Name)).length>0)return;const t={Name:"",Host:"",Type:0,Disabled:!1,ProtocolType:2};c([t]),l.list.splice(e+1,0,t),w()},y=(e,t)=>{const n=l.list[e],r=l.list[e+t];n&&r&&(l.list[e+t]=n,l.list[e]=r),w(l.list)},w=()=>{l.list=l.list.slice().sort(((e,t)=>e.Disabled-t.Disabled)),(0,a.b0)(l.list).then((()=>{u.nk.success("已操作")})).catch((()=>{u.nk.success("操作失败")}))};return(0,n.sV)((()=>{d(),r()})),{state:l,handleCellClick:p,handleEditBlur:m,handleDel:f,handleAdd:g,handleSort:y,handleInterfaceChange:o}}},p=l(1241);const h=(0,p.A)(c,[["render",o]]);var m=h},4836:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var n=l(6768);const r={style:{width:"30rem",padding:"5rem 0",margin:"0 auto"}},o=(0,n.Lk)("p",{class:"t-c"}," 服务器更新密钥 ",-1);function a(e,t,l,a,s,u){const i=(0,n.g2)("el-input");return(0,n.uX)(),(0,n.CE)("div",r,[o,(0,n.Lk)("p",null,[(0,n.bF)(i,{type:"password","show-password":"",modelValue:a.state.secretKey,"onUpdate:modelValue":t[0]||(t[0]=e=>a.state.secretKey=e),maxlength:"36",onBlur:a.handleChange},null,8,["modelValue","onBlur"])])])}var s=l(920),u=l(3830),i=l(1219),d=l(144),c={label:"服务器更新",name:"updater",order:6,setup(e){(0,u.B)();const t=(0,d.Kh)({secretKey:""}),l=()=>{(0,s.yN)().then((e=>{t.secretKey=e}))},r=()=>{t.secretKey&&(0,s.ir)(t.secretKey).then((()=>{i.nk.success("已操作")})).catch((()=>{i.nk.success("操作失败")}))},o=()=>{r()};return(0,n.sV)((()=>{l()})),{state:t,handleChange:o}}},p=l(1241);const h=(0,p.A)(c,[["render",a]]);var m=h},9317:function(e,t,l){var n={"./Index.vue":890,"./RelayServers.vue":6023,"./SForward.vue":6851,"./SignInServers.vue":3142,"./TunnelServers.vue":1889,"./Updater.vue":4836};function r(e){var t=o(e);return l(t)}function o(e){if(!l.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=9317}}]);