"use strict";(self["webpackChunklinker_web"]=self["webpackChunklinker_web"]||[]).push([[723],{5096:function(e,t,n){n.d(t,{A:function(){return p}});var a=n(6768);const o=e=>((0,a.Qi)("data-v-4892cd3c"),e=e(),(0,a.jt)(),e),l=o((()=>(0,a.Lk)("input",{type:"file",id:"file-input"},null,-1)));function s(e,t,n,o,s,r){const i=(0,a.g2)("PictureRounded"),d=(0,a.g2)("el-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>o.handleBg&&o.handleBg(...e))},[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i)])),_:1})]),l],64)}var r=n(7477),i=n(2933),d={components:{PictureRounded:r.syp},props:["name"],setup(e){const t=`bg-${e.name}`,n=()=>{localStorage.getItem(t)?i.s.confirm("清除背景？","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{l()})).catch((()=>{})):document.getElementById("file-input").click()},o=e=>{const t=e.target.files[0];if(t)try{const e=new FileReader;e.onload=function(e){l(e.target.result)},e.readAsDataURL(t)}catch(n){}e.target.value=""},l=e=>{e?(document.body.className="sunny",localStorage.setItem(t,e),document.body.style=`background-image:url(${e})`):(document.body.className="",document.body.style="",localStorage.setItem(t,""))};return(0,a.sV)((()=>{document.getElementById("file-input").addEventListener("change",o),l(localStorage.getItem(t))})),{handleBg:n}}},c=n(1241);const u=(0,c.A)(d,[["render",s],["__scopeId","data-v-4892cd3c"]]);var p=u},904:function(e,t,n){n.d(t,{A:function(){return Be}});var a=n(6768),o=n(4232),l=n.p+"img/memory.a28433e5.svg",s=n.p+"img/wechat.5c371c5d.jpg",r=n.p+"img/alipay.ff9b1e7c.jpg";const i=e=>((0,a.Qi)("data-v-da8e5ef0"),e=e(),(0,a.jt)(),e),d={class:"status-wrap flex"},c={class:"copy"},u=i((()=>(0,a.Lk)("img",{src:l,alt:"memory"},null,-1))),p=i((()=>(0,a.Lk)("span",null,"赞助",-1))),g=[u,p],v={href:"https://github.com/snltty/linker",target:"_blank"},f=i((()=>(0,a.Lk)("div",{class:"flex-1"},null,-1))),m={class:"export"},h={class:"api"},k={class:"server"},y=i((()=>(0,a.Lk)("div",{class:"pay"},[(0,a.Lk)("img",{src:s,alt:""}),(0,a.Lk)("img",{src:r,alt:""})],-1)));function b(e,t,n,l,s,r){const i=(0,a.g2)("Export"),u=(0,a.g2)("Api"),p=(0,a.g2)("Server"),b=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",c,[(0,a.Lk)("a",{href:"javascript:;",class:"memory",title:"赞助一笔，让作者饱餐一顿",onClick:t[0]||(t[0]=e=>l.state.showPay=!0)},g),(0,a.Lk)("a",v,"©linker "+(0,o.v_)(l.self.Version),1)]),f,(0,a.Lk)("div",m,[(0,a.bF)(i,{config:l.config},null,8,["config"])]),(0,a.Lk)("div",h,[(0,a.bF)(u,{config:l.config},null,8,["config"])]),(0,a.Lk)("div",k,[(0,a.bF)(p,{config:l.config},null,8,["config"])]),(0,a.bF)(b,{modelValue:l.state.showPay,"onUpdate:modelValue":t[1]||(t[1]=e=>l.state.showPay=e),title:"赞助linker",width:"300",top:"1vh"},{default:(0,a.k6)((()=>[y])),_:1},8,["modelValue"])])}var w=n(144);const S={href:"javascript:;",title:"此设备的管理接口"};function C(e,t,n,l,s,r){const i=(0,a.g2)("Tools"),d=(0,a.g2)("el-icon"),c=(0,a.g2)("el-popconfirm");return l.config?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)(["status-api-wrap",{connected:l.connected}])},[(0,a.bF)(c,{"confirm-button-text":"清除","cancel-button-text":"更改",title:"确定你的操作？",onCancel:l.handleShow,onConfirm:l.handleResetConnect},{reference:(0,a.k6)((()=>[(0,a.Lk)("a",S,[(0,a.bF)(d,{size:"16"},{default:(0,a.k6)((()=>[(0,a.bF)(i)])),_:1}),(0,a.eW)(" 管理接口 ")])])),_:1},8,["onCancel","onConfirm"])],2)):(0,a.Q3)("",!0)}var B=n(3830),_=n(4),F=n(7477),V={components:{Tools:F.S0q},props:["config"],setup(e){const t=(0,B.B)(),n=(0,a.EW)((()=>t.value.api.connected)),o=()=>{localStorage.setItem("api-cache",""),window.location.reload()},l=()=>{(0,_.e3)(),(0,_.a1)(`ws://${window.location.hostname}:12345`,"snltty")};return{config:e.config,connected:n,handleShow:l,handleResetConnect:o}}},L=n(1241);const x=(0,L.A)(V,[["render",C],["__scopeId","data-v-4470fcde"]]);var R=x;const E={class:"status-server-wrap"};function T(e,t,n,o,l,s){const r=(0,a.g2)("ServerConfig"),i=(0,a.g2)("ServerVersion"),d=(0,a.g2)("ServerFlow");return(0,a.uX)(),(0,a.CE)("div",E,[(0,a.bF)(r,{config:o.config},null,8,["config"]),(0,a.bF)(i,{config:o.config},null,8,["config"]),(0,a.bF)(d,{config:o.config},null,8,["config"])])}const W=e=>((0,a.Qi)("data-v-0bd6e783"),e=e(),(0,a.jt)(),e),A=W((()=>(0,a.Lk)("span",null,"信标服务器",-1))),I={class:"dialog-footer t-c"};function $(e,t,n,l,s,r){const i=(0,a.g2)("Promotion"),d=(0,a.g2)("el-icon"),c=(0,a.g2)("el-input"),u=(0,a.g2)("el-form-item"),p=(0,a.g2)("el-form"),g=(0,a.g2)("el-button"),v=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("a",{href:"javascript:;",class:(0,o.C4)({connected:l.state.connected}),title:"更改你的连接设置",onClick:t[0]||(t[0]=(...e)=>l.handleConfig&&l.handleConfig(...e))},[(0,a.bF)(d,{size:"16"},{default:(0,a.k6)((()=>[(0,a.bF)(i)])),_:1}),(0,a.eW)(),A],2),(0,a.bF)(v,{modelValue:l.state.show,"onUpdate:modelValue":t[4]||(t[4]=e=>l.state.show=e),title:"连接设置",width:"300","append-to-body":""},{footer:(0,a.k6)((()=>[(0,a.Lk)("div",I,[(0,a.bF)(g,{onClick:t[3]||(t[3]=e=>l.state.show=!1),loading:l.state.loading},{default:(0,a.k6)((()=>[(0,a.eW)("取消")])),_:1},8,["loading"]),(0,a.bF)(g,{type:"primary",onClick:l.handleSave,loading:l.state.loading},{default:(0,a.k6)((()=>[(0,a.eW)("确定保存")])),_:1},8,["onClick","loading"])])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(p,{model:l.state.form,rules:l.state.rules,"label-width":"6rem"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{label:"机器名",prop:"name"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{modelValue:l.state.form.name,"onUpdate:modelValue":t[1]||(t[1]=e=>l.state.form.name=e),maxlength:"12","show-word-limit":""},null,8,["modelValue"])])),_:1}),(0,a.bF)(u,{label:"分组名",prop:"groupid"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{modelValue:l.state.form.groupid,"onUpdate:modelValue":t[2]||(t[2]=e=>l.state.form.groupid=e),type:"password","show-password":"",maxlength:"36","show-word-limit":""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue"])],64)}var X=n(9299),K=n(1219),j={components:{Promotion:F.Yk4},props:["config"],setup(e){const t=(0,B.B)(),n=(0,a.EW)((()=>t.value.hasAccess("Config"))),o=(0,w.Kh)({show:!1,loading:!1,connected:(0,a.EW)((()=>t.value.signin.Connected)),form:{name:t.value.config.Client.Name,groupid:t.value.config.Client.GroupId},rules:{}}),l=()=>{e.config&&n.value&&(o.form.name=t.value.config.Client.Name,o.form.groupid=t.value.config.Client.GroupId,o.show=!0)},s=()=>{o.loading=!0,(0,X.rd)(o.form).then((()=>{o.loading=!1,o.show=!1,K.nk.success("已操作")})).catch((e=>{o.loading=!1,K.nk.success("操作失败!")}))};return{config:e.config,state:o,handleConfig:l,handleSave:s}}};const U=(0,L.A)(j,[["render",$],["__scopeId","data-v-0bd6e783"]]);var z=U;function P(e,t,n,l,s,r){const i=(0,a.g2)("el-table-column"),d=(0,a.g2)("el-table"),c=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[l.config?((0,a.uX)(),(0,a.CE)("a",{key:0,href:"javascript:;",title:"linker服务端网速，点击查看详细信息",onClick:t[0]||(t[0]=(...e)=>l.handleShow&&l.handleShow(...e))},[(0,a.Lk)("p",null,"上传 "+(0,o.v_)(l.state.overallSendtSpeed),1),(0,a.Lk)("p",null,"下载 "+(0,o.v_)(l.state.overallReceiveSpeed),1)])):(0,a.Q3)("",!0),(0,a.bF)(c,{class:"options-center",title:l.state.time,"destroy-on-close":"",modelValue:l.state.show,"onUpdate:modelValue":t[1]||(t[1]=e=>l.state.show=e),center:"",width:"680",top:"1vh"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(d,{data:l.state.list,border:"",size:"small",width:"100%",height:"60vh"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{prop:"id",label:"信标id"}),(0,a.bF)(i,{prop:"sendtBytes",label:"总上传",sortable:""},{default:(0,a.k6)((e=>[(0,a.Lk)("span",null,(0,o.v_)(e.row.sendtBytesText),1)])),_:1}),(0,a.bF)(i,{prop:"sendtSpeed",label:"上传速度",sortable:""},{default:(0,a.k6)((e=>[(0,a.Lk)("span",null,(0,o.v_)(e.row.sendtSpeedText)+"/s",1)])),_:1}),(0,a.bF)(i,{prop:"receiveBytes",label:"总下载",sortable:""},{default:(0,a.k6)((e=>[(0,a.Lk)("span",null,(0,o.v_)(e.row.receiveBytesText),1)])),_:1}),(0,a.bF)(i,{prop:"receiveSpeed",label:"下载速度",sortable:""},{default:(0,a.k6)((e=>[(0,a.Lk)("span",null,(0,o.v_)(e.row.receiveSpeedText)+"/s",1)])),_:1})])),_:1},8,["data"])])])),_:1},8,["title","modelValue"])],64)}n(4114);const D=()=>(0,_.zG)("flowClient/GetFlows");n(83);var M={props:["config"],setup(e){const t=(0,w.Kh)({show:!1,timer:0,overallSendtSpeed:"0000.00KB/s",overallReceiveSpeed:"0000.00KB/s",time:"",list:[],old:null}),n=()=>{t.show=!0},o={External:"外网端口(总计)",Relay:"中继流量(总计)",Messenger:"信标流量(总计)",SForward:"内网穿透(总计)",0:"[信标]登入信标",1:"[信标]客户端列表",2:"[信标]客户端删除",4:"[信标]客户端改名(转发)",7:"[信标]获取服务器版本",8:"[信标]客户端搜索ids",9:"[信标]客户端id列表",10:"[信标]客户端排序",11:"[信标]客户端在线",12:"[信标]生成客户端id",13:"[信标]登入信标V_1_3_1",2001:"[信标]外网端口(转发)",2002:"[信标]外网端口(转发)",2003:"[信标]开始打洞(转发)",2004:"[信标]开始打洞(转发)",2005:"[信标]打洞失败(转发)",2006:"[信标]打洞失败(转发)",2007:"[信标]打洞成功(转发)",2008:"[信标]打洞成功(转发)",2009:"[信标]隧道配置(转发)",2010:"[信标]隧道配置(转发)",2012:"[信标]隧道同步(转发)",2101:"[信标]中继通知(转发)",2102:"[信标]中继通知(转发)",2103:"[信标]中继请求",2105:"[信标]中继连通测试",2201:"[信标]运行网卡(转发)",2203:"[信标]停止网卡(转发)",2205:"[信标]更新网卡(转发)",2206:"[信标]同步网卡(转发)",2207:"[信标]同步网卡(转发)",2301:"[信标]添加内网穿透",2302:"[信标]移除内网穿透",2305:"[信标]获取穿透列表(转发)",2401:"[信标]测试端口转发(转发)",2403:"[信标]获取端口转发(转发)",2503:"[信标]获取权限(转发)",2504:"[信标]获取权限(转发)",2506:"[信标]更新权限(转发)",2508:"[信标]同步密钥(转发)",2510:"[信标]同步服务器(转发)",2601:"[信标]更新信息(转发)",2602:"[信标]更新信息(转发)",2603:"[信标]确认更新(转发)",2605:"[信标]重启(转发)",2607:"[信标]服务器更新信息",2608:"[信标]确认服务器更新",2609:"[信标]服务器重启",2701:"[信标]获取服务器流量"},l=()=>{D().then((e=>{const n=t.old||e;let a=0,r=0,i=0,d=0;for(let t in n.Resolvers)a+=n.Resolvers[t].ReceiveBytes,r+=n.Resolvers[t].SendtBytes;for(let t in e.Resolvers)i+=e.Resolvers[t].ReceiveBytes,d+=e.Resolvers[t].SendtBytes;t.overallSendtSpeed=s(d-r),t.overallReceiveSpeed=s(i-a),t.time=`从 ${e.Start}启动 至今`;const c=[];for(let t in e.Resolvers){const a=e.Resolvers[t],l=n.Resolvers[t];c.push({id:o[`${t}`],sendtBytes:a.SendtBytes,sendtBytesText:s(a.SendtBytes),sendtSpeed:a.SendtBytes-l.SendtBytes,sendtSpeedText:s(a.SendtBytes-l.SendtBytes),receiveBytes:a.ReceiveBytes,receiveBytesText:s(a.ReceiveBytes),receiveSpeed:a.ReceiveBytes-l.ReceiveBytes,receiveSpeedText:s(a.ReceiveBytes-l.ReceiveBytes)})}for(let t in e.Messangers){const a=e.Messangers[t],l=n.Messangers[t];c.push({id:o[`${t}`]||`未知的${t}`,sendtBytes:a.SendtBytes,sendtBytesText:s(a.SendtBytes),sendtSpeed:a.SendtBytes-l.SendtBytes,sendtSpeedText:s(a.SendtBytes-l.SendtBytes),receiveBytes:a.ReceiveBytes,receiveBytesText:s(a.ReceiveBytes),receiveSpeed:a.ReceiveBytes-l.ReceiveBytes,receiveSpeedText:s(a.ReceiveBytes-l.ReceiveBytes)})}t.list=c.filter((e=>!!e.id)),t.old=e,t.timer=setTimeout(l,1e3)})).catch((e=>{t.timer=setTimeout(l,1e3)}))},s=e=>{let t=0;while(e>=1024)e/=1024,t++;return`${e.toFixed(2)}${["B","KB","MB","GB","TB"][t]}`};return(0,a.sV)((()=>{l()})),(0,a.hi)((()=>{clearTimeout(t.timer)})),{config:e.config,state:t,handleShow:n}}};const N=(0,L.A)(M,[["render",P],["__scopeId","data-v-2b9ec4b3"]]);var Q=N;const G=["title"],Y={key:0,class:"progress"},O={key:1,class:"progress"};function q(e,t,n,l,s,r){const i=(0,a.g2)("Loading"),d=(0,a.g2)("el-icon"),c=(0,a.g2)("Download"),u=(0,a.g2)("CircleCheck");return(0,a.uX)(),(0,a.CE)("a",{href:"javascript:;",title:"服务端的程序版本",onClick:t[0]||(t[0]=(...e)=>l.handleUpdate&&l.handleUpdate(...e)),class:(0,o.C4)(["download",l.updateColor()])},[(0,a.Lk)("span",null,(0,o.v_)(l.state.version),1),l.updaterCurrent.Version?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[1==l.updaterCurrent.Status?((0,a.uX)(),(0,a.Wv)(d,{key:0,size:"14",class:"loading"},{default:(0,a.k6)((()=>[(0,a.bF)(i)])),_:1})):2==l.updaterServer.Status?((0,a.uX)(),(0,a.Wv)(d,{key:1,size:"14"},{default:(0,a.k6)((()=>[(0,a.bF)(c)])),_:1})):3==l.updaterServer.Status||5==l.updaterServer.Status?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.bF)(d,{size:"14",class:"loading"},{default:(0,a.k6)((()=>[(0,a.bF)(i)])),_:1}),0==l.updaterServer.Length?((0,a.uX)(),(0,a.CE)("span",Y,"0%")):((0,a.uX)(),(0,a.CE)("span",O,(0,o.v_)(parseInt(l.updaterServer.Current/l.updaterServer.Length*100))+"%",1))],64)):6==l.updaterServer.Status?((0,a.uX)(),(0,a.Wv)(d,{key:3,size:"14",class:"yellow"},{default:(0,a.k6)((()=>[(0,a.bF)(u)])),_:1})):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.Wv)(d,{key:1,size:"14"},{default:(0,a.k6)((()=>[(0,a.bF)(c)])),_:1}))],10,G)}var J=n(2933),H=n(920),Z={components:{Promotion:F.Yk4,Download:F.f5X,Loading:F.Rhj,CircleCheck:F.rW7,ServerFlow:Q},props:["config"],setup(e){const t=(0,B.B)(),n=(0,a.EW)((()=>t.value.hasAccess("UpdateServer"))),o=(0,w.KR)({Version:"",Msg:[],DateTime:"",Status:0,Length:0,Current:0}),l=(0,w.KR)({Version:"",Status:0,Length:0,Current:0}),s=(0,a.EW)((()=>`${o.value.Version}->${o.value.DateTime}\n${o.value.Msg.map(((e,t)=>`${t+1}、${e}`)).join("\n")}`)),r=(0,w.Kh)({show:!1,loading:!1,connected:(0,a.EW)((()=>t.value.signin.Connected)),version:(0,a.EW)((()=>t.value.signin.Version))}),i=()=>{(0,H.Vk)().then((e=>{o.value.DateTime=e.DateTime,o.value.Version=e.Version,o.value.Status=e.Status,o.value.Length=e.Length,o.value.Current=e.Current,o.value.Msg=e.Msg,setTimeout((()=>{i()}),1e3)})).catch((()=>{setTimeout((()=>{i()}),1e3)}))},d=()=>{(0,H.BJ)().then((e=>{l.value.Version=e.Version,l.value.Status=e.Status,l.value.Length=e.Length,l.value.Current=e.Current,l.value.Status>2&&l.value.Status<6&&setTimeout((()=>{d()}),1e3)})).catch((()=>{setTimeout((()=>{d()}),1e3)}))},c=()=>o.value.Version?l.value.Status<=2?r.version!=o.value.Version?`不是最新版本(${o.value.Version})，建议更新\n${s.value}`:`是最新版本，但我无法阻止你喜欢更新\n${s.value}`:{3:"正在下载",4:"已下载",5:"正在解压",6:"已解压，请重启"}[l.value.Status]:"未检测到更新",u=()=>r.version!=o.value.Version?"yellow":"green",p=()=>{e.config&&n.value&&(o.value.Version?[0,1,3,5].indexOf(l.value.Status)>=0?K.nk.error("操作中，请稍后!"):6!=l.value.Status?2==o.value.Status&&J.s.confirm("确定更新服务端吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,H.y2)(o.value.Version).then((()=>{setTimeout((()=>{d()}),1e3)}))})).catch((()=>{})):J.s.confirm("确定关闭服务端吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,H.aP)()})).catch((()=>{})):K.nk.error("未检测到更新"))};return(0,a.sV)((()=>{i(),d()})),{config:e.config,state:r,updaterCurrent:o,updaterServer:l,handleUpdate:p,updateText:c,updateColor:u}}};const ee=(0,L.A)(Z,[["render",q],["__scopeId","data-v-543a912e"]]);var te=ee,ne={components:{ServerConfig:z,ServerFlow:Q,ServerVersion:te},props:["config"],setup(e){const t=(0,w.Kh)({show:!1,loading:!1});return{config:e.config,state:t}}};const ae=(0,L.A)(ne,[["render",T],["__scopeId","data-v-67a4cbd2"]]);var oe=ae;const le=e=>((0,a.Qi)("data-v-117ef7b0"),e=e(),(0,a.jt)(),e),se={key:0,class:"status-export-wrap"},re={class:"port-wrap"},ie=le((()=>(0,a.Lk)("div",{class:"text"}," 导出配置，作为子设备运行，如果使用docker，容器映射configs文件夹即可 ",-1))),de={class:"body"},ce={class:"card-header"},ue={class:"flex"},pe={style:{"margin-left":"2rem"}},ge=le((()=>(0,a.Lk)("span",null,"设备名 : ",-1))),ve=le((()=>(0,a.Lk)("span",null,"管理密码 : ",-1)));function fe(e,t,n,o,l,s){const r=(0,a.g2)("Share"),i=(0,a.g2)("el-icon"),d=(0,a.g2)("el-checkbox"),c=(0,a.g2)("el-popover"),u=(0,a.g2)("el-input"),p=(0,a.g2)("Access"),g=(0,a.g2)("el-card"),v=(0,a.g2)("el-button"),f=(0,a.g2)("el-dialog");return o.config&&o.hasExport?((0,a.uX)(),(0,a.CE)("div",se,[(0,a.Lk)("a",{href:"javascript:;",title:"此设备的管理接口",onClick:t[0]||(t[0]=e=>o.state.show=!0)},[(0,a.bF)(i,{size:"16"},{default:(0,a.k6)((()=>[(0,a.bF)(r)])),_:1}),(0,a.eW)(" 导出配置 ")]),(0,a.bF)(f,{class:"options-center",title:"导出配置","destroy-on-close":"",modelValue:o.state.show,"onUpdate:modelValue":t[5]||(t[5]=e=>o.state.show=e),center:"",width:"580",top:"1vh"},{footer:(0,a.k6)((()=>[(0,a.bF)(v,{plain:"",onClick:t[4]||(t[4]=e=>o.state.show=!1),loading:o.state.loading},{default:(0,a.k6)((()=>[(0,a.eW)("取消")])),_:1},8,["loading"]),(0,a.bF)(v,{type:"success",plain:"",onClick:o.handleExport,loading:o.state.loading},{default:(0,a.k6)((()=>[(0,a.eW)("确定导出")])),_:1},8,["onClick","loading"])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",re,[ie,(0,a.Lk)("div",de,[(0,a.bF)(g,{shadow:"never"},{header:(0,a.k6)((()=>[(0,a.Lk)("div",ce,[(0,a.Lk)("div",ue,[(0,a.Lk)("div",null,[(0,a.bF)(c,{placement:"top-start",title:"tips",width:200,trigger:"hover",content:"这将生成唯一ID，多台设备使用产生冲突，挤压下线"},{reference:(0,a.k6)((()=>[(0,a.bF)(d,{disabled:o.onlyNode,modelValue:o.state.single,"onUpdate:modelValue":t[1]||(t[1]=e=>o.state.single=e),label:"单设备"},null,8,["disabled","modelValue"])])),_:1})]),(0,a.Lk)("div",pe,[ge,(0,a.bF)(u,{disabled:!o.state.single,modelValue:o.state.name,"onUpdate:modelValue":t[2]||(t[2]=e=>o.state.name=e),maxlength:"12","show-word-limit":"",style:{width:"15rem"}},null,8,["disabled","modelValue"])]),(0,a.Lk)("div",null,[ve,(0,a.bF)(u,{type:"password","show-password":"",disabled:o.onlyNode,modelValue:o.state.apipassword,"onUpdate:modelValue":t[3]||(t[3]=e=>o.state.apipassword=e),maxlength:"36","show-word-limit":"",style:{width:"15rem"}},null,8,["disabled","modelValue"])])])])])),default:(0,a.k6)((()=>[(0,a.bF)(p,{ref:"accessDom",machineid:o.machineId},null,8,["machineid"])])),_:1})])])])),_:1},8,["modelValue"])])):(0,a.Q3)("",!0)}var me=n(8835),he=n(6611),ke={components:{Share:F.SYj,Access:he.A},props:["config"],setup(e){const t=(0,B.B)(),n=(0,a.EW)((()=>t.value.hasAccess("Export"))),o=(0,a.EW)((()=>t.value.config.Client.OnlyNode)),l=(0,a.EW)((()=>t.value.config.Client.Id)),s=(0,w.Kh)({show:!1,loading:!1,single:!0,name:"",apipassword:t.value.config.Client.CApi.ApiPassword}),r=(0,w.KR)(null),i=()=>{if(!n.value)return;const e={access:r.value.getValue(),single:s.single,name:s.name,apipassword:s.apipassword};if(e.single){if(!e.name)return void K.nk.error("请输入设备名")}else e.name="";if(!e.single||s.name)return e;K.nk.error("请输入管理密码")},d=()=>{const e=document.createElement("a");s.single?e.download=`client-node-export-${s.name}.zip`:e.download="client-node-export.zip",e.href="/client-node-export.zip",document.body.appendChild(e),e.click(),document.body.removeChild(e)},c=()=>{const e=i();e&&(s.loading=!0,(0,me.P$)(e).then((()=>{s.loading=!1,s.show=!1,K.nk.success("导出成功"),d()})).catch((()=>{s.loading=!1})))};return{config:e.config,onlyNode:o,hasExport:n,machineId:l,state:s,accessDom:r,handleExport:c}}};const ye=(0,L.A)(ke,[["render",fe],["__scopeId","data-v-117ef7b0"]]);var be=ye,we=n(2126),Se={components:{Api:R,Server:oe,Export:be,UpdaterBtn:we.A},props:["config"],setup(e){const t=(0,B.B)(),n=(0,a.EW)((()=>t.value.self)),o=(0,w.Kh)({showPay:!1});return{state:o,config:e.config,self:n}}};const Ce=(0,L.A)(Se,[["render",b],["__scopeId","data-v-da8e5ef0"]]);var Be=Ce}}]);