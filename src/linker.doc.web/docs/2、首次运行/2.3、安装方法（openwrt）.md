---
sidebar_position: 2
---

# 2.3、安装方法（openwrt）

## 1、linux 手动 init.d

:::tip[说明]
1. 如果运行为客户端，请确保你的linux有`tuntap`模块、`ip`、`ifconfig`、`traceroute`、`iptables` 命令
2. 下载linux版本程序，放到 `/root/linker` 文件夹
3. 写配置文件，在 `/etc/init.d` 目录下创建一个服务文件linker，内容如下
```
#!/bin/sh /etc/rc.common

START=99 #服务启动优先级（数字越大，启动越晚）
STOP=10 #服务停止优先级（数字越小，停止越早）

USE_PROCD=1
PROG=/root/linker/linker #linker程序
WORKDIR=/root/linker  # 指定工作目录

start_service() {
    procd_open_instance
    procd_set_param command "$PROG"
    procd_set_param respawn  # 自动重启
    procd_set_param stdout 0 # 重定向标准输出到日志
    procd_set_param stderr 1 # 重定向标准错误到日志
    procd_set_param cwd "$WORKDIR"  # 设置工作目录
    procd_close_instance
}

stop_service() {
    killall linker
}

restart() {
    stop
    start
}

status() {
    if pgrep -f "$PROG" > /dev/null; then
        echo "Service is running."
        return 0
    else
        echo "Service is not running."
        return 1
    fi
}
```
4. 运行命令
```
设置脚本权限
chmod +x /etc/init.d/linker
启用服务
/etc/init.d/linker enable
启动服务
/etc/init.d/linker start
```
:::
