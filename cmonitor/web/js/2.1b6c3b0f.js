(self["webpackChunkcmonitor_web"]=self["webpackChunkcmonitor_web"]||[]).push([[2],{7041:function(e,t,a){"use strict";a.d(t,{$K:function(){return o},Do:function(){return s},Kd:function(){return n},l:function(){return u}});var l=a(2843);const n=e=>(0,l.gQ)("active/get",e),o=(e,t)=>(0,l.gQ)("active/disallow",{names:e,filenames:t}),s=e=>(0,l.gQ)("active/add",e),u=(e,t)=>(0,l.gQ)("active/del",{username:e,id:t})},9418:function(e,t,a){"use strict";a.d(t,{G:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("command/exec",{names:e,commands:t})},2331:function(e,t,a){"use strict";a.d(t,{$c:function(){return n},Az:function(){return r},Gn:function(){return p},HP:function(){return c},U4:function(){return d},XM:function(){return u},Zz:function(){return o},hG:function(){return m},sz:function(){return i},xc:function(){return s}});var l=a(2843);const n=()=>(0,l.gQ)("hijack/info"),o=e=>(0,l.gQ)("hijack/addName",e),s=e=>(0,l.gQ)("hijack/addProcessGroup",e),u=e=>(0,l.gQ)("hijack/deleteProcessGroup",e),r=e=>(0,l.gQ)("hijack/addProcess",e),i=e=>(0,l.gQ)("hijack/deleteProcess",e),c=e=>(0,l.gQ)("hijack/AddRule",e),d=e=>(0,l.gQ)("hijack/deleteRule",e),m=e=>(0,l.gQ)("hijack/UpdateDevices",e),p=e=>(0,l.gQ)("hijack/setRules",e)},3327:function(e,t,a){"use strict";a.d(t,{Q:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("llock/update",{names:e,value:t})},2843:function(e,t,a){"use strict";a.d(t,{CU:function(){return _},Ke:function(){return k},c9:function(){return f},gQ:function(){return w}});a(7658);var l=a(7178);let n=0,o=null,s="";const u={},r=[],i={connected:!1},c=()=>{r.length>0&&i.connected&&o.send(r.shift()),setTimeout(c,1e3/60)};c();const d={subs:{},add:function(e,t){"function"==typeof t&&(this.subs[e]||(this.subs[e]=[]),this.subs[e].push(t))},remove(e,t){let a=this.subs[e]||[];for(let l=a.length-1;l>=0;l--)a[l]==t&&a.splice(l,1)},push(e,t){let a=this.subs[e]||[];for(let l=a.length-1;l>=0;l--)a[l](t)}},m=()=>{i.connected=!0,d.push(g,i.connected)},p=e=>{i.connected=!1,d.push(g,i.connected),f()},h=e=>{if("string"!=typeof e.data)return void e.data.arrayBuffer().then((t=>{const a=new DataView(t).getInt8(),l=new FileReader;l.readAsText(e.data.slice(4,4+a),"utf8"),l.onload=()=>{let t=JSON.parse(l.result);t.Content={Name:t.Content,Img:e.data.slice(4+a,e.data.length)},v(t)}}));let t=JSON.parse(e.data);v(t)},v=e=>{let t=u[e.RequestId];t?(0==e.Code?t.resolve(e.Content):1==e.Code?t.reject(e.Content):255==e.Code?(t.reject(e.Content),t.errHandle||l.z8.error(`${t.path}:${e.Content}`)):d.push(e.Path,e.Content),delete u[e.RequestId]):d.push(e.Path,e.Content)},f=(e=s)=>{null!=o&&o.close(),s=e,o=new WebSocket(s),o.onopen=m,o.onclose=p,o.onmessage=h},w=(e,t={},a=!1)=>new Promise(((s,c)=>{let d=++n;try{u[d]={resolve:s,reject:c,errHandle:a,path:e};let l=JSON.stringify({Path:e,RequestId:d,Content:"string"==typeof t?t:JSON.stringify(t)});i.connected?o.send(l):r.push(l)}catch(m){c("网络错误~"),l.z8.error("网络错误~"),delete u[d]}})),g=Symbol(),_=e=>{d.add(g,e)},k=(e,t)=>{d.add(e,t)}},1468:function(e,t,a){"use strict";a.d(t,{FU:function(){return o},gp:function(){return n}});var l=a(2843);const n=()=>(0,l.gQ)("signin/list"),o=e=>(0,l.gQ)("signin/del",e)},5260:function(e,t,a){"use strict";a.d(t,{E:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("usb/update",{names:e,value:t})},8048:function(e,t,a){"use strict";a.d(t,{H:function(){return o},j:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("volume/update",{names:e,value:t}),o=(e,t)=>(0,l.gQ)("volume/mute",{names:e,value:t})},9528:function(e,t,a){"use strict";a.d(t,{i:function(){return n}});var l=a(2843);const n=(e,t,a="")=>(0,l.gQ)("wallpaper/update",{names:e,value:t,url:a})},3325:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{ActiveWindow:{Title:"",FileName:"",Desc:"",Pid:0,Count:0}}},state:{activeWindow:[{showTimes:!1,items:[],showFileNames:!1,showChoose:!0,devices:[]}]},update(e,t){e.ActiveWindow.Title=t.ActiveWindow.Title,e.ActiveWindow.FileName=t.ActiveWindow.FileName,e.ActiveWindow.Desc=t.ActiveWindow.Desc,e.ActiveWindow.Pid=t.ActiveWindow.Pid,e.ActiveWindow.Count=t.ActiveWindow.Count}}},1459:function(e,t,a){"use strict";a.r(t);a(9418),a(2683);t["default"]={field(){return{}},state:{command:{showCommand:!1,items:[]}},init(){}}},181:function(e,t,a){"use strict";a.r(t),t["default"]={state:{device:{showDevices:!1}}}},1868:function(e,t,a){"use strict";a.r(t);var l=a(2683);t["default"]={field(){return{Hijack:{Upload:0,UploadText:"",Download:0,DownloadText:"",Count:0}}},state:{hijack:{showRules:!1,showRulesItems:[],showRuleSetting:!1,showProcessSetting:!1}},timer:0,speedCaches:{},sizeFormat(e){let t=["B","KB","MB","GB","TB"],a=t[0];while((a=t.shift())&&e.toFixed(2)>=1024)e/=1024;return"B"==a?[e,a]:[e.toFixed(2),a]},globalData:null,init(){this.globalData=(0,l.d)();const e=this.speedCaches,t=this.sizeFormat;this.timer=setInterval((()=>{this.globalData.value.devices.forEach((a=>{let l=e[a.MachineName]||{up:0,down:0};isNaN(l.up)&&(l.up=0),isNaN(l.down)&&(l.down=0),a.Hijack.Upload=a.Hijack.Upload||0,a.Hijack.Download=a.Hijack.Download||0;let n=a.Hijack.Upload-l.up;l.up=a.Hijack.Upload;let o=t(n);a.Hijack.UploadText=`${o[0]}${o[1]}/s`,n=a.Hijack.Download-l.down,l.down=a.Hijack.Download,o=t(n),a.Hijack.DownloadText=`${o[0]}${o[1]}/s`,e[a.MachineName]=l}))}),1e3)},update(e,t){e.Hijack.Upload=t.Hijack.Upload,e.Hijack.Download=t.Hijack.Download,e.Hijack.Count=t.Hijack.Count}}},1958:function(e,t,a){"use strict";a.r(t);var l=a(2683);t["default"]={field(){return{Light:{Value:0}}},state:{light:{showLight:!1,showLightSingle:!1,items:[]}},globalData:null,init(){this.globalData=(0,l.d)()},update(e,t){t.Light&&(e.Light.Value=Math.floor(+t.Light.Value),isNaN(e.Light.Value)&&(e.Light.Value=0))}}},6458:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{LLock:{Value:!1}}},update(e,t){e.LLock.Value=t.LLock.Value}}},2852:function(e,t,a){"use strict";a.r(t),t["default"]={state:{message:{showMessage:!1,items:[]}}}},619:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(2843);const n=e=>(0,l.gQ)("report/update",e),o=e=>(0,l.gQ)("report/ping",e);var s=a(2683),u={field(){return{Report:{fps:0,fpsTimes:0,ping:0}}},globalData:null,init(){this.globalData=(0,s.d)(),this.reportInterval(),this.reportPingInterval(),(0,l.Ke)("/notify/report/pong",(e=>{let t=this.globalData.value.devices.filter((t=>t.MachineName==e.Name))[0];t&&(t.Connected=!0,t.Report.ping=e.Time)})),this.fpsInterval()},reportTimer:0,reported:!0,reportInterval(){this.reported?(this.reported=!1,n(this.globalData.value.reportNames).then((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)})).catch((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)}))):this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)},reportPingTimer:0,reportedPing:!0,reportPingInterval(){if(this.reportedPing){this.reportedPing=!1;let e=Date.now();o(this.globalData.value.reportNames).then((()=>{this.reportedPing=!0;let t=1e3-(Date.now()-e);t<10&&(t=10),this.reportPingTimer=setTimeout((()=>{this.reportPingInterval()}),t)})).catch((()=>{this.reportedPing=!0,this.reportPingTimer=setTimeout((()=>{this.reportPingInterval()}),1e3)}))}else this.reportPingTimer=setTimeout((()=>{this.reportPingInterval()}),1e3)},fpsInterval(){this.globalData.value.devices.forEach((e=>{e.Report.fps=e.Report.fpsTimes,e.Report.fpsTimes=0})),setTimeout((()=>{this.fpsInterval()}),1e3)},update(e,t){e.Report.fpsTimes++}}},5908:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var l=a(2683),n=a(2843);const o=e=>(0,n.gQ)("screen/update",e);var s={field(){return{Screen:{fps:0,fpsTimes:0,img:null,LastInput:0,UserName:"",KeyBoard:""}}},reportTimer:0,globalData:null,reported:!0,init(){this.globalData=(0,l.d)(),this.reportInterval(),this.subMessage(),this.fpsInterval(),this.draw()},draw(){const e=this.globalData.value.devices.filter((e=>this.globalData.value.reportNames.indexOf(e.MachineName)>=0));for(let a=0;a<e.length;a++){const l=e[a];if(l.canvas||(l.canvas=document.getElementById(`canvas-${l.MachineName}`),l.canvas&&(l.ctx=l.canvas.getContext("2d"))),l.ctx){const e=l.Screen.img;if(e){l.ctx.clearRect(0,0,l.canvas.width,l.canvas.height),l.ctx.drawImage(e,0,0,e.width,e.height,0,0,l.canvas.width,l.canvas.height),l.ctx.lineWidth=3,l.ctx.font="bold 50px Arial",l.ctx.fillStyle="#000",l.ctx.fillText(`FPS : ${l.Screen.fps} 、LT : ${l.Screen.LastInput}ms`,50,70),l.ctx.strokeStyle="#0f0",l.ctx.strokeText(`FPS : ${l.Screen.fps} 、LT : ${l.Screen.LastInput}ms`,50,70),l.ctx.lineWidth=10;let t=(l.canvas.height-100)/2,a=(l.canvas.width-50*l.Screen.KeyBoard.length)/2;l.ctx.font="bold 100px Arial",l.ctx.fillStyle="rgba(255,255,255,0.5)",l.ctx.fillText(`${l.Screen.KeyBoard}`,a,t),l.ctx.lineWidth=2,l.ctx.strokeStyle="#000",l.ctx.strokeText(`${l.Screen.KeyBoard}`,a,t)}for(let a in l)try{l[a]&&l[a].draw&&l[a].draw(l.canvas,l.ctx)}catch(t){console.log(l),console.log(t)}}}requestAnimationFrame((()=>{this.draw()}))},subMessage(){(0,n.Ke)("/notify/report/screen",((e,t)=>{if(-1==this.globalData.value.reportNames.indexOf(e.Name))return;let a=this.globalData.value.devices.filter((t=>t.MachineName==e.Name))[0];if(a){a.Screen.fpsTimes++;const t=new Image;if("string"==typeof e.Img)t.src=`data:image/jpg;base64,${e.Img}`,t.onload=function(){a.Screen.img=t};else{const l=new FileReader;l.readAsDataURL(e.Img),l.onload=function(e){t.src=e.target.result,t.onload=function(){a.Screen.img=t}}}}}))},fpsInterval(){this.globalData.value.devices.forEach((e=>{e.Screen.fps=e.Screen.fpsTimes,e.Screen.fpsTimes=0})),setTimeout((()=>{this.fpsInterval()}),1e3)},reported:!0,reportInterval(){this.reported?(this.reported=!1,o(this.globalData.value.reportNames).then((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)})).catch((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)}))):this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)},update(e,t){t.Screen&&(e.Screen.LastInput=t.Screen.LastInput||"0",e.Screen.UserName=t.Screen.UserName||"",e.Screen.KeyBoard=t.Screen.KeyBoard||"")}}},464:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{Usb:{Value:!1}}},update(e,t){e.Usb.Value=t.Usb.Value}}},5507:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{Volume:{Value:0,Mute:!1,MasterPeak:0,draw(e,t){this.MasterPeak-=1,this.MasterPeak<0?this.MasterPeak=0:(t.beginPath(),t.fillStyle="#0f0",t.fillRect(0,e.height-10,this.MasterPeak/100*e.width,10),t.closePath())}}}},state:{volume:{showVolume:!1,showVolumeSingle:!1,items:[]}},init(){},update(e,t){e.Volume.Value=t.Volume.Value,e.Volume.Mute=t.Volume.Mute,t.Volume.MasterPeak>e.Volume.MasterPeak&&(e.Volume.MasterPeak=t.Volume.MasterPeak)}}},7242:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{Wallpaper:{Value:!1}}},update(e,t){e.Wallpaper.Value=t.Wallpaper.Value}}},2115:function(e,t,a){"use strict";a.d(t,{$:function(){return u},R:function(){return s}});var l=a(4870),n=a(3396);const o=Symbol(),s=e=>{const t=(0,l.iH)(e);return(0,n.JJ)(o,t),t},u=()=>(0,n.f3)(o)},2683:function(e,t,a){"use strict";a.d(t,{d:function(){return u},e:function(){return s}});var l=a(4870),n=a(3396);const o=Symbol(),s=()=>{const e=(0,l.iH)({username:"",publicUserName:"snltty",usernames:{},connected:!1,updateFlag:0,allDevices:[],devices:(0,n.Fl)((()=>{const t=e.value.usernames[e.value.username];return t?e.value.allDevices.filter((e=>t.Devices.indexOf(e.MachineName)>=0)):[]})),reportNames:[]});return(0,n.JJ)(o,e),e},u=()=>(0,n.f3)(o)},4002:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ge}});var l=a(3396);const n={class:"main-wrap flex flex-column flex-nowrap"},o={class:"head"},s={key:0,class:"body flex-1 scrollbar"};function u(e,t,a,u,r,i){const c=(0,l.up)("Head"),d=(0,l.up)("Device");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",o,[(0,l.Wm)(c)]),u.showList?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(d)])):(0,l.kq)("",!0)])}const r={class:"username-wrap t-c"},i={class:"port-wrap t-c"};function c(e,t,a,n,o,s){const u=(0,l.up)("el-option"),c=(0,l.up)("el-select"),d=(0,l.up)("el-button"),m=(0,l.up)("el-dialog"),p=(0,l.up)("el-input");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{title:"选择角色","destroy-on-close":"",modelValue:n.showSelectUsername,"onUpdate:modelValue":t[1]||(t[1]=e=>n.showSelectUsername=e),center:"","show-close":!1,"close-on-click-modal":!1,"align-center":"",width:"70%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(d,{type:"primary",onClick:n.handleUsername},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(c,{filterable:"","allow-create":"","default-first-option":"",modelValue:n.state.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.username=e),onChange:n.handleChange,placeholder:"选择角色",size:"large"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.usernames,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])])),_:1},8,["modelValue"]),(0,l.Wm)(m,{title:"管理端口","destroy-on-close":"",modelValue:n.showPort,"onUpdate:modelValue":t[3]||(t[3]=e=>n.showPort=e),center:"","show-close":!1,"close-on-click-modal":!1,"align-center":"",width:"70%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(d,{type:"primary",onClick:n.handleConnect},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(p,{modelValue:n.state.port,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.port=e),style:{width:"auto"}},null,8,["modelValue"])])])),_:1},8,["modelValue"])])}var d=a(4870),m=a(2843),p=a(2331),h=a(2483),v=a(2683),f={setup(){const e=(0,v.d)(),t=(0,h.yj)(),a=+(t.query.api||localStorage.getItem("port")||1801);localStorage.setItem("port",a),e.value.username=e.value.username||localStorage.getItem("username")||"";const n=(0,d.qj)({port:a,usernames:[],username:e.value.username,showPort:!1}),o=(0,l.Fl)((()=>!e.value.username&&e.value.connected)),s=(0,l.Fl)((()=>0==e.value.connected&&n.showPort));(0,l.YP)((()=>e.value.updateFlag),(()=>{u()}));const u=()=>{(0,p.$c)().then((t=>{e.value.usernames=t,n.usernames=Object.keys(t)})).catch((()=>{}))};(0,l.bv)((()=>{i(),r(),u(),setTimeout((()=>{n.showPort=!0}),100)}));const r=()=>{(0,m.c9)(`ws://${window.location.hostname}:${n.port}`),localStorage.setItem("port",n.port)},i=()=>{e.value.username=n.username||"",localStorage.setItem("username",e.value.username),document.title=`班长-${e.value.username}`},c=t=>{(0,p.Zz)(t).then((()=>{e.value.updateFlag=Date.now()})).catch((()=>{e.value.updateFlag=Date.now()}))};return{state:n,showSelectUsername:o,showPort:s,handleUsername:i,handleConnect:r,handleChange:c}}},w=a(89);const g=(0,w.Z)(f,[["render",c],["__scopeId","data-v-9bcc2712"]]);var _=g;const k={class:"device-list-wrap absolute flex flex-column",id:"device-list-wrap"},C={class:"items flex-1 relative scrollbar"},D={class:"foot"},x={class:"foot-options"},V={class:"foot-menu"};function W(e,t,a,n,o,s){const u=(0,l.up)("Items"),r=(0,l.up)("FootOptions"),i=(0,l.up)("FootMenu");return(0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",C,[(0,l.Wm)(u)]),(0,l._)("div",D,[(0,l._)("div",x,[(0,l.Wm)(r)]),(0,l._)("div",V,[(0,l.Wm)(i)])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.indexModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t})))),128))])}const b={class:"foot-wrap"},y={class:"flex"};function I(e,t,a,n,o,s){return(0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("ul",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.footMenuModules,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[((0,l.wg)(),(0,l.j4)((0,l.LL)(e)))])))),128))])])}var U={components:{},setup(){const e=a(8575),t=e.keys().map((t=>e(t).default)).sort(((e,t)=>e.sort-t.sort));return{footMenuModules:t}}};const T=(0,w.Z)(U,[["render",I],["__scopeId","data-v-047cf10c"]]);var N=T,j=a(7139);const S=e=>((0,l.dD)("data-v-c504bad2"),e=e(),(0,l.Cn)(),e),z={class:"foot-options-wrap flex"},P=S((()=>(0,l._)("span",{class:"flex-1"},null,-1))),F={class:"options-btn"},M=S((()=>(0,l._)("span",{class:"flex-1"},null,-1)));function L(e,t,a,n,o,s){const u=(0,l.up)("Refresh"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.iD)("div",z,[(0,l.Wm)(i,{size:"default",plain:"",dark:"",onClick:n.handleRefresh},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"]),P,(0,l._)("div",F,[(0,l._)("p",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.footOptionTopModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t})))),128))]),(0,l._)("p",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.footOptionBottomModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t})))),128))])]),M,(0,l.Wm)(i,{size:"default",plain:"",dark:"",onClick:n.handleUpdate},{default:(0,l.w5)((()=>[(0,l.Uk)((0,j.zw)(n.username),1)])),_:1},8,["onClick"])])}var $=a(6e3),E={setup(){const e=a(6736),t=e.keys().map((t=>e(t).default)),n=a(3136),o=n.keys().map((e=>n(e).default)),s=(0,v.d)(),u=(0,l.Fl)((()=>s.value.username)),r=()=>{window.location.reload()},i=()=>{$.T.confirm("是否确定重选角色？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{s.value.username="",localStorage.setItem("username","")})).catch((()=>{}))};return{footOptionTopModules:t,footOptionBottomModules:o,username:u,handleRefresh:r,handleUpdate:i}}};const R=(0,w.Z)(E,[["render",L],["__scopeId","data-v-c504bad2"]]);var B=R;function O(e,t,a,n,o,s){const u=(0,l.up)("Item"),r=(0,l.up)("el-empty");return n.devices.length>0?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(n.devices,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.MachineName,data:e},null,8,["data"])))),128)):((0,l.wg)(),(0,l.j4)(r,{key:1,description:"或许你应该先去选择管理设备"}))}const Z=e=>((0,l.dD)("data-v-1d9493e7"),e=e(),(0,l.Cn)(),e),A=Z((()=>(0,l._)("div",{class:"bg"},null,-1))),H={class:"value flex"},q={class:"machine-mame"},Y={key:0,class:"user-name"},K=Z((()=>(0,l._)("span",{class:"flex-1"},null,-1))),Q={class:"img"},G={class:"inner"},J=["id"],X={class:"btns flex"},ee={class:"left"},te=Z((()=>(0,l._)("div",{class:"flex-1"},null,-1))),ae={class:"right"},le={class:"options"};function ne(e,t,a,n,o,s){const u=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",{class:"device-item",style:(0,j.j5)(n.data.style)},[(0,l._)("dl",null,[(0,l._)("dt",null,[A,(0,l._)("div",H,[(0,l._)("span",{class:(0,j.C_)(["name",{connected:n.data.Connected}])},[(0,l._)("span",q,(0,j.zw)(n.data.MachineName),1),n.data.Screen.UserName?((0,l.wg)(),(0,l.iD)("i",Y," - "+(0,j.zw)(n.data.Screen.UserName),1)):(0,l.kq)("",!0)],2),K,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.titleRightModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))])]),(0,l._)("dd",Q,[(0,l._)("div",G,[n.data.Connected?((0,l.wg)(),(0,l.iD)("canvas",{key:0,width:"1920",height:"1080",id:`canvas-${n.data.MachineName}`},null,8,J)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.screenModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128)),(0,l._)("div",X,[(0,l._)("div",ee,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.btnLeftModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))]),te,(0,l._)("div",ae,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.btnRightModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))])])])]),(0,l._)("dd",le,[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.optionModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))])),_:1})])])],4)}var oe={props:{data:{type:Object,default:{}}},setup(e,{emit:t}){const l=e.data,n=a(2648),o=n.keys().map((e=>n(e).default)),s=a(7138),u=s.keys().map((e=>s(e).default)),r=a(2681),i=r.keys().map((e=>r(e).default)),c=a(6532),d=c.keys().map((e=>c(e).default)),m=a(345),p=m.keys().map((e=>m(e).default)).sort(((e,t)=>(e.sort||0)-(t.sort||0)));return{data:l,titleRightModules:o,screenModules:u,btnLeftModules:i,btnRightModules:d,optionModules:p}}};const se=(0,w.Z)(oe,[["render",ne],["__scopeId","data-v-1d9493e7"]]);var ue=se,re=a(1468),ie={components:{Item:ue},setup(){const e=a(4711),t=e.keys().map((t=>e(t).default));t.forEach((e=>{e.init&&e.init()}));const n=(0,v.d)(),o=()=>{(0,re.gp)().then((e=>{n.value.allDevices=e.map((e=>t.reduce(((e,t,a)=>(t.field&&(e=Object.assign(e,t.field())),e)),e))).sort(((e,t)=>e.MachineName<t.MachineName?-1:1)),(0,l.Y3)((()=>{c()}))})).catch((()=>{}))},s=(0,l.Fl)((()=>((0,l.Y3)((()=>{c()})),n.value.devices))),u=()=>{(0,m.Ke)("/notify/report/report",(e=>{if(-1==n.value.reportNames.indexOf(e.Name))return;"string"==typeof e.Report&&(e.Report=JSON.parse(e.Report));let a=n.value.devices.filter((t=>t.MachineName==e.Name))[0];a&&t.forEach((t=>{t.update&&t.update(a,e.Report)}))}))},r=()=>{(0,l.Y3)((()=>{document.querySelector("#device-list-wrap").querySelector(".items").addEventListener("scroll",c)}))},i=()=>{try{document.querySelector("#device-list-wrap").querySelector(".items").removeEventListener("scroll",c)}catch(e){}},c=()=>{try{const e=document.querySelector("#device-list-wrap").querySelector(".items"),t=e.scrollTop,a=e.querySelectorAll(".device-item");if(0==a.length)return;const l=e.offsetHeight,o=[...a].map(((e,a)=>{const n=e.offsetTop-t,o=n+e.offsetHeight/2,s=Math.abs(o-l/2);return{dom:e,index:a,offset:s}})),s=o.sort(((e,t)=>e.offset-t.offset))[0];for(let n=0;n<a.length;n++){let e="z-index:9;background-color:#fff;";const t=Math.abs(s.index-n),l=1-Math.abs(s.index-n)/10*2,o=100+100*t;n<s.index&&s.index>1?(e=`background-color:rgba(255,255,255,${l});z-index:8;transform: translateZ(-${o}px) `,e+="translateY(30px);"):n>s.index&&s.index<a.length-2&&(e=`background-color:rgba(255,255,255,${l});z-index:8;transform: translateZ(-${o}px) `,e+="translateY(-30px);"),a[n].style=e}const u=o.filter((e=>e.index>=s.index-2&&e.index<=s.index+2)).map((e=>e.index));n.value.reportNames=n.value.devices.filter(((e,t)=>u.indexOf(t)>=0)).map((e=>e.MachineName))}catch(e){console.log(e)}};return(0,l.bv)((()=>{o(),r(),c(),u()})),(0,l.Ah)((()=>{i()})),{devices:s}}};const ce=(0,w.Z)(ie,[["render",O]]);var de=ce,me=a(2115),pe={components:{Items:de,FootMenu:N,FootOptions:B},setup(){const e=a(4711),t=e.keys().map((t=>e(t).default)),l=t.reduce(((e,t,a)=>(t.state&&(e=Object.assign(e,t.state)),e)),{}),n=((0,me.R)(l),a(138)),o=n.keys().map((e=>n(e).default));return{indexModules:o}}};const he=(0,w.Z)(pe,[["render",W],["__scopeId","data-v-a87f8aaa"]]);var ve=he,fe={components:{Head:_,Device:ve},setup(){const e=(0,v.e)();(0,m.CU)((t=>{e.value.connected=t}));const t=(0,l.Fl)((()=>!!e.value.username&&e.value.connected));return{showList:t}}};const we=(0,w.Z)(fe,[["render",u],["__scopeId","data-v-c6e4819c"]]);var ge=we},3827:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-d3c9dd84"),e=e(),(0,l.Cn)(),e),s={class:"checkbox-wrap absolute flex flex-column"},u={class:"head flex"},r=o((()=>(0,l._)("span",{class:"flex-1"},null,-1))),i={class:"body flex-1 scrollbar"},c={class:"flex-1"};function d(e,t,a,o,d,m){const p=(0,l.up)("el-checkbox"),h=(0,l.up)("el-checkbox-group");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l._)("span",null,[(0,l.Wm)(p,{indeterminate:o.state.isIndeterminate,modelValue:o.state.checkAll,"onUpdate:modelValue":t[0]||(t[0]=e=>o.state.checkAll=e),onChange:o.handleCheckAllChange,label:o.state.title,size:"large"},null,8,["indeterminate","modelValue","onChange","label"])]),r,(0,l.WI)(e.$slots,"title",{},void 0,!0)]),(0,l._)("div",i,[(0,l.Wm)(h,{modelValue:o.state.checkList,"onUpdate:modelValue":t[1]||(t[1]=e=>o.state.checkList=e),onChange:o.handleChange},{default:(0,l.w5)((()=>[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.state.data,((t,a)=>((0,l.wg)(),(0,l.iD)("li",{key:a,class:"flex"},[(0,l._)("div",c,[(0,l.Wm)(p,{label:t[o.state.label],size:"large"},{default:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"name",{item:t},(()=>[(0,l.Uk)((0,n.zw)(t[o.state.text]),1)]),!0)])),_:2},1032,["label"])]),(0,l.WI)(e.$slots,"oper",{item:t},void 0,!0)])))),128))])])),_:3},8,["modelValue","onChange"])])])}var m=a(4870),p={props:["title","items","data","label","text"],setup(e,{emit:t}){const a=(0,m.qj)({title:e.title,label:e.label,text:e.text||e.label,data:(0,l.Fl)((()=>e.data)),checkList:e.items.map((t=>t[e.label])),checkAll:!1,isIndeterminate:!1});(0,l.YP)((()=>e.items),(()=>{a.checkList=e.items.map((t=>t[e.label])),s(a.checkList)}));const n=e=>{a.checkList=e?a.data.map((e=>e[a.label])):[],s(a.checkList)},o=e=>{s(e)},s=e=>{const t=e.length;a.isIndeterminate=t>0&&t<a.data.length,a.checkAll=t>0&&t==a.data.length};(0,l.bv)((()=>{s(a.checkList)}));const u=()=>a.checkList;return{state:a,handleCheckAllChange:n,handleChange:o,getData:u}}},h=a(89);const v=(0,h.Z)(p,[["render",d],["__scopeId","data-v-d3c9dd84"]]);var f=v},5291:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-3f1c33d0"),e=e(),(0,l.Cn)(),e),s={class:"checkbox-wrap absolute flex flex-column"},u={class:"head flex"},r=o((()=>(0,l._)("span",{class:"flex-1"},null,-1))),i={class:"body flex-1 scrollbar"},c=["onClick"];function d(e,t,a,o,d,m){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l._)("span",null,(0,n.zw)(o.state.title),1),r]),(0,l._)("div",i,[(0,l.WI)(e.$slots,"wrap",{},(()=>[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.state.data,((t,a)=>((0,l.wg)(),(0,l.iD)("li",{key:a,class:"flex"},[(0,l.WI)(e.$slots,"default",{item:t},(()=>[(0,l._)("div",{class:"default",onClick:e=>o.handleClick(t)},(0,n.zw)(t),9,c)]),!0)])))),128))])]),!0)])])}var m=a(4870),p={props:["title","data"],setup(e,{emit:t}){const a=(0,m.qj)({title:e.title,data:(0,l.Fl)((()=>e.data))}),n=e=>{t("prev",e)};return{state:a,handleClick:n}}},h=a(89);const v=(0,h.Z)(p,[["render",d],["__scopeId","data-v-3f1c33d0"]]);var f=v},6032:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("DataLine"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleTimes&&n.handleTimes(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])}var o=a(2115),s={props:["data"],setup(e){const t=(0,o.$)(),a=()=>{t.value.activeWindow.items=[e.data],t.value.activeWindow.showTimes=!0};return{handleTimes:a}}},u=a(89);const r=(0,u.Z)(s,[["render",n]]);var i=r},549:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Monitor"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleFileNames&&n.handleFileNames(...e))},[(0,l._)("span",null,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Uk)("窗口 ")])])}var o=a(2683),s=a(2115),u={sort:1,setup(){const e=(0,s.$)(),t=((0,o.d)(),()=>{e.value.activeWindow.showFileNames=!0});return{handleFileNames:t}}},r=a(89);const i=(0,r.Z)(u,[["render",n],["__scopeId","data-v-14c8719c"]]);var c=i},4190:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Monitor"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleMessage},{default:(0,l.w5)((()=>[(0,l.Uk)("窗口"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.activeWindow.devices=t.value.devices,e.value.activeWindow.showChoose=!0};return{handleMessage:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var c=i},9713:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return K}});var l=a(3396);const n={class:"active"};function o(e,t,a,o,s,u){const r=(0,l.up)("ActiveTimes"),i=(0,l.up)("FileNames"),c=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",n,[o.pluginState.activeWindow.showTimes?((0,l.wg)(),(0,l.j4)(r,{key:0,modelValue:o.pluginState.activeWindow.showTimes,"onUpdate:modelValue":t[0]||(t[0]=e=>o.pluginState.activeWindow.showTimes=e)},null,8,["modelValue"])):(0,l.kq)("",!0),o.pluginState.activeWindow.showFileNames?((0,l.wg)(),(0,l.j4)(i,{key:1,modelValue:o.pluginState.activeWindow.showFileNames,"onUpdate:modelValue":t[1]||(t[1]=e=>o.pluginState.activeWindow.showFileNames=e)},null,8,["modelValue"])):(0,l.kq)("",!0),o.pluginState.activeWindow.showChoose?((0,l.wg)(),(0,l.j4)(c,{key:2,modelValue:o.pluginState.activeWindow.showChoose,"onUpdate:modelValue":t[2]||(t[2]=e=>o.pluginState.activeWindow.showChoose=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var s=a(7139);const u={class:"wrap flex flex-column"},r={class:"inner flex-1 scrollbar"},i={class:"wrap flex flex-column"},c={class:"inner flex-1 scrollbar"};function d(e,t,a,n,o,d){const m=(0,l.up)("el-button"),p=(0,l.up)("el-progress"),h=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(h,{class:"options",title:"窗口使用时间统计","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(m,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("h4",null,(0,s.zw)(n.state.startTime)+" - 至今("+(0,s.zw)((n.state.totalTime/1e3).toFixed(2))+"s)",1),(0,l._)("div",r,[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.list,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("dl",null,[(0,l._)("dt",null,[(0,l.Uk)((0,s.zw)(e.Desc)+" ",1),(0,l.Wm)(m,{onClick:t=>n.showTitles(e),size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.titleLength),1)])),_:2},1032,["onClick"])]),(0,l._)("dd",null,[(0,l.Wm)(p,{percentage:(e.Time/n.state.totalTime*100).toFixed(2)},null,8,["percentage"])])])])))),128))])])])])),_:1},8,["modelValue"]),(0,l.Wm)(h,{class:"options",title:"详细标题","destroy-on-close":"",modelValue:n.state.showTitles,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.showTitles=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(m,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l._)("h5",null,(0,s.zw)(n.state.currentTime/1e3)+"s",1),(0,l._)("div",c,[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.currentTitles,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("dl",null,[(0,l._)("dt",null,(0,s.zw)(e.t),1),(0,l._)("dd",null,[(0,l.Wm)(p,{percentage:(e.v/n.state.currentTime*100).toFixed(2)},null,8,["percentage"])])])])))),128))])])])])),_:1},8,["modelValue"])],64)}a(7658);var m=a(4870),p=a(7041),h=a(2115),v={props:["modelValue"],emits:["update:modelValue"],components:{},setup(e,{emit:t}){const a=(0,h.$)(),n=(0,m.qj)({show:e.modelValue,loading:!1,startTime:new Date,totalTime:1,list:[],showTitles:!1,currentTitles:[],currentTime:1});(0,l.YP)((()=>n.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const o=()=>{(0,p.Kd)(a.value.activeWindow.items[0].MachineName).then((e=>{n.startTime=e.StartTime,n.totalTime=e.List.reduce(((e,t,a)=>(t.titleLength=Object.keys(t.Titles).length,e+=t.Time,e)),0),n.list=e.List.sort(((e,t)=>t.Time-e.Time))})).catch((e=>{}))},s=e=>{n.showTitles=!0;let t=[],a=0;for(let l in e.Titles)t.push({t:l,v:e.Titles[l]}),a+=e.Titles[l];n.currentTitles=t.sort(((e,t)=>t.v-e.v)),n.currentTime=a};(0,l.bv)((()=>{o()}));const u=()=>{n.show=!1};return{state:n,handleCancel:u,showTitles:s}}},f=a(89);const w=(0,f.Z)(v,[["render",d],["__scopeId","data-v-2b51afa3"]]);var g=w;const _=e=>((0,l.dD)("data-v-67220bd2"),e=e(),(0,l.Cn)(),e),k={class:"filenames-items-wrap flex flex-nowrap flex-column"},C={class:"head t-c flex"},D=_((()=>(0,l._)("span",{class:"flex-1"},null,-1))),x=_((()=>(0,l._)("span",{style:{"line-height":"3.2rem"}},"不允许打开哪些窗口",-1))),V={class:"flex-1"},W={class:"prevs-wrap"},b={style:{"padding-top":"1rem"}};function y(e,t,a,n,o,s){const u=(0,l.up)("el-button"),r=(0,l.up)("el-table-column"),i=(0,l.up)("EditPen"),c=(0,l.up)("el-icon"),d=(0,l.up)("Delete"),m=(0,l.up)("el-popconfirm"),p=(0,l.up)("el-table"),h=(0,l.up)("el-input"),v=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(v,{class:"options",title:"配置窗口列表","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[4]||(t[4]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{default:(0,l.w5)((()=>[(0,l._)("div",k,[(0,l._)("div",C,[(0,l.Wm)(u,{onClick:t[0]||(t[0]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1}),D,x]),(0,l._)("div",V,[(0,l._)("div",W,[(0,l.Wm)(p,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"60vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{prop:"Desc",label:"名称"}),(0,l.Wm)(r,{prop:"FileName",label:"文件"}),(0,l.Wm)(r,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[(0,l.Wm)(u,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(m,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(v,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[3]||(t[3]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(u,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(u,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("p",null,[(0,l.Wm)(h,{modelValue:n.state.currentItem.Desc,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.currentItem.Desc=e),size:"large",placeholder:"名称"},null,8,["modelValue"])]),(0,l._)("p",b,[(0,l.Wm)(h,{modelValue:n.state.currentItem.FileName,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.currentItem.FileName=e),size:"large",placeholder:"文件,多个逗号间隔，无后缀则按标题处理"},null,8,["modelValue"])])])])),_:1},8,["title","modelValue"])])])),_:1},8,["modelValue"])}var I=a(7178),U=a(2683),T={props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const a=(0,U.d)(),n=(0,m.qj)({show:e.modelValue,loading:!1,currentItem:{ID:0,FileName:"",Desc:""},showEdit:!1,list:(0,l.Fl)((()=>{let e=a.value.usernames[a.value.username];return e?e.FileNames:[]}))});(0,l.YP)((()=>n.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const o=e=>{e=e||{ID:0,FileName:"",Desc:""},n.currentItem.FileName=e.FileName,n.currentItem.Desc=e.Desc,n.currentItem.ID=e.ID,n.showEdit=!0},s=e=>{n.loading=!0,(0,p.l)(a.value.username,e.ID).then((e=>{n.loading=!1,e?I.z8.error(e):(I.z8.success("操作成功!"),a.value.updateFlag=Date.now())})).catch((e=>{n.loading=!1,I.z8.error("操作失败!")}))},u=()=>{n.showEdit=!1},r=()=>{n.currentItem.Desc=n.currentItem.Desc.replace(/^\s|\s$/g,""),n.currentItem.FileName=n.currentItem.FileName.replace(/^\s|\s$/g,""),n.currentItem.FileName&&n.currentItem.Desc&&(n.loading=!0,(0,p.Do)({UserName:a.value.username,FileName:n.currentItem}).then((e=>{n.loading=!1,e?I.z8.error(e):(I.z8.success("操作成功!"),n.showEdit=!1,a.value.updateFlag=Date.now())})).catch((e=>{n.loading=!1,I.z8.error("操作失败!")})))};return{state:n,handleAdd:o,handleDel:s,handleEditCancel:u,handleEditSubmit:r}}};const N=(0,f.Z)(T,[["render",y],["__scopeId","data-v-67220bd2"]]);var j=N;const S=e=>((0,l.dD)("data-v-77218684"),e=e(),(0,l.Cn)(),e),z={class:"rule-wrap flex"},P={class:"items"},F=S((()=>(0,l._)("div",{class:"flex-1"},null,-1))),M={class:"Exes flex flex-column"},L={class:"private"},$=S((()=>(0,l._)("div",{class:"flex-1"},null,-1))),E={class:"public"};function R(e,t,a,n,o,u){const r=(0,l.up)("CheckBoxWrap"),i=(0,l.up)("el-button"),c=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(c,{class:"options",title:"阻止窗口","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(i,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",z,[(0,l._)("div",P,[(0,l.Wm)(r,{ref:"devices",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),F,(0,l._)("div",M,[(0,l._)("div",L,[(0,l.Wm)(r,{ref:"privateExes",data:n.state.privateExes,items:[],label:"FileName",text:"Desc",title:"私有窗口"},{name:(0,l.w5)((e=>[(0,l.Uk)((0,s.zw)(e.item.Desc||e.item.FileName),1)])),_:1},8,["data"])]),$,(0,l._)("div",E,[(0,l.Wm)(r,{ref:"publicExes",data:n.state.publicExes,items:[],label:"FileName",text:"Desc",title:"公共窗口"},{name:(0,l.w5)((e=>[(0,l.Uk)((0,s.zw)(e.item.Desc||e.item.FileName),1)])),_:1},8,["data"])])])])])),_:1},8,["modelValue"])}var B=a(3827),O=a(6e3),Z={props:["modelValue","items"],emits:["update:modelValue"],components:{CheckBoxWrap:B.Z},setup(e,{emit:t}){const a=(0,U.d)(),n=(0,h.$)(),o=(0,l.Fl)((()=>a.value.usernames[a.value.username])),s=a.value.publicUserName,u=(0,l.Fl)((()=>a.value.usernames[s])),r=u.value&&a.value.username!=s,i=(0,m.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.activeWindow.devices)),privateExes:(0,l.Fl)((()=>o.value?o.value.FileNames:[])),publicExes:(0,l.Fl)((()=>r?u.value.FileNames:[])),loading:!1});(0,l.YP)((()=>i.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)})),(0,l.bv)((()=>{a.value.updateFlag=Date.now()}));const c=(0,m.iH)(null),d=(0,m.iH)(null),v=(0,m.iH)(null),f=()=>{const e=d.value.getData(),t=v.value.getData();return e.concat(t).reduce(((e,t,a)=>{let l=t.split(",");for(let n=0;n<l.length;n++)-1==e.indexOf(l[n])&&e.push(l[n]);return e}),[])},w=()=>{const e=c.value.getData();0!=e.length?O.T.confirm("如果未选择程序，则视为清空程序，是否确定应用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{i.loading=!0;const t=f();(0,p.$K)(e,t).then((e=>{i.loading=!1,I.z8.success("操作成功！")})).catch((e=>{i.loading=!1,I.z8.error("操作失败")}))})).catch((e=>{console.log(e)})):I.z8.error("未选择任何设备")},g=()=>{i.show=!1};return{state:i,globalData:a,devices:c,privateExes:d,publicExes:v,handleSubmit:w,handleCancel:g}}};const A=(0,f.Z)(Z,[["render",R],["__scopeId","data-v-77218684"]]);var H=A,q={components:{ActiveTimes:g,FileNames:j,ChooseDig:H},setup(){const e=(0,h.$)();return{pluginState:e}}};const Y=(0,f.Z)(q,[["render",o]]);var K=Y},8996:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(3396),n=a(7139),o=a(9242);const s={class:"title flex-1"},u={class:"btn"},r={class:"num"};function i(e,t,a,i,c,d){const m=(0,l.up)("Warning"),p=(0,l.up)("el-icon"),h=(0,l.up)("CirclePlus");return i.data.ActiveWindow.Pid>0?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"process flex",href:"javascript:;",onClick:t[2]||(t[2]=(...e)=>i.handleCloseActive&&i.handleCloseActive(...e))},[(0,l._)("span",s,(0,n.zw)(i.data.ActiveWindow.Title),1),(0,l._)("p",u,[(0,l._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>i.handleChoose&&i.handleChoose(...e)),["stop"]))},[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m)])),_:1}),(0,l._)("span",r,(0,n.zw)(i.data.ActiveWindow.Count),1)]),(0,l._)("a",{href:"javascript:;",onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>i.handleAddExe&&i.handleAddExe(...e)),["stop"]))},[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h)])),_:1})])])])):(0,l.kq)("",!0)}var c=a(6e3),d=a(7178),m=a(9418),p=a(7041),h=a(2683),v=a(2115),f={props:["data"],setup(e,{emit:t}){const a=(0,h.d)(),l=(0,v.$)(),n=()=>{c.T.confirm("是否确定关闭焦点窗口？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,m.G)([e.data.MachineName],[`taskkill /f /pid ${e.data.ActiveWindow.Pid}`]).then((e=>{e?d.z8.success("操作成功"):d.z8.error("操作失败")})).catch((()=>{d.z8.error("操作失败")}))})).catch((()=>{}))},o=()=>{l.value.activeWindow.devices=[e.data],l.value.activeWindow.showChoose=!0},s=()=>{const t=e.data.ActiveWindow.FileName.split("\\"),l=t[t.length-1],n=e.data.ActiveWindow.Desc,o=e.data.ActiveWindow.Title;let s="</p>是否确定添加到待选列表？</p>";s+=`<p>标题:【${o}】</p>`,s+=`<p>描述:【${n}】</p>`,s+=`<p>文件:【${l}】</p>`,s+="<p>windows商店应用，可能无法阻止，需要手动添加例如【计算器】，以侦测程序关闭</p>",c.T.confirm(s,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then((()=>{(0,p.Do)({username:a.value.username,FileName:{ID:0,FileName:l,Desc:n}}).then((e=>{a.value.updateFlag=Date.now(),e?d.z8.error(`操作失败:${e}`):d.z8.success("操作成功")})).catch((()=>{d.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleCloseActive:n,handleChoose:o,handleAddExe:s}}},w=a(89);const g=(0,w.Z)(f,[["render",i],["__scopeId","data-v-52394a62"]]);var _=g},8861:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Position"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleCommand&&n.handleCommand(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])}var o=a(2115),s={props:["data"],setup(e){const t=(0,o.$)(),a=()=>{t.value.command.items=[e.data],t.value.command.showCommand=!0};return{handleCommand:a}}},u=a(89);const r=(0,u.Z)(s,[["render",n]]);var i=r},1723:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Refresh"),r=(0,l.up)("el-icon"),i=(0,l.up)("SwitchButton");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleRebotSystem&&n.handleRebotSystem(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})]),(0,l._)("a",{href:"javascript:;",onClick:t[1]||(t[1]=(...e)=>n.handleCloseSystem&&n.handleCloseSystem(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])])}var o=a(6e3),s=a(7178),u=a(9418),r={props:["data"],setup(e){const t=()=>{l("确定重启系统吗？","shutdown -r -f -t 00")},a=()=>{l("确定关闭系统吗？","shutdown -s -f -t 00")},l=(t,a,l)=>{o.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,u.G)([e.data.MachineName],[a]).then((e=>{e?s.z8.success("操作成功"):s.z8.error("操作失败")})).catch((()=>{s.z8.error("操作失败")}))})).catch((()=>{}))};return{handleRebotSystem:t,handleCloseSystem:a}}},i=a(89);const c=(0,i.Z)(r,[["render",n],["__scopeId","data-v-0d57a6dc"]]);var d=c},5147:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Position"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleCommand},{default:(0,l.w5)((()=>[(0,l.Uk)("命令"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.command.items=t.value.devices,e.value.command.showCommand=!0};return{handleCommand:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var c=i},6447:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.command.showCommand?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.command.showCommand,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.command.showCommand=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115),s=a(7139);const u=e=>((0,l.dD)("data-v-23f5c300"),e=e(),(0,l.Cn)(),e),r={class:"command-wrap flex"},i={class:"items"},c=u((()=>(0,l._)("div",{class:"flex-1"},null,-1))),d={class:"commands"},m={class:"btn"};function p(e,t,a,n,o,u){const p=(0,l.up)("CheckBoxWrap"),h=(0,l.up)("el-button"),v=(0,l.up)("PrevBoxWrap"),f=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(f,{class:"options",title:"执行命令","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(h,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(h,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(p,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),c,(0,l._)("div",d,[(0,l.Wm)(v,{ref:"commands",data:n.state.commands,title:"命令多发"},{default:(0,l.w5)((e=>[(0,l._)("div",m,[(0,l.Wm)(h,{loading:n.state.loading,onClick:t=>n.handleCommand(e.item)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.item.label),1)])),_:2},1032,["loading","onClick"])])])),_:1},8,["data"])])])])),_:1},8,["modelValue"])}var h=a(4870),v=a(3827),f=a(5291),w=a(7178),g=a(6e3),_=a(9418),k=a(3327),C=a(9528),D=a(5260),x=a(8048),V=a(2683),W={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:v.Z,PrevBoxWrap:f.Z},setup(e,{emit:t}){const a=(0,V.d)(),n=(0,o.$)(),s=(e,t)=>{(0,C.i)(e,t,`http://${window.location.hostname}:${window.location.port}/bg.jpg`)},u=(0,h.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.command.items)),commands:[{label:"强制关机",value:"shutdown -s -f -t 00"},{label:"强制重启",value:"shutdown -r -f -t 00"},{label:"打开锁屏",func:k.Q,value:!0},{label:"关闭锁屏",func:k.Q,value:!1},{label:"打开壁纸",func:s,value:!0},{label:"关闭壁纸",func:s,value:!1},{label:"禁用U盘",func:D.E,value:!0},{label:"启用U盘",func:D.E,value:!1},{label:"设置静音",func:x.H,value:!0},{label:"取消静音",func:x.H,value:!1}],loading:!1});(0,l.YP)((()=>u.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const r=(0,h.iH)(null),i=e=>{let t=r.value.getData();0!=t.length?g.T.confirm("是否确定执行命令？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{u.loading=!0;const a=e.func?e.func(t,e.value):(0,_.G)(t,[e.value]);a.then((e=>{e?w.z8.success("操作成功"):w.z8.error("操作失败"),u.loading=!1})).catch((()=>{u.loading=!1,w.z8.error("操作失败")}))})).catch((()=>{})):w.z8.error("未选择任何设备")},c=()=>{u.show=!1};return{state:u,globalData:a,items:r,handleCancel:c,handleCommand:i}}},b=a(89);const y=(0,b.Z)(W,[["render",p],["__scopeId","data-v-23f5c300"]]);var I=y,U={components:{ChooseDig:I},setup(){const e=(0,o.$)();return{pluginState:e}}};const T=(0,b.Z)(U,[["render",n]]);var N=T},2026:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Grid"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleDevices&&n.handleDevices(...e))},[(0,l._)("span",null,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Uk)("设备")])])}var o=a(2115),s={sort:0,setup(){const e=(0,o.$)(),t=()=>{e.value.device.showDevices=!0};return{handleDevices:t}}},u=a(89);const r=(0,u.Z)(s,[["render",n],["__scopeId","data-v-58f46825"]]);var i=r},9550:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.device.showDevices?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.device.showDevices,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.device.showDevices=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115);const s={class:"devices-wrap"},u={class:"del-btn"};function r(e,t,a,n,o,r){const i=(0,l.up)("Delete"),c=(0,l.up)("el-icon"),d=(0,l.up)("el-popconfirm"),m=(0,l.up)("CheckBoxWrap"),p=(0,l.up)("el-button"),h=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(h,{class:"options",title:"选择你的设备","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","close-on-click-modal":!1,"align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(p,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(p,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(m,{ref:"devices",data:n.state.list,items:n.state.items,label:"MachineName",text:"MachineName",title:"选择设备"},{oper:(0,l.w5)((e=>[(0,l._)("div",null,[(0,l.Wm)(d,{title:"删除不可逆，是否确认?",onConfirm:t=>n.handleDel(e.item.MachineName)},{reference:(0,l.w5)((()=>[(0,l._)("span",u,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])])),_:2},1032,["onConfirm"])])])),_:1},8,["data","items"])])])),_:1},8,["modelValue"])}var i=a(4870),c=a(3827),d=a(2331),m=a(1468),p=a(7178),h=a(2683),v={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:c.Z},setup(e,{emit:t}){const a=(0,h.d)(),n=(0,i.qj)({show:e.modelValue,loading:!1,list:(0,l.Fl)((()=>a.value.allDevices)),items:(0,l.Fl)((()=>a.value.devices))});(0,l.YP)((()=>n.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const o=()=>{n.show=!1,a.value.updateFlag=Date.now()},s=e=>{n.loading=!0,(0,m.FU)(e).then((()=>{n.loading=!1,a.value.updateFlag=Date.now()})).catch((()=>{n.loading=!1}))},u=(0,i.iH)(null),r=()=>{const e=u.value.getData();n.loading=!0,(0,d.hG)({username:a.value.username,devices:e}).then((e=>{n.loading=!1,a.value.updateFlag=Date.now(),e?p.z8.error(e):p.z8.success("操作成功！")})).catch((()=>{n.loading=!1,p.z8.error("操作失败!")}))};return(0,l.bv)((()=>{a.value.updateFlag=Date.now()})),{state:n,devices:u,handleCancel:o,handleSubmit:r,handleDel:s}}},f=a(89);const w=(0,f.Z)(v,[["render",r],["__scopeId","data-v-10156ea9"]]);var g=w,_={components:{ChooseDig:g},setup(){const e=(0,o.$)();return{pluginState:e}}};const k=(0,f.Z)(_,[["render",n]]);var C=k},8691:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396),n=a(7139);const o={class:"value"};function s(e,t,a,s,u,r){const i=(0,l.up)("Umbrella"),c=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>s.handleRule&&s.handleRule(...e))},[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1}),(0,l._)("span",o,(0,n.zw)(s.data.Hijack.Count),1)])}var u=a(2115),r={props:["data"],setup(e){const t=(0,u.$)(),a=()=>{t.value.hijack.showRulesItems=[e.data],t.value.hijack.showRules=!0};return{data:e.data,handleRule:a}}},i=a(89);const c=(0,i.Z)(r,[["render",s],["__scopeId","data-v-9cd14c88"]]);var d=c},1405:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);const n={href:"javascript:;"},o={class:"el-dropdown-link"};function s(e,t,a,s,u,r){const i=(0,l.up)("Umbrella"),c=(0,l.up)("el-icon"),d=(0,l.up)("arrow-down"),m=(0,l.up)("el-dropdown-item"),p=(0,l.up)("el-dropdown-menu"),h=(0,l.up)("el-dropdown");return(0,l.wg)(),(0,l.iD)("a",n,[(0,l.Wm)(h,null,{dropdown:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:s.handleProcess},{default:(0,l.w5)((()=>[(0,l.Uk)("程序配置")])),_:1},8,["onClick"]),(0,l.Wm)(m,{divided:"",onClick:s.handleRule},{default:(0,l.w5)((()=>[(0,l.Uk)("分组配置")])),_:1},8,["onClick"])])),_:1})])),default:(0,l.w5)((()=>[(0,l._)("span",o,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1}),(0,l.Uk)("网络 "),(0,l.Wm)(c,{class:"el-icon--right"},{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})])])),_:1})])}var u=a(2115),r={sort:2,setup(){const e=(0,u.$)(),t=()=>{e.value.hijack.showProcessSetting=!0},a=()=>{e.value.hijack.showRuleSetting=!0};return{handleProcess:t,handleRule:a}}},i=a(89);const c=(0,i.Z)(r,[["render",s],["__scopeId","data-v-c220b2f6"]]);var d=c},1160:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig"),r=(0,l.up)("RuleSetting"),i=(0,l.up)("ProcessSetting");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.hijack.showRules?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.hijack.showRules,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.hijack.showRules=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.hijack.showRuleSetting?((0,l.wg)(),(0,l.j4)(r,{key:1,modelValue:n.pluginState.hijack.showRuleSetting,"onUpdate:modelValue":t[1]||(t[1]=e=>n.pluginState.hijack.showRuleSetting=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.hijack.showProcessSetting?((0,l.wg)(),(0,l.j4)(i,{key:2,modelValue:n.pluginState.hijack.showProcessSetting,"onUpdate:modelValue":t[2]||(t[2]=e=>n.pluginState.hijack.showProcessSetting=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115);const s=e=>((0,l.dD)("data-v-264777cc"),e=e(),(0,l.Cn)(),e),u={class:"rule-wrap flex"},r={class:"items"},i=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),c={class:"rules flex flex-column"},d={class:"private"},m=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),p={class:"public"};function h(e,t,a,n,o,s){const h=(0,l.up)("CheckBoxWrap"),v=(0,l.up)("el-button"),f=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(f,{class:"options",title:"网络限制","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(v,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(v,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",r,[(0,l.Wm)(h,{ref:"devices",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),i,(0,l._)("div",c,[(0,l._)("div",d,[(0,l.Wm)(h,{ref:"privateRules",data:n.state.privateRules,items:[],label:"ID",text:"Name",title:"私有限制"},null,8,["data"])]),m,(0,l._)("div",p,[(0,l.Wm)(h,{ref:"publicRules",data:n.state.publicRules,items:[],label:"ID",text:"Name",title:"公共限制"},null,8,["data"])])])])])),_:1},8,["modelValue"])}a(7658);var v=a(4870),f=a(3827),w=a(7178),g=a(6e3),_=a(2331),k=a(2683),C={props:["modelValue","items"],emits:["update:modelValue"],components:{CheckBoxWrap:f.Z},setup(e,{emit:t}){const a=(0,k.d)(),n=(0,o.$)(),s=(0,l.Fl)((()=>a.value.usernames[a.value.username])),u=a.value.publicUserName,r=(0,l.Fl)((()=>a.value.usernames[u])),i=r.value&&a.value.username!=u,c=(0,v.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.hijack.showRulesItems)),privateRules:(0,l.Fl)((()=>s.value?s.value.Rules:[])),publicRules:(0,l.Fl)((()=>i?r.value.Rules:[])),loading:!1});(0,l.YP)((()=>c.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const d=(0,v.iH)(null),m=(0,v.iH)(null),p=(0,v.iH)(null),h=()=>{const e=m.value.getData(),t=p.value.getData(),a=s.value,l=r.value,n=a.Rules.filter((t=>e.indexOf(t.ID)>=0)).map((e=>a.Processs.filter((t=>e.PrivateProcesss.indexOf(t.ID)>=0)))),o=l.Rules.filter((e=>t.indexOf(e.ID)>=0)).map((e=>l.Processs.filter((t=>e.PublicProcesss.indexOf(t.ID)>=0)))),u=n.concat(o).reduce(((e,t,a)=>(e=e.concat(t.reduce(((e,t,a)=>(e=e.concat(t.List),e)),[])),e)),[]),i=[];return u.forEach((e=>{0==i.filter((t=>t.Name==e.Name&&t.DataType==e.DataType&&t.AllowType==e.AllowType)).length&&i.push(e)})),{AllowProcesss:i.filter((e=>0==e.DataType&&0==e.AllowType)).map((e=>e.Name)),DeniedProcesss:i.filter((e=>0==e.DataType&&1==e.AllowType)).map((e=>e.Name)),AllowDomains:i.filter((e=>1==e.DataType&&0==e.AllowType)).map((e=>e.Name)),DeniedDomains:i.filter((e=>1==e.DataType&&1==e.AllowType)).map((e=>e.Name)),AllowIPs:i.filter((e=>2==e.DataType&&0==e.AllowType)).map((e=>e.Name)),DeniedIPs:i.filter((e=>2==e.DataType&&1==e.AllowType)).map((e=>e.Name))}},f=()=>{const e=d.value.getData();0!=e.length?g.T.confirm("如果未选择任何限制，则视为清空限制，是否确定应用限制？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{c.loading=!0;const t=h();(0,_.Gn)({Devices:e,Rules:t}).then((e=>{c.loading=!1,e&&e.length>0?w.z8.error(`操作失败，失败设备:${e.join(",")}`):w.z8.success("操作成功！")})).catch((e=>{c.loading=!1,w.z8.error("操作失败")}))})).catch((()=>{})):w.z8.error("未选择任何设备")},C=()=>{c.show=!1};return{state:c,globalData:a,devices:d,privateRules:m,publicRules:p,handleSubmit:f,handleCancel:C}}},D=a(89);const x=(0,D.Z)(C,[["render",h],["__scopeId","data-v-264777cc"]]);var V=x,W=a(5178),b=a(2833),y={components:{ChooseDig:V,RuleSetting:W["default"],ProcessSetting:b["default"]},setup(){const e=(0,o.$)();return{pluginState:e}}};const I=(0,D.Z)(y,[["render",n]]);var U=I},2850:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396),n=a(7139);const o={class:"speed"};function s(e,t,a,s,u,r){const i=(0,l.up)("Upload"),c=(0,l.up)("el-icon"),d=(0,l.up)("Download");return(0,l.wg)(),(0,l.iD)("span",o,[(0,l._)("span",null,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1}),(0,l.Uk)(" "+(0,n.zw)(s.data.Hijack.UploadText),1)]),(0,l._)("span",null,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1}),(0,l.Uk)(" "+(0,n.zw)(s.data.Hijack.DownloadText),1)])])}var u={props:["data"],setup(e){return{data:e.data}}},r=a(89);const i=(0,r.Z)(u,[["render",s],["__scopeId","data-v-756d6f76"]]);var c=i},2833:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Groups"),r=(0,l.up)("el-tab-pane"),i=(0,l.up)("Items"),c=(0,l.up)("el-tabs"),d=(0,l.up)("el-button"),m=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(m,{class:"options",title:"限制程序配置","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","close-on-click-modal":!1,"align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l.Wm)(c,{type:"border-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"程序分组"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(r,{label:"程序列表"},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])),_:1})])),_:1},8,["modelValue"])}var o=a(4870);const s={class:"process-items-wrap flex flex-nowrap flex-column"},u={class:"head t-c flex"},r={class:"flex-1"},i={class:"prevs-wrap"};function c(e,t,a,n,o,c){const d=(0,l.up)("el-button"),m=(0,l.up)("el-table-column"),p=(0,l.up)("EditPen"),h=(0,l.up)("el-icon"),v=(0,l.up)("Delete"),f=(0,l.up)("el-popconfirm"),w=(0,l.up)("el-table"),g=(0,l.up)("el-input"),_=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l.Wm)(d,{onClick:t[0]||(t[0]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(w,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{prop:"Name",label:"名称"}),(0,l.Wm)(m,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[e.row.ID>1?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(d,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(f,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(d,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])],64)):(0,l.kq)("",!0)])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(_,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(d,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(g,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"分组名称"},null,8,["modelValue"])])])),_:1},8,["title","modelValue"])])}var d=a(7178),m=a(2331),p=a(2683),h={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,currentItem:{ID:0,Name:""},showEdit:!1,list:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Processs.length>0&&(t.group=a.Processs[0].ID),a.Processs):[]}))}),a=e=>{e=e||{Name:"",ID:0},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.showEdit=!0},n=a=>{t.loading=!0,(0,m.XM)({UserName:e.value.username,ID:a.ID}).then((a=>{t.loading=!1,a?d.z8.error(a):(d.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,d.z8.error("操作失败!")}))},s=()=>{t.showEdit=!1},u=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.xc)({UserName:e.value.username,Group:t.currentItem}).then((a=>{t.loading=!1,a?d.z8.error(a):(d.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,d.z8.error("操作失败!")})))};return{state:t,handleAdd:a,handleDel:n,handleEditCancel:s,handleEditSubmit:u}}},v=a(89);const f=(0,v.Z)(h,[["render",c],["__scopeId","data-v-11761ba6"]]);var w=f,g=a(7139);const _=e=>((0,l.dD)("data-v-584284ae"),e=e(),(0,l.Cn)(),e),k={class:"process-items-wrap flex flex-nowrap flex-column"},C={class:"head t-c flex"},D=_((()=>(0,l._)("span",{class:"flex-1"},null,-1))),x={class:"flex-1"},V={class:"prevs-wrap"},W=_((()=>(0,l._)("div",{class:"alert"},[(0,l._)("p",null,"1、黑名单优先"),(0,l._)("p",null,"2、支持进程名，域名，ip(支持掩码)"),(0,l._)("p",null,"3、进程，域名，后序截取判断")],-1))),b={style:{"padding-bottom":"1rem"}},y={class:"t-c",style:{"padding-bottom":"1rem"}},I={class:"t-c"};function U(e,t,a,n,o,s){const u=(0,l.up)("el-option"),r=(0,l.up)("el-select"),i=(0,l.up)("el-button"),c=(0,l.up)("el-table-column"),d=(0,l.up)("EditPen"),m=(0,l.up)("el-icon"),p=(0,l.up)("Delete"),h=(0,l.up)("el-popconfirm"),v=(0,l.up)("el-table"),f=(0,l.up)("el-input"),w=(0,l.up)("el-radio"),_=(0,l.up)("el-radio-group"),U=(0,l.up)("el-switch"),T=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",C,[(0,l.Wm)(r,{modelValue:n.state.group,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.group=e),placeholder:"选择一个分组",style:{width:"13rem"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.groups,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.ID,label:e.Name,value:e.ID},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),D,(0,l.Wm)(i,{onClick:t[1]||(t[1]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",x,[(0,l._)("div",V,[(0,l.Wm)(v,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{prop:"Name",label:"名称"},{default:(0,l.w5)((e=>[(0,l._)("strong",{class:(0,g.C_)(`allow-type-${e.row.AllowType}`)},(0,g.zw)(e.row.Name),3)])),_:1}),(0,l.Wm)(c,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[(0,l.Wm)(i,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(h,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(i,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(T,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[5]||(t[5]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(i,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[W,(0,l._)("div",b,[(0,l.Wm)(f,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"进程 | 域名 | ip(支持掩码/32)"},null,8,["modelValue"])]),(0,l._)("div",y,[(0,l.Wm)(_,{modelValue:n.state.currentItem.DataType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.state.currentItem.DataType=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{label:0},{default:(0,l.w5)((()=>[(0,l.Uk)("进程")])),_:1}),(0,l.Wm)(w,{label:1},{default:(0,l.w5)((()=>[(0,l.Uk)("域名")])),_:1}),(0,l.Wm)(w,{label:2},{default:(0,l.w5)((()=>[(0,l.Uk)("IP")])),_:1})])),_:1},8,["modelValue"])]),(0,l._)("div",I,[(0,l.Wm)(U,{modelValue:n.state.currentItem.AllowType,"onUpdate:modelValue":t[4]||(t[4]=e=>n.state.currentItem.AllowType=e),size:"large","active-text":"允许","inactive-text":"阻止","active-value":0,"inactive-value":1},null,8,["modelValue"])])])])),_:1},8,["title","modelValue"])])}var T={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,group:0,currentItem:{ID:0,Name:"",AllowType:1,DataType:0},showEdit:!1,groups:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Processs.length>0&&(t.group=a.Processs[0].ID),a.Processs):[]})),list:(0,l.Fl)((()=>{let e=t.groups.filter((e=>e.ID==t.group))[0];return e?e.List:[]}))});(0,l.YP)((()=>t.currentItem.Name),(()=>{a(t.currentItem.Name)}));const a=e=>{const a=/^.{0,}(\.exe)$/.test(e),l=/^((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d?\d))(\/\d{1,})?$/.test(e);t.currentItem.DataType=a?0:l?2:1,l&&e.indexOf("/")<0&&(t.currentItem.Name=t.currentItem.Name+"/32")},n=e=>{e=e||{Name:"",ID:0,AllowType:1,DataType:0},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.currentItem.AllowType=e.AllowType,t.showEdit=!0},s=a=>{t.loading=!0,(0,m.sz)({UserName:e.value.username,GroupID:t.group,ID:a.ID}).then((a=>{t.loading=!1,a?d.z8.error(a):(d.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,d.z8.error("操作失败!")}))},u=()=>{t.showEdit=!1},r=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.Az)({UserName:e.value.username,GroupID:t.group,Item:t.currentItem}).then((a=>{t.loading=!1,a?d.z8.error(a):(d.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,d.z8.error("操作失败!")})))};return{state:t,handleNameChange:a,handleAdd:n,handleDel:s,handleEditCancel:u,handleEditSubmit:r}}};const N=(0,v.Z)(T,[["render",U],["__scopeId","data-v-584284ae"]]);var j=N,S={props:["modelValue"],emits:["update:modelValue"],components:{Groups:w,Items:j},setup(e,{emit:t}){const a=(0,o.qj)({show:e.modelValue,loading:!1});(0,l.YP)((()=>a.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const n=(0,p.d)();(0,l.bv)((()=>{n.value.updateFlag=Date.now()}));const s=()=>{a.show=!1};return{state:a,handleCancel:s}}};const z=(0,v.Z)(S,[["render",n]]);var P=z},8921:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Umbrella"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleRule},{default:(0,l.w5)((()=>[(0,l.Uk)("网络"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2115),s=a(2683),u={setup(){const e=(0,o.$)(),t=(0,s.d)(),a=()=>{e.value.hijack.showRulesItems=t.value.devices,e.value.hijack.showRules=!0};return{handleRule:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var c=i},5178:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Groups"),r=(0,l.up)("el-tab-pane"),i=(0,l.up)("Rule"),c=(0,l.up)("el-tabs"),d=(0,l.up)("el-button"),m=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(m,{class:"options",title:"限制组配置","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","close-on-click-modal":!1,"align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l.Wm)(c,{type:"border-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"限制组"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(r,{label:"限制内容"},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])),_:1})])),_:1},8,["modelValue"])}var o=a(4870);const s={class:"rule-items-wrap flex flex-nowrap flex-column"},u={class:"head t-c flex"},r={class:"flex-1"},i={class:"prevs-wrap"};function c(e,t,a,n,o,c){const d=(0,l.up)("el-button"),m=(0,l.up)("el-table-column"),p=(0,l.up)("EditPen"),h=(0,l.up)("el-icon"),v=(0,l.up)("Delete"),f=(0,l.up)("el-popconfirm"),w=(0,l.up)("el-table"),g=(0,l.up)("el-input"),_=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l.Wm)(d,{onClick:t[0]||(t[0]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(w,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{prop:"Name",label:"名称"}),(0,l.Wm)(m,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[e.row.ID>1?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(d,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(f,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(d,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])],64)):(0,l.kq)("",!0)])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(_,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(d,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(d,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(g,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"分组名称"},null,8,["modelValue"])])])),_:1},8,["title","modelValue"])])}var d=a(7178),m=a(2331),p=a(2683),h={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,currentItem:{ID:0,Name:""},showEdit:!1,list:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Rules.length>0&&(t.group=a.Rules[0].ID),a.Rules):[]}))}),a=e=>{e=e||{Name:"",ID:0},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.showEdit=!0},n=a=>{t.loading=!0,(0,m.U4)({UserName:e.value.username,ID:a.ID}).then((a=>{t.loading=!1,a?d.z8.error(a):(d.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,d.z8.error("操作失败!")}))},s=()=>{t.showEdit=!1},u=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.HP)({UserName:e.value.username,Rule:t.currentItem}).then((a=>{t.loading=!1,a?d.z8.error(a):(d.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,d.z8.error("操作失败!")})))};return{state:t,handleAdd:a,handleDel:n,handleEditCancel:s,handleEditSubmit:u}}},v=a(89);const f=(0,v.Z)(h,[["render",c],["__scopeId","data-v-2c5257ac"]]);var w=f;const g=e=>((0,l.dD)("data-v-e2faccc0"),e=e(),(0,l.Cn)(),e),_={class:"command-wrap flex flex-column"},k={class:"head t-c flex"},C=g((()=>(0,l._)("div",{class:"flex-1"},null,-1))),D={class:"body flex flex-1"},x={class:"private"},V=g((()=>(0,l._)("div",{class:"flex-1"},null,-1))),W={class:"public"};function b(e,t,a,n,o,s){const u=(0,l.up)("el-option"),r=(0,l.up)("el-select"),i=(0,l.up)("el-button"),c=(0,l.up)("CheckBoxWrap");return(0,l.wg)(),(0,l.iD)("div",_,[(0,l._)("div",k,[(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.state.group,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.group=e),placeholder:"选择一个分组",style:{width:"13rem"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.groups,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.ID,label:e.Name,value:e.ID},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),C,(0,l._)("div",null,[(0,l.Wm)(i,{onClick:t[1]||(t[1]=e=>n.handleSave()),loading:n.state.loading},{default:(0,l.w5)((()=>[(0,l.Uk)("保存选择")])),_:1},8,["loading"])])]),(0,l._)("div",D,[(0,l._)("div",x,[(0,l.Wm)(c,{ref:"privateProcess",data:n.state.privateProcess,items:n.state.privateProcessItems,label:"ID",text:"Name",title:"私有程序组"},null,8,["data","items"])]),V,(0,l._)("div",W,[(0,l.Wm)(c,{ref:"publicProcess",data:n.state.publicProcess,items:n.state.publicProcessItems,label:"ID",text:"Name",title:"公共程序组"},null,8,["data","items"])])])])}var y=a(3827),I={components:{CheckBoxWrap:y.Z},setup(){const e=(0,p.d)(),t=(0,l.Fl)((()=>e.value.usernames[e.value.username])),a=e.value.publicUserName,n=(0,l.Fl)((()=>e.value.usernames[a])),s=n.value&&e.value.username!=a,u=(0,o.qj)({loading:!1,group:0,groups:(0,l.Fl)((()=>t.value?(0==u.group&&t.value.Rules.length>0&&(u.group=t.value.Rules[0].ID),t.value.Rules):[])),rule:(0,l.Fl)((()=>{if(t){let e=t.value.Rules.filter((e=>e.ID==u.group))[0];if(e)return e}return{ID:0,Name:"",PrivateProcesss:[],PublicProcesss:[]}})),privateProcess:(0,l.Fl)((()=>t.value?t.value.Processs:[])),privateProcessItems:(0,l.Fl)((()=>t.value?t.value.Processs.filter((e=>u.rule.PrivateProcesss.indexOf(e.ID)>=0)):[])),publicProcess:(0,l.Fl)((()=>s?n.value.Processs:[])),publicProcessItems:(0,l.Fl)((()=>s?n.value.Processs.filter((e=>u.rule.PublicProcesss.indexOf(e.ID)>=0)):[]))});(0,l.YP)((()=>u.show),(e=>{e||setTimeout((()=>{emit("update:modelValue",e)}),300)}));const r=(0,o.iH)(null),i=(0,o.iH)(null),c=()=>{let a=t.value.Rules.filter((e=>e.ID==u.group))[0];a?(a.PrivateProcesss=r.value.getData(),a.PublicProcesss=i.value.getData(),u.loading=!0,(0,m.HP)({UserName:e.value.username,Rule:a}).then((t=>{u.loading=!1,t?d.z8.error(t):(e.value.updateFlag=Date.now(),d.z8.success("操作成功"))})).catch((()=>{u.loading=!1,d.z8.error("操作失败")}))):d.z8.error("未选择任何限制分组")};return{state:u,handleSave:c,privateProcess:r,publicProcess:i}}};const U=(0,v.Z)(I,[["render",b],["__scopeId","data-v-e2faccc0"]]);var T=U,N={props:["modelValue"],emits:["update:modelValue"],components:{Groups:w,Rule:T},setup(e,{emit:t}){const a=(0,o.qj)({show:e.modelValue});(0,l.YP)((()=>a.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const n=()=>{a.show=!1};return{state:a,handleCancel:n}}};const j=(0,v.Z)(N,[["render",n]]);var S=j},146:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396),n=a(7139);const o={href:"javascript:;"},s={class:"light-value"};function u(e,t,a,u,r,i){const c=(0,l.up)("Sunny"),d=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",o,[(0,l._)("span",{class:"light",onClick:t[0]||(t[0]=(...e)=>u.handleLight&&u.handleLight(...e))},[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l._)("div",{class:"light-bg",style:(0,n.j5)({height:`${u.data.Light.Value}%`})},[(0,l.Wm)(d,{class:"value"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1})],4)]),(0,l._)("p",s,(0,n.zw)(u.data.Light.Value),1)])}var r=a(2115),i={props:["data"],setup(e){const t=(0,r.$)(),a=()=>{t.value.light.items=[e.data],t.value.light.showLightSingle=!0};return{data:e.data,handleLight:a}}},c=a(89);const d=(0,c.Z)(i,[["render",u],["__scopeId","data-v-ac6c271a"]]);var m=d},7752:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Sunny"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleLight},{default:(0,l.w5)((()=>[(0,l.Uk)("亮度 "),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.light.items=t.value.devices,e.value.light.showLight=!0};return{handleLight:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var c=i},2943:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Light"),r=(0,l.up)("LightSingle");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.light.showLight?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.light.showLight,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.light.showLight=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.light.showLightSingle?((0,l.wg)(),(0,l.j4)(r,{key:1,modelValue:n.pluginState.light.showLightSingle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.pluginState.light.showLightSingle=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115),s=a(7139);const u=e=>((0,l.dD)("data-v-f908807c"),e=e(),(0,l.Cn)(),e),r={class:"command-wrap flex"},i={class:"items"},c={class:"name"},d={class:"light"},m={class:"value"},p=u((()=>(0,l._)("div",{class:"flex-1"},null,-1))),h={class:"commands"},v={class:"slider-wrap flex flex-column"},f={class:"silder flex flex-1"},w={class:"flex-1"};function g(e,t,a,n,o,u){const g=(0,l.up)("Sunny"),_=(0,l.up)("el-icon"),k=(0,l.up)("CheckBoxWrap"),C=(0,l.up)("el-slider"),D=(0,l.up)("PrevBoxWrap"),x=(0,l.up)("el-button"),V=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(V,{class:"options",title:"调节亮度","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(x,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(x,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(k,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"全选"},{name:(0,l.w5)((e=>[(0,l._)("span",null,[(0,l._)("span",c,(0,s.zw)(e.item.MachineName),1),(0,l._)("strong",d,[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g)])),_:1}),(0,l._)("strong",m,(0,s.zw)(e.item.Light.Value?Math.floor(e.item.Light.Value):e.item.Light.Value)+"%",1)])])])),_:1},8,["data","items"])]),p,(0,l._)("div",h,[(0,l.Wm)(D,{ref:"commands",title:"调节亮度"},{wrap:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("div",f,[(0,l._)("div",w,[(0,l.Wm)(C,{onChange:n.handleChangeLight,modelValue:n.state.light,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.light=e),vertical:"",height:"100%"},null,8,["onChange","modelValue"])])])])])),_:1},512)])])])),_:1},8,["modelValue"])}var _=a(4870),k=a(3827),C=a(5291),D=a(7178),x=a(2843);const V=(e,t)=>(0,x.gQ)("light/update",{names:e,value:t});var W=a(2683),b={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:k.Z,PrevBoxWrap:C.Z},setup(e,{emit:t}){const a=(0,W.d)(),n=(0,o.$)(),s=(0,_.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.light.items)),mute:!1,loading:!1,light:0});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=(0,_.iH)(null),i=()=>{let e=r.value.getData();0!=e.length?V(e,s.light):D.z8.error("未选择任何设备")};return{state:s,globalData:a,items:r,handleCancel:u,handleChangeLight:i}}},y=a(89);const I=(0,y.Z)(b,[["render",g],["__scopeId","data-v-f908807c"]]);var U=I;const T={class:"slider-wrap flex flex-column"},N={class:"silder flex flex-1"},j={class:"flex-1"};function S(e,t,a,n,o,s){const u=(0,l.up)("el-slider"),r=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(r,{title:"调节亮度","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{default:(0,l.w5)((()=>[(0,l._)("div",T,[(0,l._)("div",N,[(0,l._)("div",j,[(0,l.Wm)(u,{onChange:n.handleChangeLight,modelValue:n.state.light,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.light=e)},null,8,["onChange","modelValue"])])])])])),_:1},8,["modelValue"])}var z={props:["modelValue","items"],emits:["update:modelValue"],components:{},setup(e,{emit:t}){const a=(0,W.d)(),n=(0,o.$)(),s=(0,_.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.light.items)),loading:!1,light:n.value.light.items[0].Light.Value});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=()=>{V(s.items.map((e=>e.MachineName)),s.light)};return{state:s,globalData:a,handleCancel:u,handleChangeLight:r}}};const P=(0,y.Z)(z,[["render",S],["__scopeId","data-v-152d0c7b"]]);var F=P,M={components:{Light:U,LightSingle:F},setup(){const e=(0,o.$)();return{pluginState:e}}};const L=(0,y.Z)(M,[["render",n]]);var $=L},6542:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleLock,"model-value":n.data.LLock.Value,"inline-prompt":"","active-text":"锁屏","inactive-text":"锁屏"},null,8,["onClick","model-value"])])),_:1})}var o=a(3327),s=a(2115),u=a(6e3),r=a(7178),i={sort:2,props:["data"],setup(e){(0,s.$)();const t=()=>{let t=e.data.LLock.Value?"确定解除锁屏吗？":"确定开启锁屏吗？";u.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.Q)([e.data.MachineName],!e.data.LLock.Value).then((e=>{e?r.z8.success("操作成功"):r.z8.error("操作失败")})).catch((()=>{r.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleLock:t}}},c=a(89);const d=(0,c.Z)(i,[["render",n]]);var m=d},2356:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Bell"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleMessage&&n.handleMessage(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])}var o=a(2115),s={props:["data"],setup(e){const t=(0,o.$)(),a=()=>{t.value.message.items=[e.data],t.value.message.showMessage=!0};return{handleMessage:a}}},u=a(89);const r=(0,u.Z)(s,[["render",n]]);var i=r},7124:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Bell"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleMessage},{default:(0,l.w5)((()=>[(0,l.Uk)("提醒"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.message.items=t.value.devices,e.value.message.showMessage=!0};return{handleMessage:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var c=i},7328:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.message.showMessage?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.message.showMessage,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.message.showMessage=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115);const s=e=>((0,l.dD)("data-v-e39bc896"),e=e(),(0,l.Cn)(),e),u={class:"command-wrap flex"},r={class:"items"},i=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),c={class:"prevs-wrap flex flex-column flex-nowrap"},d={class:"prevs"},m=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),p={class:"times"},h={class:"prev"};function v(e,t,a,n,o,s){const v=(0,l.up)("CheckBoxWrap"),f=(0,l.up)("PrevBoxWrap"),w=(0,l.up)("el-input"),g=(0,l.up)("el-button"),_=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(_,{class:"options",title:"发送提醒","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(g,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(g,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",r,[(0,l.Wm)(v,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),i,(0,l._)("div",c,[(0,l._)("div",d,[(0,l.Wm)(f,{ref:"prevs",data:n.state.prevs,onPrev:n.handlePrev,title:"快捷短语"},null,8,["data","onPrev"])]),m,(0,l._)("div",null,[(0,l._)("div",p,[(0,l.Wm)(w,{modelValue:n.state.sec,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.sec=e),size:"large"},{append:(0,l.w5)((()=>[(0,l.Uk)("秒钟")])),_:1},8,["modelValue"])]),(0,l._)("div",h,[(0,l.Wm)(w,{modelValue:n.state.prev,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.prev=e),type:"textarea",resize:"none",placeholder:"输入提醒消息"},null,8,["modelValue"])])])])])])),_:1},8,["modelValue"])}a(7658);var f=a(4870),w=a(3827),g=a(5291),_=a(7178),k=a(6e3),C=a(9418),D=a(2683),x={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:w.Z,PrevBoxWrap:g.Z},setup(e,{emit:t}){const a=(0,D.d)(),n=(0,o.$)(),s=(0,f.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.message.items)),prevs:["请注意上课纪律!","请勿玩游戏!","请勿大声喧哗!"],sec:10,prev:"",loading:!1});try{1==n.value.message.items.length&&n.value.message.items[0].Screen.UserName&&s.prevs.push(`【${n.value.message.items[0].Screen.UserName}】请注意上课纪律!`)}catch(m){}(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=e=>{s.prev=e},r=(0,f.iH)(null),i=(0,f.iH)(null),c=()=>{let e=r.value.getData();0!=e.length?0!=s.prev.length?k.T.confirm("是否确定发送消息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{s.loading=!0,(0,C.G)(e,[`start message.win.exe "${s.prev}" ${s.sec}`]).then((e=>{e?_.z8.success("操作成功"):_.z8.error("操作失败"),s.loading=!1})).catch((()=>{s.loading=!1,_.z8.error("操作失败")}))})).catch((()=>{})):_.z8.error("未填写消息"):_.z8.error("未选择任何设备")},d=()=>{s.show=!1};return{state:s,globalData:a,items:r,prevs:i,handleSubmit:c,handleCancel:d,handlePrev:u}}},V=a(89);const W=(0,V.Z)(x,[["render",v],["__scopeId","data-v-e39bc896"]]);var b=W,y={components:{ChooseDig:b},setup(){const e=(0,o.$)();return{pluginState:e}}};const I=(0,V.Z)(y,[["render",n]]);var U=I},8202:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396),n=a(7139);function o(e,t,a,o,s,u){const r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:8,class:"time"},{default:(0,l.w5)((()=>[(0,l._)("span",null,"fps : "+(0,n.zw)(o.data.Report.fps)+" 、 "+(0,n.zw)(o.data.Report.ping)+"ms",1)])),_:1})}var s={sort:-1,props:["data"],setup(e){return{data:e.data}}},u=a(89);const r=(0,u.Z)(s,[["render",o],["__scopeId","data-v-1b21940a"]]);var i=r},2972:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleUSB,"model-value":n.data.Usb.Value,"inline-prompt":"","active-color":"#ff0000","active-text":"U盘","inactive-text":"U盘"},null,8,["onClick","model-value"])])),_:1})}var o=a(5260),s=a(2115),u=a(6e3),r=a(7178),i={sort:4,props:["data"],setup(e){(0,s.$)();const t=()=>{let t=e.data.Usb.Value?"确定启用USB吗？":"确定禁用USB吗？";u.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.E)([e.data.MachineName],!e.data.Usb.Value).then((e=>{e?r.z8.success("操作成功"):r.z8.error("操作失败")})).catch((()=>{r.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleUSB:t}}},c=a(89);const d=(0,c.Z)(i,[["render",n]]);var m=d},4073:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396),n=a(7139);const o={href:"javascript:;"},s={class:"volume-value"};function u(e,t,a,u,r,i){const c=(0,l.up)("Mute"),d=(0,l.up)("el-icon"),m=(0,l.up)("Microphone");return(0,l.wg)(),(0,l.iD)("a",o,[(0,l._)("span",{class:"volume",onClick:t[0]||(t[0]=(...e)=>u.handleVolume&&u.handleVolume(...e))},[u.data.Volume.Mute?((0,l.wg)(),(0,l.j4)(d,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1})):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m)])),_:1}),(0,l._)("div",{class:"volume-bg",style:(0,n.j5)({height:`${u.data.Volume.Value}%`})},[(0,l.Wm)(d,{class:"value"},{default:(0,l.w5)((()=>[(0,l.Wm)(m)])),_:1})],4)],64))]),(0,l._)("p",s,(0,n.zw)(Math.floor(u.data.Volume.Value)),1)])}var r=a(2115),i={props:["data"],setup(e){const t=(0,r.$)(),a=()=>{t.value.volume.items=[e.data],t.value.volume.showVolumeSingle=!0};return{data:e.data,handleVolume:a}}},c=a(89);const d=(0,c.Z)(i,[["render",u],["__scopeId","data-v-04238e4d"]]);var m=d},3767:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Microphone"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleVolume},{default:(0,l.w5)((()=>[(0,l.Uk)("音量"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.volume.items=t.value.devices,e.value.volume.showVolume=!0};return{handleVolume:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var c=i},9602:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Volume"),r=(0,l.up)("VolumeSingle");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.volume.showVolume?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.volume.showVolume,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.volume.showVolume=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.volume.showVolumeSingle?((0,l.wg)(),(0,l.j4)(r,{key:1,modelValue:n.pluginState.volume.showVolumeSingle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.pluginState.volume.showVolumeSingle=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115),s=a(7139);const u=e=>((0,l.dD)("data-v-40e78732"),e=e(),(0,l.Cn)(),e),r={class:"command-wrap flex"},i={class:"items"},c={class:"name"},d={class:"volume"},m={class:"value"},p=u((()=>(0,l._)("div",{class:"flex-1"},null,-1))),h={class:"commands"},v={class:"slider-wrap flex flex-column"},f={class:"silder flex flex-1"},w={class:"flex-1"},g={class:"btn"},_={class:"btn"};function k(e,t,a,n,o,u){const k=(0,l.up)("el-button"),C=(0,l.up)("Mute"),D=(0,l.up)("el-icon"),x=(0,l.up)("Microphone"),V=(0,l.up)("CheckBoxWrap"),W=(0,l.up)("el-slider"),b=(0,l.up)("PrevBoxWrap"),y=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(y,{class:"options",title:"调节音量","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[3]||(t[3]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(k,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(k,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(V,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"全选"},{title:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(k,{size:"small",onClick:n.handleSelectMute},{default:(0,l.w5)((()=>[(0,l.Uk)("状态选择")])),_:1},8,["onClick"])])])),name:(0,l.w5)((e=>[(0,l._)("span",null,[(0,l._)("span",c,(0,s.zw)(e.item.MachineName),1),(0,l._)("strong",d,[e.item.VolumeMute?((0,l.wg)(),(0,l.j4)(D,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(C)])),_:1})):((0,l.wg)(),(0,l.j4)(D,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(x)])),_:1})),(0,l._)("strong",m,(0,s.zw)(e.item.Volume.Value?Math.floor(e.item.Volume.Value):e.item.Volume.Value)+"%",1)])])])),_:1},8,["data","items"])]),p,(0,l._)("div",h,[(0,l.Wm)(b,{ref:"commands",title:"调节音量"},{wrap:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("div",f,[(0,l._)("div",w,[(0,l.Wm)(W,{onChange:n.handleChangeVolume,modelValue:n.state.volume,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.volume=e),vertical:"",height:"100%"},null,8,["onChange","modelValue"])])]),(0,l._)("div",g,[(0,l.Wm)(k,{onClick:t[1]||(t[1]=e=>n.handleMute(!0))},{default:(0,l.w5)((()=>[(0,l.Uk)("静音")])),_:1})]),(0,l._)("div",_,[(0,l.Wm)(k,{onClick:t[2]||(t[2]=e=>n.handleMute(!1))},{default:(0,l.w5)((()=>[(0,l.Uk)("取消静音")])),_:1})])])])),_:1},512)])])])),_:1},8,["modelValue"])}var C=a(4870),D=a(3827),x=a(5291),V=a(7178),W=a(8048),b=a(2683),y={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:D.Z,PrevBoxWrap:x.Z},setup(e,{emit:t}){const a=(0,b.d)(),n=(0,o.$)(),s=(0,C.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.volume.items)),mute:!1,loading:!1,volume:0});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=()=>{s.items=a.value.devices.filter((e=>e.VolumeMute==s.mute)),V.z8.success(`已选中${s.mute?"静音":"未静音"}设备`),s.mute=!s.mute},i=(0,C.iH)(null),c=e=>{let t=i.value.getData();0!=t.length?(0,W.H)(t,e):V.z8.error("未选择任何设备")},d=()=>{let e=i.value.getData();0!=e.length?(0,W.j)(e,s.volume/100):V.z8.error("未选择任何设备")};return{state:s,globalData:a,items:i,handleCancel:u,handleSelectMute:r,handleMute:c,handleChangeVolume:d}}},I=a(89);const U=(0,I.Z)(y,[["render",k],["__scopeId","data-v-40e78732"]]);var T=U;const N={class:"slider-wrap flex flex-column"},j={class:"silder flex flex-1"},S={class:"flex-1"};function z(e,t,a,n,o,s){const u=(0,l.up)("el-slider"),r=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(r,{title:"调节音量","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{default:(0,l.w5)((()=>[(0,l._)("div",N,[(0,l._)("div",j,[(0,l._)("div",S,[(0,l.Wm)(u,{onChange:n.handleChangeVolume,modelValue:n.state.volume,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.volume=e)},null,8,["onChange","modelValue"])])])])])),_:1},8,["modelValue"])}var P={props:["modelValue","items"],emits:["update:modelValue"],components:{},setup(e,{emit:t}){const a=(0,b.d)(),n=(0,o.$)(),s=(0,C.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.volume.items)),loading:!1,volume:n.value.volume.items[0].Volume.Value});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=()=>{(0,W.j)(s.items.map((e=>e.MachineName)),s.volume/100)};return{state:s,globalData:a,handleCancel:u,handleChangeVolume:r}}};const F=(0,I.Z)(P,[["render",z],["__scopeId","data-v-3eebbdd1"]]);var M=F,L={components:{Volume:T,VolumeSingle:M},setup(){const e=(0,o.$)();return{pluginState:e}}};const $=(0,I.Z)(L,[["render",n]]);var E=$},963:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleVolumeMute,"model-value":n.data.Volume.Mute,"inline-prompt":"","active-text":"静音","inactive-text":"静音"},null,8,["onClick","model-value"])])),_:1})}var o=a(8048),s=a(6e3),u=a(7178),r=a(2115),i={sort:0,props:["data"],setup(e){(0,r.$)();const t=()=>{let t=e.data.Volume.Mute?"确定取消静音吗？":"确定静音吗？";s.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.H)([e.data.MachineName],!e.data.Volume.Mute).then((e=>{e?u.z8.success("操作成功"):u.z8.error("操作失败")})).catch((()=>{u.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleVolumeMute:t}}},c=a(89);const d=(0,c.Z)(i,[["render",n]]);var m=d},9948:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleWallpaper,"model-value":n.data.Wallpaper.Value,"inline-prompt":"","active-text":"壁纸","inactive-text":"壁纸"},null,8,["onClick","model-value"])])),_:1})}var o=a(9528),s=a(6e3),u=a(7178),r=a(2115),i={sort:3,props:["data"],setup(e){(0,r.$)();const t=()=>{let t=e.data.Wallpaper.Value?"确定关闭壁纸吗？":"确定开启壁纸吗？";s.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.i)([e.data.MachineName],!e.data.Wallpaper.Value,`${window.location.origin}/bg.jpg`).then((e=>{e?u.z8.success("操作成功"):u.z8.error("操作失败")})).catch((()=>{u.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleWallpaper:t}}},c=a(89);const d=(0,c.Z)(i,[["render",n]]);var m=d},2681:function(e,t,a){var l={"./active/BtnLeft.vue":6032,"./command/BtnLeft.vue":8861,"./hijack/BtnLeft.vue":8691,"./message/BtnLeft.vue":2356};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=2681},6532:function(e,t,a){var l={"./command/BtnRight.vue":1723,"./light/BtnRight.vue":146,"./volume/BtnRight.vue":4073};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=6532},8575:function(e,t,a){var l={"./active/FootMenu.vue":549,"./device/FootMenu.vue":2026,"./hijack/FootMenu.vue":1405};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=8575},3136:function(e,t,a){var l={"./command/FootOptionBottom.vue":5147,"./hijack/rules/FootOptionBottom.vue":8921,"./light/FootOptionBottom.vue":7752};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=3136},6736:function(e,t,a){var l={"./active/FootOptionTop.vue":4190,"./message/FootOptionTop.vue":7124,"./volume/FootOptionTop.vue":3767};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=6736},138:function(e,t,a){var l={"./active/Index.vue":9713,"./command/Index.vue":6447,"./device/Index.vue":9550,"./hijack/Index.vue":1160,"./hijack/process/Index.vue":2833,"./hijack/rules/Index.vue":5178,"./light/Index.vue":2943,"./message/Index.vue":7328,"./volume/Index.vue":9602};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=138},7138:function(e,t,a){var l={"./active/Screen.vue":8996};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=7138},2648:function(e,t,a){var l={"./hijack/TitleRight.vue":2850};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=2648},345:function(e,t,a){var l={"./llock/Option.vue":6542,"./report/Option.vue":8202,"./usb/Option.vue":2972,"./volume/Option.vue":963,"./wallpaper/Option.vue":9948};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=345},4711:function(e,t,a){var l={"./active/index.js":3325,"./command/index.js":1459,"./device/index.js":181,"./hijack/index.js":1868,"./light/index.js":1958,"./llock/index.js":6458,"./message/index.js":2852,"./report/index.js":619,"./screen/index.js":5908,"./usb/index.js":464,"./volume/index.js":5507,"./wallpaper/index.js":7242};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=4711}}]);