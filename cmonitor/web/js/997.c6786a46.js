(self["webpackChunkcmonitor_web"]=self["webpackChunkcmonitor_web"]||[]).push([[997],{7041:function(e,t,a){"use strict";a.d(t,{$K:function(){return o},Kd:function(){return n},Lb:function(){return i},Oq:function(){return u},PC:function(){return s},fm:function(){return r}});var l=a(2843);const n=e=>(0,l.gQ)("active/get",e),o=(e,t,a)=>(0,l.gQ)("active/disallow",{usernames:e,filenames:t,ids:a||[]}),s=e=>(0,l.gQ)("active/AddGroup",e),u=(e,t)=>(0,l.gQ)("active/DeleteGroup",{username:e,id:t}),r=e=>(0,l.gQ)("active/add",e),i=(e,t,a)=>(0,l.gQ)("active/del",{username:e,groupid:t,id:a})},9418:function(e,t,a){"use strict";a.d(t,{G:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("command/exec",{names:e,commands:t})},2331:function(e,t,a){"use strict";a.d(t,{$c:function(){return n},Az:function(){return r},Gn:function(){return p},HP:function(){return d},U4:function(){return c},XM:function(){return u},Zz:function(){return o},hG:function(){return m},sz:function(){return i},xc:function(){return s}});var l=a(2843);const n=()=>(0,l.gQ)("hijack/info"),o=e=>(0,l.gQ)("hijack/addName",e),s=e=>(0,l.gQ)("hijack/addProcessGroup",e),u=e=>(0,l.gQ)("hijack/deleteProcessGroup",e),r=e=>(0,l.gQ)("hijack/addProcess",e),i=e=>(0,l.gQ)("hijack/deleteProcess",e),d=e=>(0,l.gQ)("hijack/AddRule",e),c=e=>(0,l.gQ)("hijack/deleteRule",e),m=e=>(0,l.gQ)("hijack/UpdateDevices",e),p=e=>(0,l.gQ)("hijack/setRules",e)},3327:function(e,t,a){"use strict";a.d(t,{Q:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("llock/update",{names:e,value:t})},2843:function(e,t,a){"use strict";a.d(t,{CU:function(){return k},Ke:function(){return _},c9:function(){return f},gQ:function(){return w},tw:function(){return i}});a(7658);var l=a(7178);let n=0,o=null,s="";const u={},r=[],i={connected:!1},d=()=>{r.length>0&&i.connected&&o.send(r.shift()),setTimeout(d,1e3/60)};d();const c={subs:{},add:function(e,t){"function"==typeof t&&(this.subs[e]||(this.subs[e]=[]),this.subs[e].push(t))},remove(e,t){let a=this.subs[e]||[];for(let l=a.length-1;l>=0;l--)a[l]==t&&a.splice(l,1)},push(e,t){let a=this.subs[e]||[];for(let l=a.length-1;l>=0;l--)a[l](t)}},m=()=>{i.connected=!0,c.push(g,i.connected)},p=e=>{i.connected=!1,c.push(g,i.connected),f()},h=e=>{if("string"!=typeof e.data)return void e.data.arrayBuffer().then((t=>{const a=new DataView(t).getInt8(),l=new FileReader;l.readAsText(e.data.slice(4,4+a),"utf8"),l.onload=()=>{let t=JSON.parse(l.result);t.Content={Name:t.Content,Img:e.data.slice(4+a,e.data.length)},v(t)}}));let t=JSON.parse(e.data);v(t)},v=e=>{let t=u[e.RequestId];t?(0==e.Code?t.resolve(e.Content):1==e.Code?t.reject(e.Content):255==e.Code?(t.reject(e.Content),t.errHandle||l.z8.error(`${t.path}:${e.Content}`)):c.push(e.Path,e.Content),delete u[e.RequestId]):c.push(e.Path,e.Content)},f=(e=s)=>{null!=o&&o.close(),s=e,o=new WebSocket(s),o.onopen=m,o.onclose=p,o.onmessage=h},w=(e,t={},a=!1)=>new Promise(((s,d)=>{let c=++n;try{u[c]={resolve:s,reject:d,errHandle:a,path:e};let l=JSON.stringify({Path:e,RequestId:c,Content:"string"==typeof t?t:JSON.stringify(t)});i.connected?o.send(l):r.push(l)}catch(m){d("网络错误~"),l.z8.error("网络错误~"),delete u[c]}})),g=Symbol(),k=e=>{c.add(g,e)},_=(e,t)=>{c.add(e,t)}},1468:function(e,t,a){"use strict";a.d(t,{FU:function(){return o},gp:function(){return n}});var l=a(2843);const n=()=>(0,l.gQ)("signin/list"),o=e=>(0,l.gQ)("signin/del",e)},5260:function(e,t,a){"use strict";a.d(t,{E:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("usb/update",{names:e,value:t})},8048:function(e,t,a){"use strict";a.d(t,{H:function(){return o},j:function(){return n}});var l=a(2843);const n=(e,t)=>(0,l.gQ)("volume/update",{names:e,value:t}),o=(e,t)=>(0,l.gQ)("volume/mute",{names:e,value:t})},9528:function(e,t,a){"use strict";a.d(t,{i:function(){return n}});var l=a(2843);const n=(e,t,a="")=>(0,l.gQ)("wallpaper/update",{names:e,value:t,url:a})},3325:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{ActiveWindow:{Title:"",FileName:"",Desc:"",Pid:0,Count:0}}},state:{activeWindow:[{showTimes:!1,items:[],showWindows:!1,showChoose:!1,devices:[]}]},update(e,t){e.ActiveWindow.Title=t.ActiveWindow.Title,e.ActiveWindow.FileName=t.ActiveWindow.FileName,e.ActiveWindow.Desc=t.ActiveWindow.Desc,e.ActiveWindow.Pid=t.ActiveWindow.Pid,e.ActiveWindow.Count=t.ActiveWindow.Count}}},1459:function(e,t,a){"use strict";a.r(t);a(9418),a(2683);t["default"]={field(){return{}},state:{command:{showCommand:!1,items:[]}},init(){}}},181:function(e,t,a){"use strict";a.r(t),t["default"]={state:{device:{showDevices:!1}}}},1868:function(e,t,a){"use strict";a.r(t);var l=a(2683);t["default"]={field(){return{Hijack:{Upload:0,UploadText:"",Download:0,DownloadText:"",Count:0}}},state:{hijack:{showRules:!1,showRulesItems:[],showRuleSetting:!1,showProcessSetting:!1}},timer:0,speedCaches:{},sizeFormat(e){let t=["B","KB","MB","GB","TB"],a=t[0];while((a=t.shift())&&e.toFixed(2)>=1024)e/=1024;return"B"==a?[e,a]:[e.toFixed(2),a]},globalData:null,init(){this.globalData=(0,l.d)();const e=this.speedCaches,t=this.sizeFormat;this.timer=setInterval((()=>{this.globalData.value.devices.forEach((a=>{let l=e[a.MachineName]||{up:0,down:0};isNaN(l.up)&&(l.up=0),isNaN(l.down)&&(l.down=0),a.Hijack.Upload=a.Hijack.Upload||0,a.Hijack.Download=a.Hijack.Download||0;let n=a.Hijack.Upload-l.up;l.up=a.Hijack.Upload;let o=t(n);a.Hijack.UploadText=`${o[0]}${o[1]}/s`,n=a.Hijack.Download-l.down,l.down=a.Hijack.Download,o=t(n),a.Hijack.DownloadText=`${o[0]}${o[1]}/s`,e[a.MachineName]=l}))}),1e3)},update(e,t){e.Hijack.Upload=t.Hijack.Upload,e.Hijack.Download=t.Hijack.Download,e.Hijack.Count=t.Hijack.Count}}},1958:function(e,t,a){"use strict";a.r(t);var l=a(2683);t["default"]={field(){return{Light:{Value:0}}},state:{light:{showLight:!1,showLightSingle:!1,items:[]}},globalData:null,init(){this.globalData=(0,l.d)()},update(e,t){t.Light&&(e.Light.Value=Math.floor(+t.Light.Value),isNaN(e.Light.Value)&&(e.Light.Value=0))}}},6458:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{LLock:{Value:!1}}},update(e,t){e.LLock.Value=t.LLock.Value}}},2852:function(e,t,a){"use strict";a.r(t),t["default"]={state:{message:{showMessage:!1,items:[]}}}},619:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(2843);const n=e=>(0,l.gQ)("report/update",e),o=e=>(0,l.gQ)("report/ping",e);var s=a(2683),u={field(){return{Report:{fps:0,fpsTimes:0,ping:0}}},globalData:null,init(){this.globalData=(0,s.d)(),this.reportInterval(),this.reportPingInterval(),(0,l.Ke)("/notify/report/pong",(e=>{let t=this.globalData.value.devices.filter((t=>t.MachineName==e.Name))[0];t&&(t.Connected=!0,t.Report.ping=e.Time)})),this.fpsInterval()},reportTimer:0,reported:!0,reportInterval(){this.reported?(this.reported=!1,n(this.globalData.value.reportNames).then((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)})).catch((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)}))):this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)},reportPingTimer:0,reportedPing:!0,reportPingInterval(){if(this.reportedPing){this.reportedPing=!1;let e=Date.now();o(this.globalData.value.reportNames).then((()=>{this.reportedPing=!0;let t=1e3-(Date.now()-e);t<10&&(t=10),this.reportPingTimer=setTimeout((()=>{this.reportPingInterval()}),t)})).catch((()=>{this.reportedPing=!0,this.reportPingTimer=setTimeout((()=>{this.reportPingInterval()}),1e3)}))}else this.reportPingTimer=setTimeout((()=>{this.reportPingInterval()}),1e3)},fpsInterval(){this.globalData.value.devices.forEach((e=>{e.Report.fps=e.Report.fpsTimes,e.Report.fpsTimes=0})),setTimeout((()=>{this.fpsInterval()}),1e3)},update(e,t){e.Report.fpsTimes++}}},5908:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var l=a(2683),n=a(2843);const o=e=>(0,n.gQ)("screen/update",e);var s={field(){return{Screen:{fps:0,fpsTimes:0,img:null,LastInput:0}}},reportTimer:0,globalData:null,reported:!0,init(){this.globalData=(0,l.d)(),this.reportInterval(),this.subMessage(),this.fpsInterval(),this.draw()},draw(){const e=this.globalData.value.devices.filter((e=>this.globalData.value.reportNames.indexOf(e.MachineName)>=0));for(let a=0;a<e.length;a++){const l=e[a];if(l.canvas||(l.canvas=document.getElementById(`canvas-${l.MachineName}`),l.canvas&&(l.ctx=l.canvas.getContext("2d"))),l.ctx){const e=l.Screen.img;e&&(l.ctx.clearRect(0,0,l.canvas.width,l.canvas.height),l.ctx.drawImage(e,0,0,e.width,e.height,0,0,l.canvas.width,l.canvas.height),this.drawFps(l));for(let a in l)try{l[a]&&l[a].draw&&l[a].draw(l.canvas,l.ctx)}catch(t){console.log(t)}}}requestAnimationFrame((()=>{this.draw()}))},drawFps(e){e.ctx.lineWidth=5,e.ctx.font="bold 60px Arial",e.ctx.fillStyle="rgba(0,0,0,0.5)",e.ctx.fillText(`FPS : ${e.Screen.fps} 、LT : ${e.Screen.LastInput}ms`,50,70),e.ctx.lineWidth=2,e.ctx.strokeStyle="#fff",e.ctx.strokeText(`FPS : ${e.Screen.fps} 、LT : ${e.Screen.LastInput}ms`,50,70)},subMessage(){(0,n.Ke)("/notify/report/screen",((e,t)=>{if(-1==this.globalData.value.reportNames.indexOf(e.Name))return;let a=this.globalData.value.devices.filter((t=>t.MachineName==e.Name))[0];if(a){a.Screen.fpsTimes++;const t=new Image;if("string"==typeof e.Img)t.src=`data:image/jpg;base64,${e.Img}`,t.onload=function(){a.Screen.img=t};else{const l=new FileReader;l.readAsDataURL(e.Img),l.onload=function(e){t.src=e.target.result,t.onload=function(){a.Screen.img=t}}}}}))},fpsInterval(){this.globalData.value.devices.forEach((e=>{e.Screen.fps=e.Screen.fpsTimes,e.Screen.fpsTimes=0})),setTimeout((()=>{this.fpsInterval()}),1e3)},reported:!0,reportInterval(){this.reported?(this.reported=!1,o(this.globalData.value.reportNames).then((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)})).catch((()=>{this.reported=!0,this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)}))):this.reportTimer=setTimeout((()=>{this.reportInterval()}),30)},update(e,t){t.Screen&&(e.Screen.LastInput=t.Screen.LastInput||0)}}},6194:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{Share:{KeyBoard:{Index:0,Value:""},UserName:{Index:1,Value:""},Lock:{Index:2,Value:{type:"list",val:"none",star:0},TypeText:""},draw(e,t){if(this.KeyBoard.Value){let a=(e.height-100)/2,l=(e.width-50*this.KeyBoard.Value.length)/2;t.font="bold 100px Arial",t.fillStyle="rgba(0,0,0,0.5)",t.fillText(`${this.KeyBoard.Value}`,l,a),t.lineWidth=5,t.strokeStyle="rgba(255,255,255,0.7)",t.strokeText(`${this.KeyBoard.Value}`,l,a)}if("star"==this.Lock.Value.val){let a="";a=a.padEnd(5,"★");let l=(e.height-100)/2+100,n=(e.width-500)/2;t.beginPath(),t.lineWidth=5,t.font="bold 100px Arial",t.strokeStyle="#fff",t.strokeText(a,n,l),t.lineWidth=7,t.strokeStyle="rgba(0,0,0,0.5)",t.strokeText(a,n,l),a="",a=a.padEnd(this.Lock.Value.star,"☆"),t.lineWidth=2,t.strokeStyle="yellow",t.strokeText(a,n,l),t.closePath()}}}}},init(){},lockTypes:{code:"代码",lock:"锁屏",cmonitor:"班长",flag:"学习目标",class:"课程","remark-block":"图形化点评","remark-cpp":"C++点评"},update(e,t){if(t.Share){if(t.Share.UserName&&(e.Share.UserName.Index=t.Share.UserName.Index,e.Share.UserName.Value=t.Share.UserName.Value),t.Share.Lock&&(e.Share.Lock.Index=t.Share.Lock.Index,t.Share.Lock.Value)){const a=JSON.parse(t.Share.Lock.Value);e.Share.Lock.Value.type=a.type,e.Share.Lock.Value.val=a.val,e.Share.Lock.Value.star=a.star||0,e.Share.Lock.TypeText=this.lockTypes[a.type]}t.Share.KeyBoard&&(e.Share.KeyBoard.Index=t.Share.KeyBoard.Index,e.Share.KeyBoard.Value=t.Share.KeyBoard.Value)}}}},5817:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{System:{Cpu:0,Memory:0,Drives:[],getColor(e){let t="#0bd10b";return e>=.8?t="#fc0202":e>=.5&&(t="#ff9d1c"),t},draw(e,t){const a=10,l=[{text:"cpu",value:this.Cpu/100},{text:"memory",value:this.Memory/100}].concat(this.Drives.map((e=>({text:e.Name.toLowerCase(),value:(1-e.Free/e.Total).toFixed(2)}))));for(let n=0;n<l.length;n++){const o=1*e.width/l.length,s=n*o,u=l[n];t.beginPath(),t.fillStyle="rgba(255,255,255,0.2)",t.fillRect(s,e.height-10,o-a,10),t.fillStyle=this.getColor(u.value),t.fillRect(s,e.height-10,o*u.value-a,10),t.closePath(),t.lineWidth=5,t.font="bold 60px Arial",t.fillStyle="rgba(0,0,0,0.5)",t.fillText(`${u.text} ${(100*u.value).toFixed(0)}`,s,e.height-20),t.lineWidth=2,t.strokeStyle="#fff",t.strokeText(`${u.text} ${(100*u.value).toFixed(0)}`,s,e.height-20)}this.Cpu--,this.Memory--,this.Cpu<0&&(this.Cpu=0),this.Memory<0&&(this.Memory=0)}}}},init(){},update(e,t){t.System&&(t.System.Cpu>e.System.Cpu&&(e.System.Cpu=t.System.Cpu),t.System.Memory>e.System.Memory&&(e.System.Memory=t.System.Memory),e.System.Drives=t.System.Drives||[])}}},464:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{Usb:{Value:!1}}},update(e,t){e.Usb.Value=t.Usb.Value}}},5507:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{Volume:{Value:0,Mute:!1,MasterPeak:0,draw(e,t){this.MasterPeak-=1,this.MasterPeak<0?this.MasterPeak=0:(t.beginPath(),t.fillStyle="#0f0",t.fillRect(0,0,this.MasterPeak/100*e.width,10),t.closePath())}}}},state:{volume:{showVolume:!1,showVolumeSingle:!1,items:[]}},init(){},update(e,t){e.Volume.Value=t.Volume.Value,e.Volume.Mute=t.Volume.Mute,t.Volume.MasterPeak>e.Volume.MasterPeak&&(e.Volume.MasterPeak=t.Volume.MasterPeak)}}},7242:function(e,t,a){"use strict";a.r(t),t["default"]={field(){return{Wallpaper:{Value:!1}}},update(e,t){e.Wallpaper.Value=t.Wallpaper.Value}}},2115:function(e,t,a){"use strict";a.d(t,{$:function(){return u},R:function(){return s}});var l=a(4870),n=a(3396);const o=Symbol(),s=e=>{const t=(0,l.iH)(e);return(0,n.JJ)(o,t),t},u=()=>(0,n.f3)(o)},2683:function(e,t,a){"use strict";a.d(t,{d:function(){return u},e:function(){return s}});var l=a(4870),n=a(3396);const o=Symbol(),s=()=>{const e=(0,l.iH)({username:"",publicUserName:"snltty",usernames:{},connected:!1,updateFlag:0,allDevices:[],devices:(0,n.Fl)((()=>{const t=e.value.usernames[e.value.username];return t?e.value.allDevices.filter((e=>t.Devices.indexOf(e.MachineName)>=0)):[]})),reportNames:[]});return(0,n.JJ)(o,e),e},u=()=>(0,n.f3)(o)},9997:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return we}});var l=a(3396);const n={class:"main-wrap flex flex-column flex-nowrap"},o={class:"head"},s={key:0,class:"body flex-1 scrollbar"};function u(e,t,a,u,r,i){const d=(0,l.up)("Head"),c=(0,l.up)("Device");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",o,[(0,l.Wm)(d)]),u.showList?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(c)])):(0,l.kq)("",!0)])}const r={class:"username-wrap t-c"},i={class:"port-wrap t-c"};function d(e,t,a,n,o,s){const u=(0,l.up)("el-option"),d=(0,l.up)("el-select"),c=(0,l.up)("el-button"),m=(0,l.up)("el-dialog"),p=(0,l.up)("el-input");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{title:"选择角色","destroy-on-close":"",modelValue:n.showSelectUsername,"onUpdate:modelValue":t[1]||(t[1]=e=>n.showSelectUsername=e),center:"","show-close":!1,"close-on-click-modal":!1,"align-center":"",width:"70%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{type:"primary",onClick:n.handleUsername},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(d,{filterable:"","allow-create":"","default-first-option":"",modelValue:n.state.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.username=e),onChange:n.handleChange,placeholder:"选择角色",size:"large"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.usernames,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])])),_:1},8,["modelValue"]),(0,l.Wm)(m,{title:"管理端口","destroy-on-close":"",modelValue:n.showPort,"onUpdate:modelValue":t[3]||(t[3]=e=>n.showPort=e),center:"","show-close":!1,"close-on-click-modal":!1,"align-center":"",width:"70%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{type:"primary",onClick:n.handleConnect},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(p,{modelValue:n.state.port,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.port=e),style:{width:"auto"}},null,8,["modelValue"])])])),_:1},8,["modelValue"])])}var c=a(4870),m=a(2843),p=a(2331),h=a(2483),v=a(2683),f={setup(){const e=(0,v.d)(),t=(0,h.yj)(),a=+(t.query.api||localStorage.getItem("port")||1801);localStorage.setItem("port",a),e.value.username=e.value.username||localStorage.getItem("username")||"";const n=(0,c.qj)({port:a,usernames:[],username:e.value.username,showPort:!1}),o=(0,l.Fl)((()=>!e.value.username&&e.value.connected)),s=(0,l.Fl)((()=>0==e.value.connected&&n.showPort));(0,l.YP)((()=>e.value.updateFlag),(()=>{u()}));const u=()=>{(0,p.$c)().then((t=>{e.value.usernames=t,n.usernames=Object.keys(t)})).catch((()=>{}))};(0,l.bv)((()=>{i(),r(),u(),setTimeout((()=>{n.showPort=!0}),100)}));const r=()=>{(0,m.c9)(`ws://${window.location.hostname}:${n.port}`),localStorage.setItem("port",n.port)},i=()=>{e.value.username=n.username||"",localStorage.setItem("username",e.value.username),document.title=`班长-${e.value.username}`},d=t=>{(0,p.Zz)(t).then((()=>{e.value.updateFlag=Date.now()})).catch((()=>{e.value.updateFlag=Date.now()}))};return{state:n,showSelectUsername:o,showPort:s,handleUsername:i,handleConnect:r,handleChange:d}}},w=a(89);const g=(0,w.Z)(f,[["render",d],["__scopeId","data-v-20ee56af"]]);var k=g;const _={class:"device-list-wrap absolute flex flex-column",id:"device-list-wrap"},C={class:"items flex-1 relative scrollbar"},x={class:"foot"},D={class:"foot-options"},W={class:"foot-menu"};function b(e,t,a,n,o,s){const u=(0,l.up)("Items"),r=(0,l.up)("FootOptions"),i=(0,l.up)("FootMenu");return(0,l.wg)(),(0,l.iD)("div",_,[(0,l._)("div",C,[(0,l.Wm)(u)]),(0,l._)("div",x,[(0,l._)("div",D,[(0,l.Wm)(r)]),(0,l._)("div",W,[(0,l.Wm)(i)])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.indexModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t})))),128))])}const V={class:"foot-wrap"},y={class:"flex"};function I(e,t,a,n,o,s){return(0,l.wg)(),(0,l.iD)("div",V,[(0,l._)("ul",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.footMenuModules,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[((0,l.wg)(),(0,l.j4)((0,l.LL)(e)))])))),128))])])}var S={components:{},setup(){const e=a(8575),t=e.keys().map((t=>e(t).default)).sort(((e,t)=>e.sort-t.sort));return{footMenuModules:t}}};const U=(0,w.Z)(S,[["render",I],["__scopeId","data-v-047cf10c"]]);var T=U,N=a(7139);const j=e=>((0,l.dD)("data-v-c504bad2"),e=e(),(0,l.Cn)(),e),z={class:"foot-options-wrap flex"},P=j((()=>(0,l._)("span",{class:"flex-1"},null,-1))),M={class:"options-btn"},L=j((()=>(0,l._)("span",{class:"flex-1"},null,-1)));function E(e,t,a,n,o,s){const u=(0,l.up)("Refresh"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.iD)("div",z,[(0,l.Wm)(i,{size:"default",plain:"",dark:"",onClick:n.handleRefresh},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"]),P,(0,l._)("div",M,[(0,l._)("p",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.footOptionTopModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t})))),128))]),(0,l._)("p",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.footOptionBottomModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t})))),128))])]),L,(0,l.Wm)(i,{size:"default",plain:"",dark:"",onClick:n.handleUpdate},{default:(0,l.w5)((()=>[(0,l.Uk)((0,N.zw)(n.username),1)])),_:1},8,["onClick"])])}var F=a(6e3),R={setup(){const e=a(6736),t=e.keys().map((t=>e(t).default)),n=a(3136),o=n.keys().map((e=>n(e).default)),s=(0,v.d)(),u=(0,l.Fl)((()=>s.value.username)),r=()=>{window.location.reload()},i=()=>{F.T.confirm("是否确定重选角色？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{s.value.username="",localStorage.setItem("username","")})).catch((()=>{}))};return{footOptionTopModules:t,footOptionBottomModules:o,username:u,handleRefresh:r,handleUpdate:i}}};const O=(0,w.Z)(R,[["render",E],["__scopeId","data-v-c504bad2"]]);var $=O;function B(e,t,a,n,o,s){const u=(0,l.up)("Item"),r=(0,l.up)("el-empty");return n.devices.length>0?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(n.devices,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.MachineName,data:e},null,8,["data"])))),128)):((0,l.wg)(),(0,l.j4)(r,{key:1,description:"或许你应该先去选择管理设备"}))}const A=e=>((0,l.dD)("data-v-2d4d600d"),e=e(),(0,l.Cn)(),e),Z=A((()=>(0,l._)("div",{class:"bg"},null,-1))),H={class:"value flex"},q={class:"machine-mame"},Y=A((()=>(0,l._)("span",{class:"flex-1"},null,-1))),K={class:"img"},Q={class:"inner"},G=["id"],J={class:"btns flex"},X={class:"left"},ee=A((()=>(0,l._)("div",{class:"flex-1"},null,-1))),te={class:"right"},ae={class:"options"};function le(e,t,a,n,o,s){const u=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",{class:"device-item",style:(0,N.j5)(n.data.style)},[(0,l._)("dl",null,[(0,l._)("dt",null,[Z,(0,l._)("div",H,[(0,l._)("span",{class:(0,N.C_)(["name",{connected:n.data.Connected}])},[(0,l._)("span",q,(0,N.zw)(n.data.MachineName),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.titleLeftModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))],2),Y,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.titleRightModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))])]),(0,l._)("dd",K,[(0,l._)("div",Q,[n.data.Connected?((0,l.wg)(),(0,l.iD)("canvas",{key:0,width:"1920",height:"1080",id:`canvas-${n.data.MachineName}`},null,8,G)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.screenModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128)),(0,l._)("div",J,[(0,l._)("div",X,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.btnLeftModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))]),ee,(0,l._)("div",te,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.btnRightModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))])])])]),(0,l._)("dd",ae,[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.optionModules,((e,t)=>((0,l.wg)(),(0,l.j4)((0,l.LL)(e),{key:t,data:n.data},null,8,["data"])))),128))])),_:1})])])],4)}var ne={props:{data:{type:Object,default:{}}},setup(e,{emit:t}){const l=e.data,n=a(120),o=n.keys().map((e=>n(e).default)),s=a(2648),u=s.keys().map((e=>s(e).default)),r=a(7138),i=r.keys().map((e=>r(e).default)),d=a(2681),c=d.keys().map((e=>d(e).default)),m=a(6532),p=m.keys().map((e=>m(e).default)),h=a(345),v=h.keys().map((e=>h(e).default)).sort(((e,t)=>(e.sort||0)-(t.sort||0)));return{data:l,titleLeftModules:o,titleRightModules:u,screenModules:i,btnLeftModules:c,btnRightModules:p,optionModules:v}}};const oe=(0,w.Z)(ne,[["render",le],["__scopeId","data-v-2d4d600d"]]);var se=oe,ue=a(1468),re={components:{Item:se},setup(){const e=a(4711),t=e.keys().map((t=>e(t).default));t.forEach((e=>{e.init&&e.init()}));const n=(0,v.d)(),o=()=>{(0,ue.gp)().then((e=>{n.value.allDevices=e.map((e=>t.reduce(((e,t,a)=>(t.field&&(e=Object.assign(e,t.field())),e)),e))).sort(((e,t)=>e.MachineName<t.MachineName?-1:1)),(0,l.Y3)((()=>{d()}))})).catch((()=>{}))},s=(0,l.Fl)((()=>((0,l.Y3)((()=>{d()})),n.value.devices))),u=()=>{(0,m.Ke)("/notify/report/report",(e=>{if(-1==n.value.reportNames.indexOf(e.Name))return;"string"==typeof e.Report&&(e.Report=JSON.parse(e.Report));let a=n.value.devices.filter((t=>t.MachineName==e.Name))[0];a&&t.forEach((t=>{t.update&&t.update(a,e.Report)}))}))},r=()=>{(0,l.Y3)((()=>{document.querySelector("#device-list-wrap").querySelector(".items").addEventListener("scroll",d)}))},i=()=>{try{document.querySelector("#device-list-wrap").querySelector(".items").removeEventListener("scroll",d)}catch(e){}},d=()=>{try{const e=document.querySelector("#device-list-wrap").querySelector(".items"),t=e.scrollTop,a=e.querySelectorAll(".device-item");if(0==a.length)return;const l=e.offsetHeight,o=[...a].map(((e,a)=>{const n=e.offsetTop-t,o=n+e.offsetHeight/2,s=Math.abs(o-l/2);return{dom:e,index:a,offset:s}})),s=o.sort(((e,t)=>e.offset-t.offset))[0];for(let n=0;n<a.length;n++){let e="z-index:9;background-color:#fff;";const t=Math.abs(s.index-n),l=1-Math.abs(s.index-n)/10*2,o=100+100*t;n<s.index&&s.index>1?(e=`background-color:rgba(255,255,255,${l});z-index:8;transform: translateZ(-${o}px) `,e+="translateY(30px);"):n>s.index&&s.index<a.length-2&&(e=`background-color:rgba(255,255,255,${l});z-index:8;transform: translateZ(-${o}px) `,e+="translateY(-30px);"),a[n].style=e}const u=o.filter((e=>e.index>=s.index-2&&e.index<=s.index+2)).map((e=>e.index));n.value.reportNames=n.value.devices.filter(((e,t)=>u.indexOf(t)>=0)).map((e=>e.MachineName))}catch(e){console.log(e)}},c=()=>{m.tw.connected&&(0,ue.gp)().then((e=>{n.value.allDevices.forEach((t=>{let a=e.filter((e=>e.MachineName==t.MachineName))[0];a&&(t.Connected=a.Connected)}))})).catch((()=>{})),setTimeout((()=>{c()}),1e3)};return(0,l.bv)((()=>{o(),r(),d(),u(),c()})),(0,l.Ah)((()=>{i()})),{devices:s}}};const ie=(0,w.Z)(re,[["render",B]]);var de=ie,ce=a(2115),me={components:{Items:de,FootMenu:T,FootOptions:$},setup(){const e=a(4711),t=e.keys().map((t=>e(t).default)),l=t.reduce(((e,t,a)=>(t.state&&(e=Object.assign(e,t.state)),e)),{}),n=((0,ce.R)(l),a(138)),o=n.keys().map((e=>n(e).default));return{indexModules:o}}};const pe=(0,w.Z)(me,[["render",b],["__scopeId","data-v-ed3174e2"]]);var he=pe,ve={components:{Head:k,Device:he},setup(){const e=(0,v.e)();(0,m.CU)((t=>{e.value.connected=t}));const t=(0,l.Fl)((()=>!!e.value.username&&e.value.connected));return{showList:t}}};const fe=(0,w.Z)(ve,[["render",u],["__scopeId","data-v-c6e4819c"]]);var we=fe},6336:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-6bd6aa98"),e=e(),(0,l.Cn)(),e),s={class:"checkbox-wrap absolute flex flex-column"},u={class:"head flex"},r=o((()=>(0,l._)("span",{class:"flex-1"},null,-1))),i={class:"body flex-1 scrollbar"},d={class:"flex-1"};function c(e,t,a,o,c,m){const p=(0,l.up)("el-checkbox"),h=(0,l.up)("el-checkbox-group");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l._)("span",null,[(0,l.Wm)(p,{indeterminate:o.state.isIndeterminate,modelValue:o.state.checkAll,"onUpdate:modelValue":t[0]||(t[0]=e=>o.state.checkAll=e),onChange:o.handleCheckAllChange,label:o.state.title},null,8,["indeterminate","modelValue","onChange","label"])]),r,(0,l.WI)(e.$slots,"title",{},void 0,!0)]),(0,l._)("div",i,[(0,l.Wm)(h,{modelValue:o.state.checkList,"onUpdate:modelValue":t[1]||(t[1]=e=>o.state.checkList=e),onChange:o.handleChange},{default:(0,l.w5)((()=>[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.state.data,((t,a)=>((0,l.wg)(),(0,l.iD)("li",{key:a,class:"flex"},[(0,l._)("div",d,[(0,l.Wm)(p,{label:t[o.state.label]},{default:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"name",{item:t},(()=>[(0,l.Uk)((0,n.zw)(t[o.state.text]),1)]),!0)])),_:2},1032,["label"])]),(0,l.WI)(e.$slots,"oper",{item:t},void 0,!0)])))),128))])])),_:3},8,["modelValue","onChange"])])])}var m=a(4870),p={props:["title","items","data","label","text"],setup(e,{emit:t}){const a=(0,m.qj)({title:e.title,label:e.label,text:e.text||e.label,data:(0,l.Fl)((()=>e.data)),checkList:e.items.map((t=>t[e.label])),checkAll:!1,isIndeterminate:!1});(0,l.YP)((()=>e.items),(()=>{a.checkList=e.items.map((t=>t[e.label])),s(a.checkList)}));const n=e=>{a.checkList=e?a.data.map((e=>e[a.label])):[],s(a.checkList)},o=e=>{s(e)},s=e=>{const t=e.length;a.isIndeterminate=t>0&&t<a.data.length,a.checkAll=t>0&&t==a.data.length};(0,l.bv)((()=>{s(a.checkList)}));const u=()=>a.checkList;return{state:a,handleCheckAllChange:n,handleChange:o,getData:u}}},h=a(89);const v=(0,h.Z)(p,[["render",c],["__scopeId","data-v-6bd6aa98"]]);var f=v},5291:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-3f1c33d0"),e=e(),(0,l.Cn)(),e),s={class:"checkbox-wrap absolute flex flex-column"},u={class:"head flex"},r=o((()=>(0,l._)("span",{class:"flex-1"},null,-1))),i={class:"body flex-1 scrollbar"},d=["onClick"];function c(e,t,a,o,c,m){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l._)("span",null,(0,n.zw)(o.state.title),1),r]),(0,l._)("div",i,[(0,l.WI)(e.$slots,"wrap",{},(()=>[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.state.data,((t,a)=>((0,l.wg)(),(0,l.iD)("li",{key:a,class:"flex"},[(0,l.WI)(e.$slots,"default",{item:t},(()=>[(0,l._)("div",{class:"default",onClick:e=>o.handleClick(t)},(0,n.zw)(t),9,d)]),!0)])))),128))])]),!0)])])}var m=a(4870),p={props:["title","data"],setup(e,{emit:t}){const a=(0,m.qj)({title:e.title,data:(0,l.Fl)((()=>e.data))}),n=e=>{t("prev",e)};return{state:a,handleClick:n}}},h=a(89);const v=(0,h.Z)(p,[["render",c],["__scopeId","data-v-3f1c33d0"]]);var f=v},7153:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396),n=a(7139);const o={href:"javascript:;"},s={class:"window-value"};function u(e,t,a,u,r,i){const d=(0,l.up)("Monitor"),c=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",o,[(0,l._)("span",{class:"window",onClick:t[0]||(t[0]=(...e)=>u.handleWindow&&u.handleWindow(...e))},[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})]),(0,l._)("p",s,(0,n.zw)(u.data.ActiveWindow.Count),1)])}var r=a(2115),i={props:["data"],setup(e){const t=(0,r.$)(),a=()=>{t.value.activeWindow.devices=[e.data],t.value.activeWindow.showChoose=!0};return{data:e.data,handleWindow:a}}},d=a(89);const c=(0,d.Z)(i,[["render",u],["__scopeId","data-v-1d7007d4"]]);var m=c},2579:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Monitor"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleWindows&&n.handleWindows(...e))},[(0,l._)("span",null,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Uk)("窗口 ")])])}var o=a(2683),s=a(2115),u={sort:1,setup(){const e=(0,s.$)(),t=((0,o.d)(),()=>{e.value.activeWindow.showWindows=!0});return{handleWindows:t}}},r=a(89);const i=(0,r.Z)(u,[["render",n],["__scopeId","data-v-56bf20ac"]]);var d=i},4190:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Monitor"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleMessage},{default:(0,l.w5)((()=>[(0,l.Uk)("窗口"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.activeWindow.devices=t.value.devices,e.value.activeWindow.showChoose=!0};return{handleMessage:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var d=i},3940:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var l=a(3396);const n={class:"active"};function o(e,t,a,o,s,u){const r=(0,l.up)("ActiveTimes"),i=(0,l.up)("Windows"),d=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",n,[o.pluginState.activeWindow.showTimes?((0,l.wg)(),(0,l.j4)(r,{key:0,modelValue:o.pluginState.activeWindow.showTimes,"onUpdate:modelValue":t[0]||(t[0]=e=>o.pluginState.activeWindow.showTimes=e)},null,8,["modelValue"])):(0,l.kq)("",!0),o.pluginState.activeWindow.showWindows?((0,l.wg)(),(0,l.j4)(i,{key:1,modelValue:o.pluginState.activeWindow.showWindows,"onUpdate:modelValue":t[1]||(t[1]=e=>o.pluginState.activeWindow.showWindows=e)},null,8,["modelValue"])):(0,l.kq)("",!0),o.pluginState.activeWindow.showChoose?((0,l.wg)(),(0,l.j4)(d,{key:2,modelValue:o.pluginState.activeWindow.showChoose,"onUpdate:modelValue":t[2]||(t[2]=e=>o.pluginState.activeWindow.showChoose=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var s=a(7139);const u={class:"wrap flex flex-column"},r={class:"inner flex-1 scrollbar"},i={class:"wrap flex flex-column"},d={class:"inner flex-1 scrollbar"};function c(e,t,a,n,o,c){const m=(0,l.up)("el-button"),p=(0,l.up)("el-progress"),h=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(h,{class:"options",title:"窗口使用时间统计","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(m,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("h4",null,(0,s.zw)(n.state.startTime)+" - 至今("+(0,s.zw)((n.state.totalTime/1e3).toFixed(2))+"s)",1),(0,l._)("div",r,[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.list,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("dl",null,[(0,l._)("dt",null,[(0,l.Uk)((0,s.zw)(e.Desc)+" ",1),(0,l.Wm)(m,{onClick:t=>n.showTitles(e),size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.titleLength),1)])),_:2},1032,["onClick"])]),(0,l._)("dd",null,[(0,l.Wm)(p,{percentage:(e.Time/n.state.totalTime*100).toFixed(2)},null,8,["percentage"])])])])))),128))])])])])),_:1},8,["modelValue"]),(0,l.Wm)(h,{class:"options",title:"详细标题","destroy-on-close":"",modelValue:n.state.showTitles,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.showTitles=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(m,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l._)("h5",null,(0,s.zw)(n.state.currentTime/1e3)+"s",1),(0,l._)("div",d,[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.currentTitles,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},[(0,l._)("dl",null,[(0,l._)("dt",null,(0,s.zw)(e.t),1),(0,l._)("dd",null,[(0,l.Wm)(p,{percentage:(e.v/n.state.currentTime*100).toFixed(2)},null,8,["percentage"])])])])))),128))])])])])),_:1},8,["modelValue"])],64)}a(7658);var m=a(4870),p=a(7041),h=a(2115),v={props:["modelValue"],emits:["update:modelValue"],components:{},setup(e,{emit:t}){const a=(0,h.$)(),n=(0,m.qj)({show:e.modelValue,loading:!1,startTime:new Date,totalTime:1,list:[],showTitles:!1,currentTitles:[],currentTime:1});(0,l.YP)((()=>n.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const o=()=>{(0,p.Kd)(a.value.activeWindow.items[0].MachineName).then((e=>{n.startTime=e.StartTime,n.totalTime=e.List.reduce(((e,t,a)=>(t.titleLength=Object.keys(t.Titles).length,e+=t.Time,e)),0),n.list=e.List.sort(((e,t)=>t.Time-e.Time))})).catch((e=>{}))},s=e=>{n.showTitles=!0;let t=[],a=0;for(let l in e.Titles)t.push({t:l,v:e.Titles[l]}),a+=e.Titles[l];n.currentTitles=t.sort(((e,t)=>t.v-e.v)),n.currentTime=a};(0,l.bv)((()=>{o()}));const u=()=>{n.show=!1};return{state:n,handleCancel:u,showTitles:s}}},f=a(89);const w=(0,f.Z)(v,[["render",c],["__scopeId","data-v-2b51afa3"]]);var g=w,k=a(6478);const _=e=>((0,l.dD)("data-v-1be0f598"),e=e(),(0,l.Cn)(),e),C={class:"rule-wrap flex"},x={class:"items"},D=_((()=>(0,l._)("div",{class:"flex-1"},null,-1))),W={class:"Exes flex flex-column"},b={class:"private"},V=_((()=>(0,l._)("div",{class:"flex-1"},null,-1))),y={class:"public"};function I(e,t,a,n,o,s){const u=(0,l.up)("CheckBoxWrap"),r=(0,l.up)("el-button"),i=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(i,{class:"options",title:"阻止窗口","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(r,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(r,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",C,[(0,l._)("div",x,[(0,l.Wm)(u,{ref:"devices",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),D,(0,l._)("div",W,[(0,l._)("div",b,[(0,l.Wm)(u,{ref:"privateExes",data:n.state.privateExes,items:n.state.currentPrivate,label:"ID",text:"Name",title:"私有窗口"},null,8,["data","items"])]),V,(0,l._)("div",y,[(0,l.Wm)(u,{ref:"publicExes",data:n.state.publicExes,items:n.state.currentPublic,label:"ID",text:"Name",title:"公共窗口"},null,8,["data","items"])])])])])),_:1},8,["modelValue"])}var S=a(6336),U=a(7178),T=a(6e3),N=a(2683),j={props:["modelValue","items"],emits:["update:modelValue"],components:{CheckBoxWrap:S.Z},setup(e,{emit:t}){const a=(0,N.d)(),n=(0,h.$)(),o=(0,l.Fl)((()=>a.value.usernames[a.value.username])),s=a.value.publicUserName,u=(0,l.Fl)((()=>a.value.usernames[s])),r=u.value&&a.value.username!=s,i=(0,m.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.activeWindow.devices)),privateExes:(0,l.Fl)((()=>o.value?o.value.Windows:[])),publicExes:(0,l.Fl)((()=>r?u.value.Windows:[])),loading:!1,currentPrivate:[],currentPublic:[]});(0,l.YP)((()=>i.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)})),(0,l.bv)((()=>{if(a.value.updateFlag=Date.now(),1==i.items.length){let e=i.items[0];i.currentPrivate=i.privateExes.filter((t=>e.DisallowRunIds.indexOf(t.ID)>=0)),i.currentPublic=i.publicExes.filter((t=>e.DisallowRunIds.indexOf(t.ID)>=0))}}));const d=(0,m.iH)(null),c=(0,m.iH)(null),v=(0,m.iH)(null),f=()=>{const e=c.value.getData(),t=i.privateExes.filter((t=>e.indexOf(t.ID)>=0)),a=v.value.getData(),l=i.publicExes.filter((e=>a.indexOf(e.ID)>=0)),n=t.concat(l).reduce(((e,t,a)=>{let l=t.List.reduce(((e,t,a)=>(e=e.concat(t.Name.split(",")),e)),[]);for(let n=0;n<l.length;n++)l[n]&&-1==e.indexOf(l[n])&&e.push(l[n]);return e}),[]);return 0==n.length&&n.push("snltty"),{ids:e.concat(a),exes:n}},w=()=>{const e=d.value.getData();0!=e.length?T.T.confirm("如果未选择程序，则视为清空程序，是否确定应用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{i.loading=!0;const t=f();(0,p.$K)(e,t.exes,t.ids).then((l=>{i.loading=!1,U.z8.success("操作成功！"),a.value.devices.filter((t=>e.indexOf(t.MachineName)>=0)).forEach((e=>{e.DisallowRunIds=t.ids}))})).catch((e=>{i.loading=!1,U.z8.error("操作失败")}))})).catch((e=>{console.log(e)})):U.z8.error("未选择任何设备")},g=()=>{i.show=!1};return{state:i,globalData:a,devices:d,privateExes:c,publicExes:v,handleSubmit:w,handleCancel:g}}};const z=(0,f.Z)(j,[["render",I],["__scopeId","data-v-1be0f598"]]);var P=z,M={components:{ActiveTimes:g,Windows:k["default"],ChooseDig:P},setup(){const e=(0,h.$)();return{pluginState:e}}};const L=(0,f.Z)(M,[["render",o]]);var E=L},4214:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(3396),n=a(7139),o=a(9242);const s={class:"title flex-1"},u={class:"btn"},r={class:"t-c"};function i(e,t,a,i,d,c){const m=(0,l.up)("CirclePlus"),p=(0,l.up)("el-icon"),h=(0,l.up)("el-option"),v=(0,l.up)("el-select"),f=(0,l.up)("el-button"),w=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("a",{class:"process flex",href:"javascript:;",onClick:t[3]||(t[3]=(...e)=>i.handleClick&&i.handleClick(...e))},[(0,l._)("span",s,(0,n.zw)(i.data.ActiveWindow.Title),1),(0,l._)("p",u,[(0,l._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>i.handleAddExe&&i.handleAddExe(...e)),["stop"]))},[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m)])),_:1})])]),(0,l.Wm)(w,{title:"添加项","append-to-body":"","destroy-on-close":"",modelValue:i.state.showAdd,"onUpdate:modelValue":t[2]||(t[2]=e=>i.state.showAdd=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(f,{onClick:i.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(f,{type:"primary",loading:i.state.loading,onClick:i.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("p",null,"标题:【"+(0,n.zw)(i.state.title)+"】",1),(0,l._)("p",null,"描述:【"+(0,n.zw)(i.state.desc)+"】",1),(0,l._)("p",null,"文件:【"+(0,n.zw)(i.state.filename)+"】",1),(0,l._)("p",r,[(0,l.Wm)(v,{modelValue:i.state.group,"onUpdate:modelValue":t[1]||(t[1]=e=>i.state.group=e),placeholder:"选择一个分组",style:{width:"13rem"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.state.groups,(e=>((0,l.wg)(),(0,l.j4)(h,{key:e.ID,label:e.Name,value:e.ID},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])])),_:1},8,["modelValue"])])}var d=a(6e3),c=a(7178),m=a(9418),p=a(7041),h=a(2683),v=a(2115),f=a(4870),w={props:["data"],setup(e,{emit:t}){const a=(0,h.d)(),n=(0,v.$)(),o=(0,f.qj)({showAdd:!1,group:0,title:"",desc:"",filename:"",groups:(0,l.Fl)((()=>{let e=a.value.usernames[a.value.username];return e?(e.Windows.length>0&&0==o.group&&(o.group=e.Windows[0].ID),e.Windows):[]}))}),s=()=>{d.T.confirm("是否确定关闭焦点窗口？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,m.G)([e.data.MachineName],[`taskkill /f /pid ${e.data.ActiveWindow.Pid}`]).then((e=>{e?c.z8.success("操作成功"):c.z8.error("操作失败")})).catch((()=>{c.z8.error("操作失败")}))})).catch((()=>{}))},u=()=>{o.showAdd=!1},r=()=>{(0,p.fm)({username:a.value.username,GroupID:o.group,Item:{ID:0,Name:o.filename,Desc:o.desc}}).then((e=>{a.value.updateFlag=Date.now(),e?c.z8.error(`操作失败:${e}`):c.z8.success("操作成功")})).catch((()=>{c.z8.error("操作失败")}))},i=()=>{const t=e.data.ActiveWindow.FileName.split("\\");let a=t[t.length-1],l=e.data.ActiveWindow.Desc;const n=e.data.ActiveWindow.Title;"Application Frame Host"==l&&(a=n,l=n),o.title=n,o.desc=l,o.filename=a,o.showAdd=!0},w=()=>{n.value.activeWindow.items=[e.data],n.value.activeWindow.showTimes=!0};let g=0;const k=()=>{if(g)return clearTimeout(g),g=0,void w();g=setTimeout((()=>{g=0,s()}),300)};return{data:e.data,state:o,handleCloseActive:s,handleAddExe:i,handleEditCancel:u,handleEditSubmit:r,handleTimes:w,handleClick:k}}},g=a(89);const k=(0,g.Z)(w,[["render",i],["__scopeId","data-v-3c4ce229"]]);var _=k},6478:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Groups"),r=(0,l.up)("el-tab-pane"),i=(0,l.up)("Items"),d=(0,l.up)("el-tabs"),c=(0,l.up)("el-button"),m=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(m,{class:"options",title:"窗口限制","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","close-on-click-modal":!1,"align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l.Wm)(d,{type:"border-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"窗口分组"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(r,{label:"窗口列表"},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])),_:1})])),_:1},8,["modelValue"])}var o=a(4870);const s={class:"window-items-wrap flex flex-nowrap flex-column"},u={class:"head t-c flex"},r={class:"flex-1"},i={class:"prevs-wrap"};function d(e,t,a,n,o,d){const c=(0,l.up)("el-button"),m=(0,l.up)("el-table-column"),p=(0,l.up)("EditPen"),h=(0,l.up)("el-icon"),v=(0,l.up)("Delete"),f=(0,l.up)("el-popconfirm"),w=(0,l.up)("el-table"),g=(0,l.up)("el-input"),k=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l.Wm)(c,{onClick:t[0]||(t[0]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(w,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{prop:"Name",label:"名称"}),(0,l.Wm)(m,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[e.row.ID>1?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(c,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(f,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(c,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])],64)):(0,l.kq)("",!0)])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(k,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(c,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(g,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"分组名称"},null,8,["modelValue"])])])),_:1},8,["title","modelValue"])])}var c=a(7178),m=a(7041),p=a(2683),h={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,currentItem:{ID:0,Name:""},showEdit:!1,list:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Windows.length>0&&(t.group=a.Windows[0].ID),a.Windows):[]}))}),a=e=>{e=e||{Name:"",ID:0},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.showEdit=!0},n=a=>{t.loading=!0,(0,m.Oq)(e.value.username,a.ID).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")}))},s=()=>{t.showEdit=!1},u=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.PC)({UserName:e.value.username,Group:t.currentItem}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")})))};return{state:t,handleAdd:a,handleDel:n,handleEditCancel:s,handleEditSubmit:u}}},v=a(89);const f=(0,v.Z)(h,[["render",d],["__scopeId","data-v-6384f37a"]]);var w=f;const g=e=>((0,l.dD)("data-v-78791429"),e=e(),(0,l.Cn)(),e),k={class:"windows-items-wrap flex flex-nowrap flex-column"},_={class:"head t-c flex"},C=g((()=>(0,l._)("span",{class:"flex-1"},null,-1))),x={class:"flex-1"},D={class:"prevs-wrap"},W={style:{"padding-top":"1rem"}};function b(e,t,a,n,o,s){const u=(0,l.up)("el-option"),r=(0,l.up)("el-select"),i=(0,l.up)("el-button"),d=(0,l.up)("el-table-column"),c=(0,l.up)("EditPen"),m=(0,l.up)("el-icon"),p=(0,l.up)("Delete"),h=(0,l.up)("el-popconfirm"),v=(0,l.up)("el-table"),f=(0,l.up)("el-input"),w=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",_,[(0,l.Wm)(r,{modelValue:n.state.group,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.group=e),placeholder:"选择一个分组",style:{width:"13rem"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.groups,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.ID,label:e.Name,value:e.ID},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),C,(0,l.Wm)(i,{onClick:t[1]||(t[1]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",x,[(0,l._)("div",D,[(0,l.Wm)(v,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{prop:"Name",label:"名称"}),(0,l.Wm)(d,{prop:"Desc",label:"描述"}),(0,l.Wm)(d,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[(0,l.Wm)(i,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(h,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(i,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(w,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[4]||(t[4]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(i,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("p",null,[(0,l.Wm)(f,{modelValue:n.state.currentItem.Desc,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.currentItem.Desc=e),size:"large",placeholder:"名称"},null,8,["modelValue"])]),(0,l._)("p",W,[(0,l.Wm)(f,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[3]||(t[3]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"文件,多个逗号间隔，无后缀则按标题处理"},null,8,["modelValue"])])])])),_:1},8,["title","modelValue"])])}var V={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,group:0,currentItem:{ID:0,Name:"",Desc:""},showEdit:!1,groups:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Windows.length>0&&(t.group=a.Windows[0].ID),a.Windows):[]})),list:(0,l.Fl)((()=>{let e=t.groups.filter((e=>e.ID==t.group))[0];return e?e.List:[]}))}),a=e=>{e=e||{Name:"",ID:0,Name:""},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.showEdit=!0},n=a=>{t.loading=!0,(0,m.Lb)(e.value.username,t.group,a.ID).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")}))},s=()=>{t.showEdit=!1},u=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.fm)({UserName:e.value.username,GroupID:t.group,Item:t.currentItem}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")})))};return{state:t,handleAdd:a,handleDel:n,handleEditCancel:s,handleEditSubmit:u}}};const y=(0,v.Z)(V,[["render",b],["__scopeId","data-v-78791429"]]);var I=y,S={props:["modelValue"],emits:["update:modelValue"],components:{Groups:w,Items:I},setup(e,{emit:t}){const a=(0,o.qj)({show:e.modelValue,loading:!1});(0,l.YP)((()=>a.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const n=(0,p.d)();(0,l.bv)((()=>{n.value.updateFlag=Date.now()}));const s=()=>{a.show=!1};return{state:a,handleCancel:s}}};const U=(0,v.Z)(S,[["render",n]]);var T=U},1851:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Refresh"),r=(0,l.up)("el-icon"),i=(0,l.up)("SwitchButton"),d=(0,l.up)("Position");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleRebotSystem&&n.handleRebotSystem(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})]),(0,l._)("a",{href:"javascript:;",onClick:t[1]||(t[1]=(...e)=>n.handleCloseSystem&&n.handleCloseSystem(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})]),(0,l._)("a",{href:"javascript:;",onClick:t[2]||(t[2]=(...e)=>n.handleCommand&&n.handleCommand(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})])])}var o=a(2115),s=a(6e3),u=a(7178),r=a(9418),i={props:["data"],setup(e){const t=(0,o.$)(),a=()=>{t.value.command.items=[e.data],t.value.command.showCommand=!0},l=()=>{i("确定重启系统吗？","shutdown -r -f -t 00")},n=()=>{i("确定关闭系统吗？","shutdown -s -f -t 00")},i=(t,a,l)=>{s.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,r.G)([e.data.MachineName],[a]).then((e=>{e?u.z8.success("操作成功"):u.z8.error("操作失败")})).catch((()=>{u.z8.error("操作失败")}))})).catch((()=>{}))};return{handleCommand:a,handleRebotSystem:l,handleCloseSystem:n}}},d=a(89);const c=(0,d.Z)(i,[["render",n],["__scopeId","data-v-d6b0104a"]]);var m=c},5147:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Position"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleCommand},{default:(0,l.w5)((()=>[(0,l.Uk)("命令"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.command.items=t.value.devices,e.value.command.showCommand=!0};return{handleCommand:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var d=i},6447:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.command.showCommand?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.command.showCommand,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.command.showCommand=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115),s=a(7139);const u=e=>((0,l.dD)("data-v-23f5c300"),e=e(),(0,l.Cn)(),e),r={class:"command-wrap flex"},i={class:"items"},d=u((()=>(0,l._)("div",{class:"flex-1"},null,-1))),c={class:"commands"},m={class:"btn"};function p(e,t,a,n,o,u){const p=(0,l.up)("CheckBoxWrap"),h=(0,l.up)("el-button"),v=(0,l.up)("PrevBoxWrap"),f=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(f,{class:"options",title:"执行命令","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(h,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(h,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(p,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),d,(0,l._)("div",c,[(0,l.Wm)(v,{ref:"commands",data:n.state.commands,title:"命令多发"},{default:(0,l.w5)((e=>[(0,l._)("div",m,[(0,l.Wm)(h,{loading:n.state.loading,onClick:t=>n.handleCommand(e.item)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.item.label),1)])),_:2},1032,["loading","onClick"])])])),_:1},8,["data"])])])])),_:1},8,["modelValue"])}var h=a(4870),v=a(6336),f=a(5291),w=a(7178),g=a(6e3),k=a(9418),_=a(3327),C=a(9528),x=a(5260),D=a(8048),W=a(2683),b={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:v.Z,PrevBoxWrap:f.Z},setup(e,{emit:t}){const a=(0,W.d)(),n=(0,o.$)(),s=(e,t)=>{(0,C.i)(e,t,`http://${window.location.hostname}:${window.location.port}/bg.jpg`)},u=(0,h.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.command.items)),commands:[{label:"强制关机",value:"shutdown -s -f -t 00"},{label:"强制重启",value:"shutdown -r -f -t 00"},{label:"打开锁屏",func:_.Q,value:!0},{label:"关闭锁屏",func:_.Q,value:!1},{label:"打开壁纸",func:s,value:!0},{label:"关闭壁纸",func:s,value:!1},{label:"禁用U盘",func:x.E,value:!0},{label:"启用U盘",func:x.E,value:!1},{label:"设置静音",func:D.H,value:!0},{label:"取消静音",func:D.H,value:!1}],loading:!1});(0,l.YP)((()=>u.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const r=(0,h.iH)(null),i=e=>{let t=r.value.getData();0!=t.length?g.T.confirm("是否确定执行命令？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{u.loading=!0;const a=e.func?e.func(t,e.value):(0,k.G)(t,[e.value]);a.then((e=>{e?w.z8.success("操作成功"):w.z8.error("操作失败"),u.loading=!1})).catch((()=>{u.loading=!1,w.z8.error("操作失败")}))})).catch((()=>{})):w.z8.error("未选择任何设备")},d=()=>{u.show=!1};return{state:u,globalData:a,items:r,handleCancel:d,handleCommand:i}}},V=a(89);const y=(0,V.Z)(b,[["render",p],["__scopeId","data-v-23f5c300"]]);var I=y,S={components:{ChooseDig:I},setup(){const e=(0,o.$)();return{pluginState:e}}};const U=(0,V.Z)(S,[["render",n]]);var T=U},2026:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Grid"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleDevices&&n.handleDevices(...e))},[(0,l._)("span",null,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Uk)("设备")])])}var o=a(2115),s={sort:0,setup(){const e=(0,o.$)(),t=()=>{e.value.device.showDevices=!0};return{handleDevices:t}}},u=a(89);const r=(0,u.Z)(s,[["render",n],["__scopeId","data-v-58f46825"]]);var i=r},9550:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.device.showDevices?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.device.showDevices,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.device.showDevices=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115);const s={class:"devices-wrap"},u={class:"del-btn"};function r(e,t,a,n,o,r){const i=(0,l.up)("Delete"),d=(0,l.up)("el-icon"),c=(0,l.up)("el-popconfirm"),m=(0,l.up)("CheckBoxWrap"),p=(0,l.up)("el-button"),h=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(h,{class:"options",title:"选择你的设备","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","close-on-click-modal":!1,"align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(p,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(p,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(m,{ref:"devices",data:n.state.list,items:n.state.items,label:"MachineName",text:"MachineName",title:"选择设备"},{oper:(0,l.w5)((e=>[(0,l._)("div",null,[(0,l.Wm)(c,{title:"删除不可逆，是否确认?",onConfirm:t=>n.handleDel(e.item.MachineName)},{reference:(0,l.w5)((()=>[(0,l._)("span",u,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])])),_:2},1032,["onConfirm"])])])),_:1},8,["data","items"])])])),_:1},8,["modelValue"])}var i=a(4870),d=a(6336),c=a(2331),m=a(1468),p=a(7178),h=a(2683),v={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:d.Z},setup(e,{emit:t}){const a=(0,h.d)(),n=(0,i.qj)({show:e.modelValue,loading:!1,list:(0,l.Fl)((()=>a.value.allDevices)),items:(0,l.Fl)((()=>a.value.devices))});(0,l.YP)((()=>n.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const o=()=>{n.show=!1,a.value.updateFlag=Date.now()},s=e=>{n.loading=!0,(0,m.FU)(e).then((()=>{n.loading=!1,a.value.updateFlag=Date.now()})).catch((()=>{n.loading=!1}))},u=(0,i.iH)(null),r=()=>{const e=u.value.getData();n.loading=!0,(0,c.hG)({username:a.value.username,devices:e}).then((e=>{n.loading=!1,a.value.updateFlag=Date.now(),e?p.z8.error(e):p.z8.success("操作成功！")})).catch((()=>{n.loading=!1,p.z8.error("操作失败!")}))};return(0,l.bv)((()=>{a.value.updateFlag=Date.now()})),{state:n,devices:u,handleCancel:o,handleSubmit:r,handleDel:s}}},f=a(89);const w=(0,f.Z)(v,[["render",r],["__scopeId","data-v-10156ea9"]]);var g=w,k={components:{ChooseDig:g},setup(){const e=(0,o.$)();return{pluginState:e}}};const _=(0,f.Z)(k,[["render",n]]);var C=_},4368:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396),n=a(7139);const o={class:"value"};function s(e,t,a,s,u,r){const i=(0,l.up)("Umbrella"),d=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>s.handleRule&&s.handleRule(...e))},[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1}),(0,l._)("span",o,(0,n.zw)(s.data.Hijack.Count),1)])}var u=a(2115),r={props:["data"],setup(e){const t=(0,u.$)(),a=()=>{t.value.hijack.showRulesItems=[e.data],t.value.hijack.showRules=!0};return{data:e.data,handleRule:a}}},i=a(89);const d=(0,i.Z)(r,[["render",s],["__scopeId","data-v-492ddb4c"]]);var c=d},1405:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(3396);const n={href:"javascript:;"},o={class:"el-dropdown-link"};function s(e,t,a,s,u,r){const i=(0,l.up)("Umbrella"),d=(0,l.up)("el-icon"),c=(0,l.up)("arrow-down"),m=(0,l.up)("el-dropdown-item"),p=(0,l.up)("el-dropdown-menu"),h=(0,l.up)("el-dropdown");return(0,l.wg)(),(0,l.iD)("a",n,[(0,l.Wm)(h,null,{dropdown:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:s.handleProcess},{default:(0,l.w5)((()=>[(0,l.Uk)("程序配置")])),_:1},8,["onClick"]),(0,l.Wm)(m,{divided:"",onClick:s.handleRule},{default:(0,l.w5)((()=>[(0,l.Uk)("分组配置")])),_:1},8,["onClick"])])),_:1})])),default:(0,l.w5)((()=>[(0,l._)("span",o,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1}),(0,l.Uk)("网络 "),(0,l.Wm)(d,{class:"el-icon--right"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1})])])),_:1})])}var u=a(2115),r={sort:2,setup(){const e=(0,u.$)(),t=()=>{e.value.hijack.showProcessSetting=!0},a=()=>{e.value.hijack.showRuleSetting=!0};return{handleProcess:t,handleRule:a}}},i=a(89);const d=(0,i.Z)(r,[["render",s],["__scopeId","data-v-c220b2f6"]]);var c=d},2594:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig"),r=(0,l.up)("RuleSetting"),i=(0,l.up)("ProcessSetting");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.hijack.showRules?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.hijack.showRules,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.hijack.showRules=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.hijack.showRuleSetting?((0,l.wg)(),(0,l.j4)(r,{key:1,modelValue:n.pluginState.hijack.showRuleSetting,"onUpdate:modelValue":t[1]||(t[1]=e=>n.pluginState.hijack.showRuleSetting=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.hijack.showProcessSetting?((0,l.wg)(),(0,l.j4)(i,{key:2,modelValue:n.pluginState.hijack.showProcessSetting,"onUpdate:modelValue":t[2]||(t[2]=e=>n.pluginState.hijack.showProcessSetting=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115);const s=e=>((0,l.dD)("data-v-3481cf21"),e=e(),(0,l.Cn)(),e),u={class:"rule-wrap flex"},r={class:"items"},i=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),d={class:"rules flex flex-column"},c={class:"private"},m=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),p={class:"public"};function h(e,t,a,n,o,s){const h=(0,l.up)("CheckBoxWrap"),v=(0,l.up)("el-button"),f=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(f,{class:"options",title:"网络限制","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(v,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(v,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",r,[(0,l.Wm)(h,{ref:"devices",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),i,(0,l._)("div",d,[(0,l._)("div",c,[(0,l.Wm)(h,{ref:"privateRules",data:n.state.privateRules,items:n.state.currentPrivate,label:"ID",text:"Name",title:"私有限制"},null,8,["data","items"])]),m,(0,l._)("div",p,[(0,l.Wm)(h,{ref:"publicRules",data:n.state.publicRules,items:n.state.currentPublic,label:"ID",text:"Name",title:"公共限制"},null,8,["data","items"])])])])])),_:1},8,["modelValue"])}a(7658);var v=a(4870),f=a(6336),w=a(7178),g=a(6e3),k=a(2331),_=a(2683),C={props:["modelValue","items"],emits:["update:modelValue"],components:{CheckBoxWrap:f.Z},setup(e,{emit:t}){const a=(0,_.d)(),n=(0,o.$)(),s=(0,l.Fl)((()=>a.value.usernames[a.value.username])),u=a.value.publicUserName,r=(0,l.Fl)((()=>a.value.usernames[u])),i=r.value&&a.value.username!=u,d=(0,v.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.hijack.showRulesItems)),privateRules:(0,l.Fl)((()=>s.value?s.value.Rules:[])),publicRules:(0,l.Fl)((()=>i?r.value.Rules:[])),loading:!1,currentPrivate:[],currentPublic:[]});(0,l.YP)((()=>d.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)})),(0,l.bv)((()=>{if(1==d.items.length){let e=d.items[0];d.currentPrivate=d.privateRules.filter((t=>e.RuleIds.indexOf(t.ID)>=0)),d.currentPublic=d.publicRules.filter((t=>e.RuleIds.indexOf(t.ID)>=0))}}));const c=(0,v.iH)(null),m=(0,v.iH)(null),p=(0,v.iH)(null),h=()=>{const e=m.value.getData(),t=p.value.getData(),a=s.value,l=r.value,n=a.Rules.filter((t=>e.indexOf(t.ID)>=0)).map((e=>a.Processs.filter((t=>e.PrivateProcesss.indexOf(t.ID)>=0)))),o=l.Rules.filter((e=>t.indexOf(e.ID)>=0)).map((e=>l.Processs.filter((t=>e.PublicProcesss.indexOf(t.ID)>=0)))),u=n.concat(o).reduce(((e,t,a)=>(e=e.concat(t.reduce(((e,t,a)=>(e=e.concat(t.List),e)),[])),e)),[]),i=[];return u.forEach((e=>{0==i.filter((t=>t.Name==e.Name&&t.DataType==e.DataType&&t.AllowType==e.AllowType)).length&&i.push(e)})),{ids:e.concat(t),list:{AllowProcesss:i.filter((e=>0==e.DataType&&0==e.AllowType)).map((e=>e.Name)),DeniedProcesss:i.filter((e=>0==e.DataType&&1==e.AllowType)).map((e=>e.Name)),AllowDomains:i.filter((e=>1==e.DataType&&0==e.AllowType)).map((e=>e.Name)),DeniedDomains:i.filter((e=>1==e.DataType&&1==e.AllowType)).map((e=>e.Name)),AllowIPs:i.filter((e=>2==e.DataType&&0==e.AllowType)).map((e=>e.Name)),DeniedIPs:i.filter((e=>2==e.DataType&&1==e.AllowType)).map((e=>e.Name))}}},f=()=>{const e=c.value.getData();0!=e.length?g.T.confirm("如果未选择任何限制，则视为清空限制，是否确定应用限制？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{d.loading=!0;const t=h();(0,k.Gn)({Devices:e,Rules:t.list,ids:t.ids}).then((l=>{d.loading=!1,l&&l.length>0?w.z8.error(`操作失败，失败设备:${l.join(",")}`):(w.z8.success("操作成功！"),a.value.devices.filter((t=>e.indexOf(t.MachineName)>=0)).forEach((e=>{e.RuleIds=t.ids})))})).catch((e=>{d.loading=!1,w.z8.error("操作失败")}))})).catch((()=>{})):w.z8.error("未选择任何设备")},C=()=>{d.show=!1};return{state:d,globalData:a,devices:c,privateRules:m,publicRules:p,handleSubmit:f,handleCancel:C}}},x=a(89);const D=(0,x.Z)(C,[["render",h],["__scopeId","data-v-3481cf21"]]);var W=D,b=a(5178),V=a(2833),y={components:{ChooseDig:W,RuleSetting:b["default"],ProcessSetting:V["default"]},setup(){const e=(0,o.$)();return{pluginState:e}}};const I=(0,x.Z)(y,[["render",n]]);var S=I},2850:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396),n=a(7139);const o={class:"speed"};function s(e,t,a,s,u,r){const i=(0,l.up)("Upload"),d=(0,l.up)("el-icon"),c=(0,l.up)("Download");return(0,l.wg)(),(0,l.iD)("span",o,[(0,l._)("span",null,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1}),(0,l.Uk)(" "+(0,n.zw)(s.data.Hijack.UploadText),1)]),(0,l._)("span",null,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Uk)(" "+(0,n.zw)(s.data.Hijack.DownloadText),1)])])}var u={props:["data"],setup(e){return{data:e.data}}},r=a(89);const i=(0,r.Z)(u,[["render",s],["__scopeId","data-v-756d6f76"]]);var d=i},2833:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Groups"),r=(0,l.up)("el-tab-pane"),i=(0,l.up)("Items"),d=(0,l.up)("el-tabs"),c=(0,l.up)("el-button"),m=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(m,{class:"options",title:"限制程序配置","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","close-on-click-modal":!1,"align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l.Wm)(d,{type:"border-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"程序分组"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(r,{label:"程序列表"},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])),_:1})])),_:1},8,["modelValue"])}var o=a(4870);const s={class:"process-items-wrap flex flex-nowrap flex-column"},u={class:"head t-c flex"},r={class:"flex-1"},i={class:"prevs-wrap"};function d(e,t,a,n,o,d){const c=(0,l.up)("el-button"),m=(0,l.up)("el-table-column"),p=(0,l.up)("EditPen"),h=(0,l.up)("el-icon"),v=(0,l.up)("Delete"),f=(0,l.up)("el-popconfirm"),w=(0,l.up)("el-table"),g=(0,l.up)("el-input"),k=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l.Wm)(c,{onClick:t[0]||(t[0]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(w,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{prop:"Name",label:"名称"}),(0,l.Wm)(m,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[e.row.ID>1?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(c,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(f,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(c,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])],64)):(0,l.kq)("",!0)])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(k,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(c,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(g,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"分组名称"},null,8,["modelValue"])])])),_:1},8,["title","modelValue"])])}var c=a(7178),m=a(2331),p=a(2683),h={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,currentItem:{ID:0,Name:""},showEdit:!1,list:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Processs.length>0&&(t.group=a.Processs[0].ID),a.Processs):[]}))}),a=e=>{e=e||{Name:"",ID:0},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.showEdit=!0},n=a=>{t.loading=!0,(0,m.XM)({UserName:e.value.username,ID:a.ID}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")}))},s=()=>{t.showEdit=!1},u=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.xc)({UserName:e.value.username,Group:t.currentItem}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")})))};return{state:t,handleAdd:a,handleDel:n,handleEditCancel:s,handleEditSubmit:u}}},v=a(89);const f=(0,v.Z)(h,[["render",d],["__scopeId","data-v-11761ba6"]]);var w=f,g=a(7139);const k=e=>((0,l.dD)("data-v-584284ae"),e=e(),(0,l.Cn)(),e),_={class:"process-items-wrap flex flex-nowrap flex-column"},C={class:"head t-c flex"},x=k((()=>(0,l._)("span",{class:"flex-1"},null,-1))),D={class:"flex-1"},W={class:"prevs-wrap"},b=k((()=>(0,l._)("div",{class:"alert"},[(0,l._)("p",null,"1、黑名单优先"),(0,l._)("p",null,"2、支持进程名，域名，ip(支持掩码)"),(0,l._)("p",null,"3、进程，域名，后序截取判断")],-1))),V={style:{"padding-bottom":"1rem"}},y={class:"t-c",style:{"padding-bottom":"1rem"}},I={class:"t-c"};function S(e,t,a,n,o,s){const u=(0,l.up)("el-option"),r=(0,l.up)("el-select"),i=(0,l.up)("el-button"),d=(0,l.up)("el-table-column"),c=(0,l.up)("EditPen"),m=(0,l.up)("el-icon"),p=(0,l.up)("Delete"),h=(0,l.up)("el-popconfirm"),v=(0,l.up)("el-table"),f=(0,l.up)("el-input"),w=(0,l.up)("el-radio"),k=(0,l.up)("el-radio-group"),S=(0,l.up)("el-switch"),U=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",_,[(0,l._)("div",C,[(0,l.Wm)(r,{modelValue:n.state.group,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.group=e),placeholder:"选择一个分组",style:{width:"13rem"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.groups,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.ID,label:e.Name,value:e.ID},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),x,(0,l.Wm)(i,{onClick:t[1]||(t[1]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",D,[(0,l._)("div",W,[(0,l.Wm)(v,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{prop:"Name",label:"名称"},{default:(0,l.w5)((e=>[(0,l._)("strong",{class:(0,g.C_)(`allow-type-${e.row.AllowType}`)},(0,g.zw)(e.row.Name),3)])),_:1}),(0,l.Wm)(d,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[(0,l.Wm)(i,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(h,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(i,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(U,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[5]||(t[5]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(i,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[b,(0,l._)("div",V,[(0,l.Wm)(f,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"进程 | 域名 | ip(支持掩码/32)"},null,8,["modelValue"])]),(0,l._)("div",y,[(0,l.Wm)(k,{modelValue:n.state.currentItem.DataType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.state.currentItem.DataType=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{label:0},{default:(0,l.w5)((()=>[(0,l.Uk)("进程")])),_:1}),(0,l.Wm)(w,{label:1},{default:(0,l.w5)((()=>[(0,l.Uk)("域名")])),_:1}),(0,l.Wm)(w,{label:2},{default:(0,l.w5)((()=>[(0,l.Uk)("IP")])),_:1})])),_:1},8,["modelValue"])]),(0,l._)("div",I,[(0,l.Wm)(S,{modelValue:n.state.currentItem.AllowType,"onUpdate:modelValue":t[4]||(t[4]=e=>n.state.currentItem.AllowType=e),size:"large","active-text":"允许","inactive-text":"阻止","active-value":0,"inactive-value":1},null,8,["modelValue"])])])])),_:1},8,["title","modelValue"])])}var U={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,group:0,currentItem:{ID:0,Name:"",AllowType:1,DataType:0},showEdit:!1,groups:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Processs.length>0&&(t.group=a.Processs[0].ID),a.Processs):[]})),list:(0,l.Fl)((()=>{let e=t.groups.filter((e=>e.ID==t.group))[0];return e?e.List:[]}))});(0,l.YP)((()=>t.currentItem.Name),(()=>{a(t.currentItem.Name)}));const a=e=>{const a=/^.{0,}(\.exe)$/.test(e),l=/^((?:(?:25[0-5]|2[0-4]\d|[01]?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d?\d))(\/\d{1,})?$/.test(e);t.currentItem.DataType=a?0:l?2:1,l&&e.indexOf("/")<0&&(t.currentItem.Name=t.currentItem.Name+"/32")},n=e=>{e=e||{Name:"",ID:0,AllowType:1,DataType:0},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.currentItem.AllowType=e.AllowType,t.showEdit=!0},s=a=>{t.loading=!0,(0,m.sz)({UserName:e.value.username,GroupID:t.group,ID:a.ID}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")}))},u=()=>{t.showEdit=!1},r=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.Az)({UserName:e.value.username,GroupID:t.group,Item:t.currentItem}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")})))};return{state:t,handleNameChange:a,handleAdd:n,handleDel:s,handleEditCancel:u,handleEditSubmit:r}}};const T=(0,v.Z)(U,[["render",S],["__scopeId","data-v-584284ae"]]);var N=T,j={props:["modelValue"],emits:["update:modelValue"],components:{Groups:w,Items:N},setup(e,{emit:t}){const a=(0,o.qj)({show:e.modelValue,loading:!1});(0,l.YP)((()=>a.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const n=(0,p.d)();(0,l.bv)((()=>{n.value.updateFlag=Date.now()}));const s=()=>{a.show=!1};return{state:a,handleCancel:s}}};const z=(0,v.Z)(j,[["render",n]]);var P=z},8921:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Umbrella"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleRule},{default:(0,l.w5)((()=>[(0,l.Uk)("网络"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2115),s=a(2683),u={setup(){const e=(0,o.$)(),t=(0,s.d)(),a=()=>{e.value.hijack.showRulesItems=t.value.devices,e.value.hijack.showRules=!0};return{handleRule:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var d=i},5178:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Groups"),r=(0,l.up)("el-tab-pane"),i=(0,l.up)("Rule"),d=(0,l.up)("el-tabs"),c=(0,l.up)("el-button"),m=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(m,{class:"options",title:"限制组配置","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.show=e),center:"","close-on-click-modal":!1,"align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l.Wm)(d,{type:"border-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"限制组"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(r,{label:"限制内容"},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1})])),_:1})])),_:1},8,["modelValue"])}var o=a(4870);const s={class:"rule-items-wrap flex flex-nowrap flex-column"},u={class:"head t-c flex"},r={class:"flex-1"},i={class:"prevs-wrap"};function d(e,t,a,n,o,d){const c=(0,l.up)("el-button"),m=(0,l.up)("el-table-column"),p=(0,l.up)("EditPen"),h=(0,l.up)("el-icon"),v=(0,l.up)("Delete"),f=(0,l.up)("el-popconfirm"),w=(0,l.up)("el-table"),g=(0,l.up)("el-input"),k=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[(0,l.Wm)(c,{onClick:t[0]||(t[0]=e=>n.handleAdd())},{default:(0,l.w5)((()=>[(0,l.Uk)("添加项")])),_:1})]),(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(w,{data:n.state.list,size:"small",border:"",stripe:"",style:{width:"100%"},height:"50vh"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{prop:"Name",label:"名称"}),(0,l.Wm)(m,{label:"操作",width:"110"},{default:(0,l.w5)((e=>[e.row.ID>1?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(c,{size:"small",onClick:t=>n.handleAdd(e.row)},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:2},1032,["onClick"]),(0,l.Wm)(f,{title:"删除不可逆，是否确定?",onConfirm:t=>n.handleDel(e.row)},{reference:(0,l.w5)((()=>[(0,l.Wm)(c,{size:"small",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])],64)):(0,l.kq)("",!0)])),_:1})])),_:1},8,["data"])])]),(0,l.Wm)(k,{title:""+(0==n.state.currentItem.ID?"添加项":"修改项"),"destroy-on-close":"",modelValue:n.state.showEdit,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.showEdit=e),center:"","close-on-click-modal":!1,"align-center":"",width:"80%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:n.handleEditCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(c,{type:"primary",loading:n.state.loading,onClick:n.handleEditSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(g,{modelValue:n.state.currentItem.Name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.currentItem.Name=e),size:"large",placeholder:"分组名称"},null,8,["modelValue"])])])),_:1},8,["title","modelValue"])])}var c=a(7178),m=a(2331),p=a(2683),h={setup(){const e=(0,p.d)(),t=(0,o.qj)({loading:!1,currentItem:{ID:0,Name:""},showEdit:!1,list:(0,l.Fl)((()=>{let a=e.value.usernames[e.value.username];return a?(0==t.group&&a.Rules.length>0&&(t.group=a.Rules[0].ID),a.Rules):[]}))}),a=e=>{e=e||{Name:"",ID:0},t.currentItem.Name=e.Name,t.currentItem.ID=e.ID,t.showEdit=!0},n=a=>{t.loading=!0,(0,m.U4)({UserName:e.value.username,ID:a.ID}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")}))},s=()=>{t.showEdit=!1},u=()=>{t.currentItem.Name=t.currentItem.Name.replace(/^\s|\s$/g,""),t.currentItem.Name&&(t.loading=!0,(0,m.HP)({UserName:e.value.username,Rule:t.currentItem}).then((a=>{t.loading=!1,a?c.z8.error(a):(c.z8.success("操作成功!"),t.showEdit=!1,e.value.updateFlag=Date.now())})).catch((e=>{t.loading=!1,c.z8.error("操作失败!")})))};return{state:t,handleAdd:a,handleDel:n,handleEditCancel:s,handleEditSubmit:u}}},v=a(89);const f=(0,v.Z)(h,[["render",d],["__scopeId","data-v-2c5257ac"]]);var w=f;const g=e=>((0,l.dD)("data-v-e2faccc0"),e=e(),(0,l.Cn)(),e),k={class:"command-wrap flex flex-column"},_={class:"head t-c flex"},C=g((()=>(0,l._)("div",{class:"flex-1"},null,-1))),x={class:"body flex flex-1"},D={class:"private"},W=g((()=>(0,l._)("div",{class:"flex-1"},null,-1))),b={class:"public"};function V(e,t,a,n,o,s){const u=(0,l.up)("el-option"),r=(0,l.up)("el-select"),i=(0,l.up)("el-button"),d=(0,l.up)("CheckBoxWrap");return(0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",_,[(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.state.group,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.group=e),placeholder:"选择一个分组",style:{width:"13rem"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.state.groups,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.ID,label:e.Name,value:e.ID},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),C,(0,l._)("div",null,[(0,l.Wm)(i,{onClick:t[1]||(t[1]=e=>n.handleSave()),loading:n.state.loading},{default:(0,l.w5)((()=>[(0,l.Uk)("保存选择")])),_:1},8,["loading"])])]),(0,l._)("div",x,[(0,l._)("div",D,[(0,l.Wm)(d,{ref:"privateProcess",data:n.state.privateProcess,items:n.state.privateProcessItems,label:"ID",text:"Name",title:"私有程序组"},null,8,["data","items"])]),W,(0,l._)("div",b,[(0,l.Wm)(d,{ref:"publicProcess",data:n.state.publicProcess,items:n.state.publicProcessItems,label:"ID",text:"Name",title:"公共程序组"},null,8,["data","items"])])])])}var y=a(6336),I={components:{CheckBoxWrap:y.Z},setup(){const e=(0,p.d)(),t=(0,l.Fl)((()=>e.value.usernames[e.value.username])),a=e.value.publicUserName,n=(0,l.Fl)((()=>e.value.usernames[a])),s=n.value&&e.value.username!=a,u=(0,o.qj)({loading:!1,group:0,groups:(0,l.Fl)((()=>t.value?(0==u.group&&t.value.Rules.length>0&&(u.group=t.value.Rules[0].ID),t.value.Rules):[])),rule:(0,l.Fl)((()=>{if(t){let e=t.value.Rules.filter((e=>e.ID==u.group))[0];if(e)return e}return{ID:0,Name:"",PrivateProcesss:[],PublicProcesss:[]}})),privateProcess:(0,l.Fl)((()=>t.value?t.value.Processs:[])),privateProcessItems:(0,l.Fl)((()=>t.value?t.value.Processs.filter((e=>u.rule.PrivateProcesss.indexOf(e.ID)>=0)):[])),publicProcess:(0,l.Fl)((()=>s?n.value.Processs:[])),publicProcessItems:(0,l.Fl)((()=>s?n.value.Processs.filter((e=>u.rule.PublicProcesss.indexOf(e.ID)>=0)):[]))});(0,l.YP)((()=>u.show),(e=>{e||setTimeout((()=>{emit("update:modelValue",e)}),300)}));const r=(0,o.iH)(null),i=(0,o.iH)(null),d=()=>{let a=t.value.Rules.filter((e=>e.ID==u.group))[0];a?(a.PrivateProcesss=r.value.getData(),a.PublicProcesss=i.value.getData(),u.loading=!0,(0,m.HP)({UserName:e.value.username,Rule:a}).then((t=>{u.loading=!1,t?c.z8.error(t):(e.value.updateFlag=Date.now(),c.z8.success("操作成功"))})).catch((()=>{u.loading=!1,c.z8.error("操作失败")}))):c.z8.error("未选择任何限制分组")};return{state:u,handleSave:d,privateProcess:r,publicProcess:i}}};const S=(0,v.Z)(I,[["render",V],["__scopeId","data-v-e2faccc0"]]);var U=S,T={props:["modelValue"],emits:["update:modelValue"],components:{Groups:w,Rule:U},setup(e,{emit:t}){const a=(0,o.qj)({show:e.modelValue});(0,l.YP)((()=>a.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const n=()=>{a.show=!1};return{state:a,handleCancel:n}}};const N=(0,v.Z)(T,[["render",n]]);var j=N},2605:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396),n=a(7139);const o={href:"javascript:;"},s={class:"light-value"};function u(e,t,a,u,r,i){const d=(0,l.up)("Sunny"),c=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",o,[(0,l._)("span",{class:"light",onClick:t[0]||(t[0]=(...e)=>u.handleLight&&u.handleLight(...e))},[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1}),(0,l._)("div",{class:"light-bg",style:(0,n.j5)({height:`${u.data.Light.Value}%`})},[(0,l.Wm)(c,{class:"value"},{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})],4)]),(0,l._)("p",s,(0,n.zw)(u.data.Light.Value),1)])}var r=a(2115),i={props:["data"],setup(e){const t=(0,r.$)(),a=()=>{t.value.light.items=[e.data],t.value.light.showLightSingle=!0};return{data:e.data,handleLight:a}}},d=a(89);const c=(0,d.Z)(i,[["render",u],["__scopeId","data-v-3383bf99"]]);var m=c},7752:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Sunny"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleLight},{default:(0,l.w5)((()=>[(0,l.Uk)("亮度 "),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.light.items=t.value.devices,e.value.light.showLight=!0};return{handleLight:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var d=i},2943:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return F}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Light"),r=(0,l.up)("LightSingle");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.light.showLight?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.light.showLight,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.light.showLight=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.light.showLightSingle?((0,l.wg)(),(0,l.j4)(r,{key:1,modelValue:n.pluginState.light.showLightSingle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.pluginState.light.showLightSingle=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115),s=a(7139);const u=e=>((0,l.dD)("data-v-f908807c"),e=e(),(0,l.Cn)(),e),r={class:"command-wrap flex"},i={class:"items"},d={class:"name"},c={class:"light"},m={class:"value"},p=u((()=>(0,l._)("div",{class:"flex-1"},null,-1))),h={class:"commands"},v={class:"slider-wrap flex flex-column"},f={class:"silder flex flex-1"},w={class:"flex-1"};function g(e,t,a,n,o,u){const g=(0,l.up)("Sunny"),k=(0,l.up)("el-icon"),_=(0,l.up)("CheckBoxWrap"),C=(0,l.up)("el-slider"),x=(0,l.up)("PrevBoxWrap"),D=(0,l.up)("el-button"),W=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(W,{class:"options",title:"调节亮度","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(D,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(D,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(_,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"全选"},{name:(0,l.w5)((e=>[(0,l._)("span",null,[(0,l._)("span",d,(0,s.zw)(e.item.MachineName),1),(0,l._)("strong",c,[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g)])),_:1}),(0,l._)("strong",m,(0,s.zw)(e.item.Light.Value?Math.floor(e.item.Light.Value):e.item.Light.Value)+"%",1)])])])),_:1},8,["data","items"])]),p,(0,l._)("div",h,[(0,l.Wm)(x,{ref:"commands",title:"调节亮度"},{wrap:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("div",f,[(0,l._)("div",w,[(0,l.Wm)(C,{onChange:n.handleChangeLight,modelValue:n.state.light,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.light=e),vertical:"",height:"100%"},null,8,["onChange","modelValue"])])])])])),_:1},512)])])])),_:1},8,["modelValue"])}var k=a(4870),_=a(6336),C=a(5291),x=a(7178),D=a(2843);const W=(e,t)=>(0,D.gQ)("light/update",{names:e,value:t});var b=a(2683),V={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:_.Z,PrevBoxWrap:C.Z},setup(e,{emit:t}){const a=(0,b.d)(),n=(0,o.$)(),s=(0,k.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.light.items)),mute:!1,loading:!1,light:0});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=(0,k.iH)(null),i=()=>{let e=r.value.getData();0!=e.length?W(e,s.light):x.z8.error("未选择任何设备")};return{state:s,globalData:a,items:r,handleCancel:u,handleChangeLight:i}}},y=a(89);const I=(0,y.Z)(V,[["render",g],["__scopeId","data-v-f908807c"]]);var S=I;const U={class:"slider-wrap flex flex-column"},T={class:"silder flex flex-1"},N={class:"flex-1"};function j(e,t,a,n,o,s){const u=(0,l.up)("el-slider"),r=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(r,{title:"调节亮度","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{default:(0,l.w5)((()=>[(0,l._)("div",U,[(0,l._)("div",T,[(0,l._)("div",N,[(0,l.Wm)(u,{onChange:n.handleChangeLight,modelValue:n.state.light,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.light=e)},null,8,["onChange","modelValue"])])])])])),_:1},8,["modelValue"])}var z={props:["modelValue","items"],emits:["update:modelValue"],components:{},setup(e,{emit:t}){const a=(0,b.d)(),n=(0,o.$)(),s=(0,k.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.light.items)),loading:!1,light:n.value.light.items[0].Light.Value});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=()=>{W(s.items.map((e=>e.MachineName)),s.light)};return{state:s,globalData:a,handleCancel:u,handleChangeLight:r}}};const P=(0,y.Z)(z,[["render",j],["__scopeId","data-v-152d0c7b"]]);var M=P,L={components:{Light:S,LightSingle:M},setup(){const e=(0,o.$)();return{pluginState:e}}};const E=(0,y.Z)(L,[["render",n]]);var F=E},6542:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleLock,"model-value":n.data.LLock.Value,"inline-prompt":"","active-text":"锁屏","inactive-text":"锁屏"},null,8,["onClick","model-value"])])),_:1})}var o=a(3327),s=a(2115),u=a(6e3),r=a(7178),i={sort:2,props:["data"],setup(e){(0,s.$)();const t=()=>{let t=e.data.LLock.Value?"确定解除锁屏吗？":"确定开启锁屏吗？";u.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.Q)([e.data.MachineName],!e.data.LLock.Value).then((e=>{e?r.z8.success("操作成功"):r.z8.error("操作失败")})).catch((()=>{r.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleLock:t}}},d=a(89);const c=(0,d.Z)(i,[["render",n]]);var m=c},2356:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Bell"),r=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("a",{href:"javascript:;",onClick:t[0]||(t[0]=(...e)=>n.handleMessage&&n.handleMessage(...e))},[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])}var o=a(2115),s={props:["data"],setup(e){const t=(0,o.$)(),a=()=>{t.value.message.items=[e.data],t.value.message.showMessage=!0};return{handleMessage:a}}},u=a(89);const r=(0,u.Z)(s,[["render",n]]);var i=r},7124:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Bell"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleMessage},{default:(0,l.w5)((()=>[(0,l.Uk)("提醒"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.message.items=t.value.devices,e.value.message.showMessage=!0};return{handleMessage:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var d=i},1735:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("ChooseDig");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.message.showMessage?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.message.showMessage,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.message.showMessage=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115);const s=e=>((0,l.dD)("data-v-de537484"),e=e(),(0,l.Cn)(),e),u={class:"command-wrap flex"},r={class:"items"},i=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),d={class:"prevs-wrap flex flex-column flex-nowrap"},c={class:"prevs"},m=s((()=>(0,l._)("div",{class:"flex-1"},null,-1))),p={class:"times"},h={class:"prev"};function v(e,t,a,n,o,s){const v=(0,l.up)("CheckBoxWrap"),f=(0,l.up)("PrevBoxWrap"),w=(0,l.up)("el-input"),g=(0,l.up)("el-button"),k=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(k,{class:"options",title:"发送提醒","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[2]||(t[2]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(g,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(g,{type:"primary",loading:n.state.loading,onClick:n.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["loading","onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",r,[(0,l.Wm)(v,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"选择设备"},null,8,["data","items"])]),i,(0,l._)("div",d,[(0,l._)("div",c,[(0,l.Wm)(f,{ref:"prevs",data:n.state.prevs,onPrev:n.handlePrev,title:"快捷短语"},null,8,["data","onPrev"])]),m,(0,l._)("div",null,[(0,l._)("div",p,[(0,l.Wm)(w,{modelValue:n.state.sec,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.sec=e),size:"large"},{append:(0,l.w5)((()=>[(0,l.Uk)("秒钟")])),_:1},8,["modelValue"])]),(0,l._)("div",h,[(0,l.Wm)(w,{modelValue:n.state.prev,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.prev=e),type:"textarea",resize:"none",placeholder:"输入提醒消息"},null,8,["modelValue"])])])])])])),_:1},8,["modelValue"])}a(7658);var f=a(4870),w=a(6336),g=a(5291),k=a(7178),_=a(6e3),C=a(9418),x=a(2683),D={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:w.Z,PrevBoxWrap:g.Z},setup(e,{emit:t}){const a=(0,x.d)(),n=(0,o.$)(),s=(0,f.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.message.items)),prevs:["请注意上课纪律!","请勿玩游戏!","请勿大声喧哗!"],sec:10,prev:"",loading:!1});try{1==n.value.message.items.length&&n.value.message.items[0].Share.UserName&&s.prevs.push(`【${n.value.message.items[0].Share.UserName.Value}】请注意上课纪律!`)}catch(m){}(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=e=>{s.prev=e},r=(0,f.iH)(null),i=(0,f.iH)(null),d=()=>{let e=r.value.getData();0!=e.length?0!=s.prev.length?_.T.confirm("是否确定发送消息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{s.loading=!0,(0,C.G)(e,[`start message.win.exe "${s.prev}" ${s.sec}`]).then((e=>{e?k.z8.success("操作成功"):k.z8.error("操作失败"),s.loading=!1})).catch((()=>{s.loading=!1,k.z8.error("操作失败")}))})).catch((()=>{})):k.z8.error("未填写消息"):k.z8.error("未选择任何设备")},c=()=>{s.show=!1};return{state:s,globalData:a,items:r,prevs:i,handleSubmit:d,handleCancel:c,handlePrev:u}}},W=a(89);const b=(0,W.Z)(D,[["render",v],["__scopeId","data-v-de537484"]]);var V=b,y={components:{ChooseDig:V},setup(){const e=(0,o.$)();return{pluginState:e}}};const I=(0,W.Z)(y,[["render",n]]);var S=I},8202:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(3396),n=a(7139);function o(e,t,a,o,s,u){const r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:8,class:"time"},{default:(0,l.w5)((()=>[(0,l._)("span",null,"fps : "+(0,n.zw)(o.data.Report.fps)+" 、 "+(0,n.zw)(o.data.Report.ping)+"ms",1)])),_:1})}var s={sort:-1,props:["data"],setup(e){return{data:e.data}}},u=a(89);const r=(0,u.Z)(s,[["render",o],["__scopeId","data-v-1b21940a"]]);var i=r},4100:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var l=a(3396),n=a(7139);const o=e=>((0,l.dD)("data-v-90ae9f38"),e=e(),(0,l.Cn)(),e),s={key:0,class:"share-lock-wrap"},u={class:"inner"},r=o((()=>(0,l._)("h3",null,"请求解锁",-1))),i={key:0},d={key:1};function c(e,t,a,o,c,m){const p=(0,l.up)("el-button"),h=(0,l.up)("el-popconfirm");return"ask"==o.data.Share.Lock.Value.val?((0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",u,[r,(0,l._)("h5",null,[(0,l._)("span",null,"【"+(0,n.zw)(o.data.Share.Lock.TypeText)+"】",1),"remark-block"==o.data.Share.Lock.Value.type?((0,l.wg)(),(0,l.iD)("span",i,"【"+(0,n.zw)(o.data.Share.Lock.Value.star)+"】星",1)):(0,l.kq)("",!0),"remark-cpp"==o.data.Share.Lock.Value.type?((0,l.wg)(),(0,l.iD)("span",d,"【"+(0,n.zw)(o.data.Share.Lock.Value.star)+"】星",1)):(0,l.kq)("",!0)]),(0,l._)("div",null,[(0,l.Wm)(h,{"confirm-button-text":"确认","cancel-button-text":"取消",title:"确认驳回请求吗?",onConfirm:o.handleReject},{reference:(0,l.w5)((()=>[(0,l.Wm)(p,{loading:o.state.loading,type:"danger",plain:"",round:"",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("驳回")])),_:1},8,["loading"])])),_:1},8,["onConfirm"]),(0,l.Wm)(h,{"confirm-button-text":"确认","cancel-button-text":"取消",title:"确认通过请求吗?",onConfirm:o.handleConfirm},{reference:(0,l.w5)((()=>[(0,l.Wm)(p,{loading:o.state.loading,type:"success",plain:"",round:"",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("确认")])),_:1},8,["loading"])])),_:1},8,["onConfirm"])])])])):(0,l.kq)("",!0)}var m=a(4870),p=a(2843);const h=(e,t)=>(0,p.gQ)("share/update",{name:e,item:t});var v=a(7178),f={props:["data"],setup(e){const t=(0,m.qj)({loading:!1}),a=()=>{t.loading=!0;let a=JSON.parse(JSON.stringify(e.data.Share.Lock.Value));a.val="reject",h(e.data.MachineName,{index:e.data.Share.Lock.Index,value:JSON.stringify(a)}).then((e=>{t.loading=!1,e?v.z8.success("操作成功！"):v.z8.error("操作失败！")})).catch((()=>{t.loading=!1,v.z8.error("操作失败！")}))},l=()=>{t.loading=!0;let a=JSON.parse(JSON.stringify(e.data.Share.Lock.Value));a.val="confirm",h(e.data.MachineName,{index:e.data.Share.Lock.Index,value:JSON.stringify(a)}).then((e=>{t.loading=!1,e?v.z8.success("操作成功！"):v.z8.error("操作失败！")})).catch((()=>{t.loading=!1,v.z8.error("操作失败！")}))};return{data:e.data,state:t,handleReject:a,handleConfirm:l}}},w=a(89);const g=(0,w.Z)(f,[["render",c],["__scopeId","data-v-90ae9f38"]]);var k=g},2592:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396),n=a(7139);const o={key:0,class:"user-name"};function s(e,t,a,s,u,r){return s.data.Share.UserName.Value?((0,l.wg)(),(0,l.iD)("i",o," - "+(0,n.zw)(s.data.Share.UserName.Value),1)):(0,l.kq)("",!0)}var u={props:["data"],setup(e){return{data:e.data}}},r=a(89);const i=(0,r.Z)(u,[["render",s],["__scopeId","data-v-793dbf84"]]);var d=i},2972:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleUSB,"model-value":n.data.Usb.Value,"inline-prompt":"","active-color":"#ff0000","active-text":"U盘","inactive-text":"U盘"},null,8,["onClick","model-value"])])),_:1})}var o=a(5260),s=a(2115),u=a(6e3),r=a(7178),i={sort:4,props:["data"],setup(e){(0,s.$)();const t=()=>{let t=e.data.Usb.Value?"确定启用USB吗？":"确定禁用USB吗？";u.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.E)([e.data.MachineName],!e.data.Usb.Value).then((e=>{e?r.z8.success("操作成功"):r.z8.error("操作失败")})).catch((()=>{r.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleUSB:t}}},d=a(89);const c=(0,d.Z)(i,[["render",n]]);var m=c},7187:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396),n=a(7139);const o={href:"javascript:;"},s={class:"volume-value"};function u(e,t,a,u,r,i){const d=(0,l.up)("Mute"),c=(0,l.up)("el-icon"),m=(0,l.up)("Microphone");return(0,l.wg)(),(0,l.iD)("a",o,[(0,l._)("span",{class:"volume",onClick:t[0]||(t[0]=(...e)=>u.handleVolume&&u.handleVolume(...e))},[u.data.Volume.Mute?((0,l.wg)(),(0,l.j4)(c,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m)])),_:1}),(0,l._)("div",{class:"volume-bg",style:(0,n.j5)({height:`${u.data.Volume.Value}%`})},[(0,l.Wm)(c,{class:"value"},{default:(0,l.w5)((()=>[(0,l.Wm)(m)])),_:1})],4)],64))]),(0,l._)("p",s,(0,n.zw)(Math.floor(u.data.Volume.Value)),1)])}var r=a(2115),i={props:["data"],setup(e){const t=(0,r.$)(),a=()=>{t.value.volume.items=[e.data],t.value.volume.showVolumeSingle=!0};return{data:e.data,handleVolume:a}}},d=a(89);const c=(0,d.Z)(i,[["render",u],["__scopeId","data-v-e095111a"]]);var m=c},3767:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Microphone"),r=(0,l.up)("el-icon"),i=(0,l.up)("el-button");return(0,l.wg)(),(0,l.j4)(i,{size:"small",plain:"",dark:"",onClick:n.handleVolume},{default:(0,l.w5)((()=>[(0,l.Uk)("音量"),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1})])),_:1},8,["onClick"])}var o=a(2683),s=a(2115),u={setup(){const e=(0,s.$)(),t=(0,o.d)(),a=()=>{e.value.volume.items=t.value.devices,e.value.volume.showVolume=!0};return{handleVolume:a}}},r=a(89);const i=(0,r.Z)(u,[["render",n]]);var d=i},9602:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("Volume"),r=(0,l.up)("VolumeSingle");return(0,l.wg)(),(0,l.iD)("div",null,[n.pluginState.volume.showVolume?((0,l.wg)(),(0,l.j4)(u,{key:0,modelValue:n.pluginState.volume.showVolume,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pluginState.volume.showVolume=e)},null,8,["modelValue"])):(0,l.kq)("",!0),n.pluginState.volume.showVolumeSingle?((0,l.wg)(),(0,l.j4)(r,{key:1,modelValue:n.pluginState.volume.showVolumeSingle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.pluginState.volume.showVolumeSingle=e)},null,8,["modelValue"])):(0,l.kq)("",!0)])}var o=a(2115),s=a(7139);const u=e=>((0,l.dD)("data-v-40e78732"),e=e(),(0,l.Cn)(),e),r={class:"command-wrap flex"},i={class:"items"},d={class:"name"},c={class:"volume"},m={class:"value"},p=u((()=>(0,l._)("div",{class:"flex-1"},null,-1))),h={class:"commands"},v={class:"slider-wrap flex flex-column"},f={class:"silder flex flex-1"},w={class:"flex-1"},g={class:"btn"},k={class:"btn"};function _(e,t,a,n,o,u){const _=(0,l.up)("el-button"),C=(0,l.up)("Mute"),x=(0,l.up)("el-icon"),D=(0,l.up)("Microphone"),W=(0,l.up)("CheckBoxWrap"),b=(0,l.up)("el-slider"),V=(0,l.up)("PrevBoxWrap"),y=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(y,{class:"options",title:"调节音量","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[3]||(t[3]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{footer:(0,l.w5)((()=>[(0,l.Wm)(_,{onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1},8,["onClick"]),(0,l.Wm)(_,{type:"primary",onClick:n.handleCancel},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",i,[(0,l.Wm)(W,{ref:"items",data:n.globalData.devices,items:n.state.items,label:"MachineName",title:"全选"},{title:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(_,{size:"small",onClick:n.handleSelectMute},{default:(0,l.w5)((()=>[(0,l.Uk)("状态选择")])),_:1},8,["onClick"])])])),name:(0,l.w5)((e=>[(0,l._)("span",null,[(0,l._)("span",d,(0,s.zw)(e.item.MachineName),1),(0,l._)("strong",c,[e.item.VolumeMute?((0,l.wg)(),(0,l.j4)(x,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(C)])),_:1})):((0,l.wg)(),(0,l.j4)(x,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(D)])),_:1})),(0,l._)("strong",m,(0,s.zw)(e.item.Volume.Value?Math.floor(e.item.Volume.Value):e.item.Volume.Value)+"%",1)])])])),_:1},8,["data","items"])]),p,(0,l._)("div",h,[(0,l.Wm)(V,{ref:"commands",title:"调节音量"},{wrap:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l._)("div",f,[(0,l._)("div",w,[(0,l.Wm)(b,{onChange:n.handleChangeVolume,modelValue:n.state.volume,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.volume=e),vertical:"",height:"100%"},null,8,["onChange","modelValue"])])]),(0,l._)("div",g,[(0,l.Wm)(_,{onClick:t[1]||(t[1]=e=>n.handleMute(!0))},{default:(0,l.w5)((()=>[(0,l.Uk)("静音")])),_:1})]),(0,l._)("div",k,[(0,l.Wm)(_,{onClick:t[2]||(t[2]=e=>n.handleMute(!1))},{default:(0,l.w5)((()=>[(0,l.Uk)("取消静音")])),_:1})])])])),_:1},512)])])])),_:1},8,["modelValue"])}var C=a(4870),x=a(6336),D=a(5291),W=a(7178),b=a(8048),V=a(2683),y={props:["modelValue"],emits:["update:modelValue"],components:{CheckBoxWrap:x.Z,PrevBoxWrap:D.Z},setup(e,{emit:t}){const a=(0,V.d)(),n=(0,o.$)(),s=(0,C.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.volume.items)),mute:!1,loading:!1,volume:0});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=()=>{s.items=a.value.devices.filter((e=>e.VolumeMute==s.mute)),W.z8.success(`已选中${s.mute?"静音":"未静音"}设备`),s.mute=!s.mute},i=(0,C.iH)(null),d=e=>{let t=i.value.getData();0!=t.length?(0,b.H)(t,e):W.z8.error("未选择任何设备")},c=()=>{let e=i.value.getData();0!=e.length?(0,b.j)(e,s.volume/100):W.z8.error("未选择任何设备")};return{state:s,globalData:a,items:i,handleCancel:u,handleSelectMute:r,handleMute:d,handleChangeVolume:c}}},I=a(89);const S=(0,I.Z)(y,[["render",_],["__scopeId","data-v-40e78732"]]);var U=S;const T={class:"slider-wrap flex flex-column"},N={class:"silder flex flex-1"},j={class:"flex-1"};function z(e,t,a,n,o,s){const u=(0,l.up)("el-slider"),r=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(r,{title:"调节音量","destroy-on-close":"",modelValue:n.state.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.state.show=e),center:"","align-center":"",width:"94%"},{default:(0,l.w5)((()=>[(0,l._)("div",T,[(0,l._)("div",N,[(0,l._)("div",j,[(0,l.Wm)(u,{onChange:n.handleChangeVolume,modelValue:n.state.volume,"onUpdate:modelValue":t[0]||(t[0]=e=>n.state.volume=e)},null,8,["onChange","modelValue"])])])])])),_:1},8,["modelValue"])}var P={props:["modelValue","items"],emits:["update:modelValue"],components:{},setup(e,{emit:t}){const a=(0,V.d)(),n=(0,o.$)(),s=(0,C.qj)({show:e.modelValue,items:(0,l.Fl)((()=>n.value.volume.items)),loading:!1,volume:n.value.volume.items[0].Volume.Value});(0,l.YP)((()=>s.show),(e=>{e||setTimeout((()=>{t("update:modelValue",e)}),300)}));const u=()=>{s.show=!1},r=()=>{(0,b.j)(s.items.map((e=>e.MachineName)),s.volume/100)};return{state:s,globalData:a,handleCancel:u,handleChangeVolume:r}}};const M=(0,I.Z)(P,[["render",z],["__scopeId","data-v-3eebbdd1"]]);var L=M,E={components:{Volume:U,VolumeSingle:L},setup(){const e=(0,o.$)();return{pluginState:e}}};const F=(0,I.Z)(E,[["render",n]]);var R=F},963:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleVolumeMute,"model-value":n.data.Volume.Mute,"inline-prompt":"","active-text":"静音","inactive-text":"静音"},null,8,["onClick","model-value"])])),_:1})}var o=a(8048),s=a(6e3),u=a(7178),r=a(2115),i={sort:0,props:["data"],setup(e){(0,r.$)();const t=()=>{let t=e.data.Volume.Mute?"确定取消静音吗？":"确定静音吗？";s.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.H)([e.data.MachineName],!e.data.Volume.Mute).then((e=>{e?u.z8.success("操作成功"):u.z8.error("操作失败")})).catch((()=>{u.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleVolumeMute:t}}},d=a(89);const c=(0,d.Z)(i,[["render",n]]);var m=c},9948:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);function n(e,t,a,n,o,s){const u=(0,l.up)("el-switch"),r=(0,l.up)("el-col");return(0,l.wg)(),(0,l.j4)(r,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"small",onClick:n.handleWallpaper,"model-value":n.data.Wallpaper.Value,"inline-prompt":"","active-text":"壁纸","inactive-text":"壁纸"},null,8,["onClick","model-value"])])),_:1})}var o=a(9528),s=a(6e3),u=a(7178),r=a(2115),i={sort:3,props:["data"],setup(e){(0,r.$)();const t=()=>{let t=e.data.Wallpaper.Value?"确定关闭壁纸吗？":"确定开启壁纸吗？";s.T.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,o.i)([e.data.MachineName],!e.data.Wallpaper.Value,`${window.location.origin}/bg.jpg`).then((e=>{e?u.z8.success("操作成功"):u.z8.error("操作失败")})).catch((()=>{u.z8.error("操作失败")}))})).catch((()=>{}))};return{data:e.data,handleWallpaper:t}}},d=a(89);const c=(0,d.Z)(i,[["render",n]]);var m=c},2681:function(e,t,a){var l={"./command/BtnLeft.vue":1851,"./message/BtnLeft.vue":2356};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=2681},6532:function(e,t,a){var l={"./active/BtnRight.vue":7153,"./hijack/BtnRight.vue":4368,"./light/BtnRight.vue":2605,"./volume/BtnRight.vue":7187};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=6532},8575:function(e,t,a){var l={"./active/FootMenu.vue":2579,"./device/FootMenu.vue":2026,"./hijack/FootMenu.vue":1405};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=8575},3136:function(e,t,a){var l={"./command/FootOptionBottom.vue":5147,"./hijack/rules/FootOptionBottom.vue":8921,"./light/FootOptionBottom.vue":7752};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=3136},6736:function(e,t,a){var l={"./active/FootOptionTop.vue":4190,"./message/FootOptionTop.vue":7124,"./volume/FootOptionTop.vue":3767};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=6736},138:function(e,t,a){var l={"./active/Index.vue":3940,"./active/windows/Index.vue":6478,"./command/Index.vue":6447,"./device/Index.vue":9550,"./hijack/Index.vue":2594,"./hijack/process/Index.vue":2833,"./hijack/rules/Index.vue":5178,"./light/Index.vue":2943,"./message/Index.vue":1735,"./volume/Index.vue":9602};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=138},7138:function(e,t,a){var l={"./active/Screen.vue":4214,"./share/Screen.vue":4100};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=7138},120:function(e,t,a){var l={"./share/TitleLeft.vue":2592};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=120},2648:function(e,t,a){var l={"./hijack/TitleRight.vue":2850};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=2648},345:function(e,t,a){var l={"./llock/Option.vue":6542,"./report/Option.vue":8202,"./usb/Option.vue":2972,"./volume/Option.vue":963,"./wallpaper/Option.vue":9948};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=345},4711:function(e,t,a){var l={"./active/index.js":3325,"./command/index.js":1459,"./device/index.js":181,"./hijack/index.js":1868,"./light/index.js":1958,"./llock/index.js":6458,"./message/index.js":2852,"./report/index.js":619,"./screen/index.js":5908,"./share/index.js":6194,"./system/index.js":5817,"./usb/index.js":464,"./volume/index.js":5507,"./wallpaper/index.js":7242};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id=4711}}]);